(function(Se,zh){function q(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function vi(a){return a instanceof Array?function(){return I.iter(a)}:"function"==typeof a.iterator?p(a,a.iterator):a.iterator}function p(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=wi++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}Se.openfl=Se.openfl||{};Se.lime=Se.lime||{};var h={},B=function(){return w.__string_rec(this,"")},Za=function(){};h.ApplicationMain=Za;Za.__name__=["ApplicationMain"];Za.main=function(){Za.config={build:"351",company:"vroad",file:"Demo_Web",fps:60,name:"demo_web",orientation:"portrait",packageName:"com.demoweb",version:"1.0.0",windows:[{allowHighDPI:!1,antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,
hardware:!0,height:480,hidden:null,maximized:null,minimized:null,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"demo_web",vsync:!0,width:320,x:null,y:null}]}};Za.create=function(){var a=new Te;a.create(Za.config);var b=new Ue;va.registerLibrary("default",b);Za.preloader=new Ve(new We);a.setPreloader(Za.preloader);Za.preloader.create(Za.config);Za.preloader.onComplete.add(Za.init);Za.preloader.addLibrary(b);Za.preloader.load();a.exec()};Za.embed=Se.lime.embed=function(a,b,c,d,e){var f=null,f=
"string"==typeof a?window.document.getElementById(w.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&""!=d&&(d=ba.replace(d,"#",""),a=-1<d.indexOf("0x")?E.parseInt(d):E.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);Za.config.windows[0].background=a;Za.config.windows[0].element=f;Za.config.windows[0].width=b;Za.config.windows[0].height=c;Za.config.assetsPrefix=e;Za.create()};Za._embed=Se.openfl.embed=function(a,b,c,d,e){Za.embed(a,b,c,d,e)};Za.init=function(){Za.preloader=
null;Za.start()};Za.start=function(){try{new Xe}catch(a){a instanceof n&&(a=a.val),oa.current.stage.__handleError(a)}oa.current.stage.dispatchEvent(new Z("resize",!1,!1));oa.current.stage.window.__fullscreen&&oa.current.stage.dispatchEvent(new Ld("fullScreen",!1,!1,!0,!0))};var fi=function(){};h["openfl.events.IEventDispatcher"]=fi;fi.__name__=["openfl","events","IEventDispatcher"];var pa=function(a){null!=a&&(this.__targetDispatcher=a)};h["openfl.events.EventDispatcher"]=pa;pa.__name__=["openfl",
"events","EventDispatcher"];pa.__interfaces__=[fi];pa.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};pa.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);if(null!=b)if(null==this.__eventMap&&(this.__eventMap=new T,this.__iterators=new T),e=this.__eventMap,null!=m[a]?e.existsReserved(a):e.h.hasOwnProperty(a)){e=this.__eventMap;e=null!=m[a]?e.getReserved(a):e.h[a];for(var f=
0,g=e.length;f<g;){var l=f++;if(e[l].match(b,c))return}f=this.__iterators;a=null!=m[a]?f.getReserved(a):f.h[a];for(f=0;f<a.length;)g=a[f],++f,g.active&&g.copy();e.push(new Ye(b,c,d));e.sort(pa.__sortByPriority)}else e=[],e.push(new Ye(b,c,d)),b=new Ze(e),c=this.__eventMap,null!=m[a]?c.setReserved(a,e):c.h[a]=e,c=this.__iterators,b=[b],null!=m[a]?c.setReserved(a,b):c.h[a]=b},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},
hasEventListener:function(a){if(null==this.__eventMap)return!1;var b=this.__eventMap;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap&&null!=b){var d=this.__eventMap,d=null!=m[a]?d.getReserved(a):d.h[a];if(null!=d){for(var e=this.__iterators,e=null!=m[a]?e.getReserved(a):e.h[a],f=0,g=d.length;f<g;){var l=f++;if(d[l].match(b,c)){for(b=0;b<e.length;)c=e[b],++b,c.remove(d[l],l);d.splice(l,1);break}}0==d.length&&
(this.__eventMap.remove(a),this.__iterators.remove(a));a=this.__eventMap;(new Md(a,a.arrayKeys())).hasNext()||(this.__iterators=this.__eventMap=null)}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!0;var b=a.type,c=this.__eventMap,d=null!=m[b]?c.getReserved(b):c.h[b];if(null==d)return!0;null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;var c=1==a.eventPhase,e=this.__iterators,b=null!=m[b]?e.getReserved(b):e.h[b],e=b[0];
e.active&&(e=new Ze(d),b.push(e));e.reset(d);for(d=e;d.hasNext();){var f=d.next();if(null!=f&&f.useCapture==c&&(f.callback(a),a.__isCanceledNow))break}e!=b[0]&&I.remove(b,e);return!0},__class__:pa};var $e=function(){};h["openfl.display.IBitmapDrawable"]=$e;$e.__name__=["openfl","display","IBitmapDrawable"];$e.prototype={__transform:null,__worldTransform:null,__renderCanvas:null,__renderGL:null,__updateChildren:null,__updateTransforms:null,__class__:$e};var L=function(){pa.call(this);this.__alpha=
1;this.__blendMode=10;this.__cacheAsBitmap=!1;this.__transform=new fa;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__worldAlpha=this.__rotationCosine=1;this.__worldTransform=new fa;this.__worldColorTransform=new Eb;this.__renderTransform=new fa;this.__worldVisible=!0;this.set_name("instance"+ ++L.__instanceCount)};h["openfl.display.DisplayObject"]=L;L.__name__=["openfl","display","DisplayObject"];L.__interfaces__=[$e];L.__super__=pa;L.prototype=q(pa.prototype,{opaqueBackground:null,
parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cairo:null,__children:null,__filters:null,__graphics:null,__isMask:null,__loaderInfo:null,__mask:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__renderTransformCache:null,__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scrollRect:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,
__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":L.__broadcastEvents.exists(a)||L.__broadcastEvents.set(a,[]);var f=L.__broadcastEvents.get(a);-1==f.indexOf(this)&&
f.push(this)}pa.prototype.addEventListener.call(this,a,b,c,d,e)},dispatchEvent:function(a){if(w.__instanceof(a,ja)){var b=this.__getRenderTransform();a.stageX=a.localX*b.a+a.localY*b.c+b.tx;b=this.__getRenderTransform();a.stageY=a.localX*b.b+a.localY*b.d+b.ty}else w.__instanceof(a,Kb)&&(b=this.__getRenderTransform(),a.stageX=a.localX*b.a+a.localY*b.c+b.tx,b=this.__getRenderTransform(),a.stageY=a.localX*b.b+a.localY*b.d+b.ty);return pa.prototype.dispatchEvent.call(this,a)},getBounds:function(a){var b;
null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=fa.__temp,b.identity());a=new O;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();var b=this.__getRenderTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}return a},removeEventListener:function(a,b,c){null==c&&(c=!1);pa.prototype.removeEventListener.call(this,a,b,c);switch(a){case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":this.hasEventListener(a)||
L.__broadcastEvents.exists(a)&&I.remove(L.__broadcastEvents.get(a),this)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null;null!=this.__graphics&&this.__graphics.__cleanup()},__dispatch:function(a){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var b=pa.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:b}return!0},__dispatchChildren:function(a){return this.__dispatchEvent(a)},__dispatchEvent:function(a){var b=pa.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;
a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getRenderTransform:function(){this.__getWorldTransform();return this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||0<L.__worldTransformDirty){var a=
[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;b!=this.stage;)a.push(b),b=b.parent,b!=this.stage&&b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null==d||e||d.push(f),
!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},__renderCairo:function(a){Ah.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&Wa.renderMask(this.__graphics,a)},__renderCanvas:function(a){if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);
var b=a.context,c=this.__renderTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);c=this.opaqueBackground;b.fillStyle="rgb("+(c>>>16&255)+","+(c>>>8&255)+","+(c&255)+")";b.fillRect(0,0,this.get_width(),this.get_height());a.maskManager.popObject(this)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(b=this.__graphics,null!=b)){k.render(b,a,this.__renderTransform);var d=b.__width,e=b.__height;if(null!=b.__canvas){var c=
a.context,f=this.__scrollRect;0<d&&0<e&&(null==f||0<f.width&&0<f.height)&&(a.maskManager.pushObject(this),c.globalAlpha=this.__worldAlpha,d=b.__worldTransform,a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),c.drawImage(b.__canvas,0,0),a.maskManager.popObject(this))}}}},__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a)},__renderDOM:function(a){null!=this.opaqueBackground&&0<this.get_width()&&this.get_height();
var b=this.__graphics;if(null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=b){k.render(b,a,this.__renderTransform);if(b.__dirty||this.__worldAlphaChanged||null==this.__canvas&&null!=b.__canvas)null!=b.__canvas?this.__canvas!=b.__canvas&&(null!=this.__canvas&&a.element.removeChild(this.__canvas),this.__canvas=b.__canvas,this.__context=b.__context,yb.initializeElement(this,this.__canvas,a)):null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null);if(null!=
this.__canvas){a.maskManager.pushObject(this);var c=this.__renderTransform;this.__renderTransform=b.__worldTransform;b.__transformDirty&&(b.__transformDirty=!1,this.__renderTransformChanged=!0);yb.updateClip(this,a);yb.applyStyle(this,a,!0,!0,!0);this.__renderTransform=c;a.maskManager.popObject(this)}}else null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null)},__renderGL:function(a){if(!(null==this.opaqueBackground&&null==this.__graphics||!this.__renderable||
0>=this.__worldAlpha)){if(null!=this.opaqueBackground&&0<this.get_width()&&0<this.get_height()){a.maskManager.pushObject(this);var b=a.gl,c=O.__temp;c.setTo(0,0,this.get_width(),this.get_height());a.maskManager.pushRect(c,this.__renderTransform);c=this.opaqueBackground;b.clearColor((c>>>16&255)/255,(c>>>8&255)/255,(c&255)/255,1);b.clear(b.COLOR_BUFFER_BIT);a.maskManager.popRect();a.maskManager.popObject(this)}if(null!=this.__graphics&&this.__renderable&&!(0>=this.__worldAlpha)&&(b=this.__graphics,
null!=b&&(k.render(b,a,this.__renderTransform),null!=b.__bitmap&&b.__visible))){var c=a.renderer,d=a.gl;a.blendModeManager.setBlendMode(this.get_blendMode());a.maskManager.pushObject(this);var e=a.filterManager.pushObject(this);e.get_data().uImage0.input=b.__bitmap;e.get_data().uImage0.smoothing=a.allowSmoothing;e.get_data().uMatrix.value=c.getMatrix(b.__worldTransform);a.shaderManager.setShader(e);d.bindBuffer(d.ARRAY_BUFFER,b.__bitmap.getBuffer(d,this.__worldAlpha));d.vertexAttribPointer(e.get_data().aPosition.index,
3,d.FLOAT,!1,24,0);d.vertexAttribPointer(e.get_data().aTexCoord.index,2,d.FLOAT,!1,24,12);d.vertexAttribPointer(e.get_data().aAlpha.index,1,d.FLOAT,!1,24,20);d.drawArrays(d.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}}},__setStageReference:function(a){this.stage=a},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__updateTransforms();b&&this.__transformDirty&&
(this.__transformDirty=!1,L.__worldTransformDirty--);null!=c&&this.__updateMask(c);a||(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),null==this.__renderTransformCache?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform),this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),a=null!=this.parent?
this.parent:this.__renderParent,null!=a?(c=a.__worldVisible&&this.get_visible(),this.__worldVisibleChanged=this.__worldVisible!=c,this.__worldVisible=c,a=this.get_alpha()*a.__worldAlpha,this.__worldAlphaChanged=this.__worldAlpha!=a,this.__worldAlpha=a):(this.__worldAlpha=this.get_alpha(),this.__worldVisibleChanged=this.__worldVisible!=this.get_visible(),this.__worldVisible=this.get_visible(),this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),b&&this.__renderDirty&&(this.__renderDirty=!1))},
__updateChildren:function(a){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask&&(null==this.parent||!this.parent.__isMask);this.__worldAlpha=this.get_alpha();this.__transformDirty&&(this.__transformDirty=!1,L.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new O),this.__graphics.__getBounds(a.__bounds,
fa.__identity))},__updateTransforms:function(a){var b=null!=a;a=b?a:this.__transform;null==this.__worldTransform&&(this.__worldTransform=new fa);null==this.__renderTransform&&(this.__renderTransform=new fa);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__renderTransform.copyFrom(a)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=
a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,b=this.parent.__renderTransform,this.__renderTransform.a=a.a*b.a+a.b*b.c,this.__renderTransform.b=a.a*b.b+a.b*b.d,this.__renderTransform.c=a.c*b.a+a.d*b.c,this.__renderTransform.d=a.c*b.b+a.d*b.d,this.__renderTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__renderTransform.ty=a.tx*b.b+a.ty*b.d+b.ty);if(null!=this.__scrollRect){b=this.__renderTransform;a=-this.__scrollRect.x;var c=-this.__scrollRect.y;b.tx=a*b.a+c*b.c+b.tx;b.ty=a*b.b+
c*b.d+b.ty}},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++);return this.__alpha=a},get_blendMode:function(){return this.__blendMode},set_filters:function(a){this.__filters=null!=a&&0<a.length?a:null;this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++);return a},get_height:function(){var a=new O;this.__getBounds(a,this.__transform);return a.height},get_loaderInfo:function(){return null!=
this.stage?oa.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(a){a!=this.__mask&&(this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++));if(null!=this.__mask){this.__mask.__isMask=!1;var b=this.__mask;b.__transformDirty||(b.__transformDirty=!0,L.__worldTransformDirty++);b=this.__mask;b.__renderDirty||(b.__renderDirty=!0,L.__worldRenderDirty++)}null!=a&&(a.__isMask=!0);return this.__mask=
a},get_mouseX:function(){var a=null!=this.stage?this.stage.__mouseX:oa.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:oa.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx))},get_mouseY:function(){var a=null!=this.stage?this.stage.__mouseX:oa.current.stage.__mouseX,b=null!=this.stage?this.stage.__mouseY:oa.current.stage.__mouseY,c=this.__getRenderTransform(),d=c.a*c.d-c.b*c.c;return 0==d?-c.ty:1/d*(c.a*(b-c.ty)+c.b*
(c.tx-a))},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.b)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&
this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*
a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new vg(this));return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++);return this.__visible=
a},get_width:function(){var a=new O;this.__getBounds(a,this.__transform);return a.width},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++);return this.__transform.ty=a},__class__:L,__properties__:{set_y:"set_y",
get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",get_height:"get_height",set_filters:"set_filters",get_blendMode:"get_blendMode",set_alpha:"set_alpha",
get_alpha:"get_alpha"}});var Qa=function(){L.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};h["openfl.display.InteractiveObject"]=Qa;Qa.__name__=["openfl","display","InteractiveObject"];Qa.__super__=L;Qa.prototype=q(L.prototype,{doubleClickEnabled:null,mouseEnabled:null,needsSoftKeyboard:null,tabIndex:null,__tabEnabled:null,__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));
return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:L.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:Qa,__properties__:q(L.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var Fb=function(){Qa.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=qa.toObjectVector(null)};h["openfl.display.DisplayObjectContainer"]=Fb;Fb.__name__=["openfl","display","DisplayObjectContainer"];
Fb.__super__=Qa;Fb.prototype=q(Qa.prototype,{mouseChildren:null,__removedChildren:null,addChild:function(a){return this.addChildAt(a,this.get_numChildren())},addChildAt:function(a,b){if(b>this.__children.length||0>b)throw new n("Invalid index position "+b);if(a.parent==this)this.__children[b]!=a&&(I.remove(this.__children,a),this.__children.splice(b,0,a));else{null!=a.parent&&a.parent.removeChild(a);this.__children.splice(b,0,a);a.parent=this;var c=null!=this.stage&&null==a.stage;c&&this.__setStageReference(this.stage);
a.__transformDirty||(a.__transformDirty=!0,L.__worldTransformDirty++);a.__renderDirty||(a.__renderDirty=!0,L.__worldRenderDirty++);this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++);var d=new Z("added",!0);d.target=a;a.__dispatchEvent(d);c&&a.__dispatchChildren(new Z("addedToStage",!1,!1))}return a},removeChild:function(a){null!=a&&a.parent==this&&(a.__transformDirty||(a.__transformDirty=!0,L.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,L.__worldRenderDirty++),this.__renderDirty||
(this.__renderDirty=!0,L.__worldRenderDirty++),a.__dispatchEvent(new Z("removed",!0)),null!=this.stage&&(null!=a.stage&&this.stage.get_focus()==a&&this.stage.set_focus(null),a.__dispatchChildren(new Z("removedFromStage",!1,!1)),a.__setStageReference(null)),a.parent=null,I.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,L.__worldTransformDirty++));return a},__dispatchChildren:function(a){var b=this.__dispatchEvent(a);if(b&&null!=this.__children)for(var c=
0,d=this.__children;c<d.length;){var e=d[c];++c;a.target=e;if(!e.__dispatchChildren(a))return!1}return b},__enterFrame:function(a){for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){Qa.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=
b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var g=X.__temp;g.setTo(a,b);var l=this.__getRenderTransform(),t=l.a*l.d-l.b*l.c;if(0==t)g.x=-l.tx,g.y=-l.ty;else{var C=1/t*(l.c*(l.ty-g.y)+l.d*(g.x-l.tx));g.y=1/t*(l.a*(g.y-l.ty)+l.b*(l.tx-g.x));g.x=C}if(!this.__scrollRect.containsPoint(g))return!1}g=
this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--g;){if(this.__children[g].__hitTest(a,b,c,null,!0,this.__children[g]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(t=l=!1;0<=--g&&!(((l=this.__children[g].__getInteractive(null))||this.mouseEnabled&&!t)&&this.__children[g].__hitTest(a,b,c,d,!0,this.__children[g])&&(t=!0,l)););if(t)return d.splice(e,0,f),!0}}else for(;0<=--g;)this.__children[g].__hitTest(a,b,c,d,!1,this.__children[g]);return!1},__hitTestMask:function(a,
b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Qa.prototype.__renderCairo.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.maskManager.popObject(this)}},__renderCairoMask:function(a){null!=
this.__graphics&&Wa.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Qa.prototype.__renderCanvas.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.maskManager.popObject(this)}},
__renderCanvasMask:function(a){null!=this.__graphics&&k.renderMask(this.__graphics,a);var b=new O;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){Qa.prototype.__renderDOM.call(this,a);a.maskManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__renderDOM(a);this.__removedChildren.set_length(0);a.maskManager.popObject(this)},
__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){Qa.prototype.__renderGL.call(this,a);a.maskManager.pushObject(this);a.filterManager.pushObject(this);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}b=0;for(c=this.__removedChildren;b<c.get_length();)d=c.get(b),++b,null==d.stage&&d.__cleanup();this.__removedChildren.set_length(0);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__setStageReference:function(a){Qa.prototype.__setStageReference.call(this,
a);if(null!=this.__children)for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){Qa.prototype.__update.call(this,a,b,c);if(b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){Qa.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:Fb,__properties__:q(Qa.prototype.__properties__,
{get_numChildren:"get_numChildren"})});var Gb=function(){Fb.call(this);this.buttonMode=!1;this.useHandCursor=!0};h["openfl.display.Sprite"]=Gb;Gb.__name__=["openfl","display","Sprite"];Gb.__super__=Fb;Gb.prototype=q(Fb.prototype,{buttonMode:null,dropTarget:null,hitArea:null,useHandCursor:null,__getCursor:function(){return this.buttonMode&&this.useHandCursor?U.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,
b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(null!=this.__scrollRect){var g=X.__temp;g.setTo(a,b);var l=this.__getRenderTransform(),t=l.a*l.d-l.b*l.c;if(0==t)g.x=-l.tx,g.y=-l.ty;else{var C=1/t*(l.c*(l.ty-g.y)+l.d*(g.x-l.tx));g.y=1/t*(l.a*(g.y-l.ty)+l.b*(l.tx-g.x));g.x=C}if(!this.__scrollRect.containsPoint(g))return!1}if(Fb.prototype.__hitTest.call(this,
a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getRenderTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return Fb.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getRenderTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new pe(this));return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled?!0:this.buttonMode},
__class__:Gb,__properties__:q(Fb.prototype.__properties__,{get_graphics:"get_graphics"})});var Nd=function(){Gb.call(this);null!=this.stage?this.start():this.addEventListener("addedToStage",p(this,this.onAddedToStage))};h.Demo_Web=Nd;Nd.__name__=["Demo_Web"];Nd.__super__=Gb;Nd.prototype=q(Gb.prototype,{_starling:null,_background:null,_progressBar:null,onAddedToStage:function(a){this.removeEventListener("addedToStage",p(this,this.onAddedToStage));this.start()},start:function(){var a=this;x.set_multitouchEnabled(!0);
this._starling=new x(fb,this.stage,new O(0,0,320,480));this._starling.set_simulateMultitouch(!0);this._starling.set_skipUnchangedFrames(!0);this._starling.set_enableErrorChecking(Zc.isDebugger);this._starling.addEventListener("rootCreated",function(){a.loadAssets(p(a,a.startGame))});this.stage.addEventListener("resize",p(this,this.onResize),!1,2147483647,!0);this._starling.start();this.initElements()},loadAssets:function(a){var b=new ud;b.set_verbose(Zc.isDebugger);vc.delay(function(){var c=da.fromBitmapData($a.getBitmapData("assets/textures/1x/atlas.png"),
!1),d=P.parse($a.getText("assets/textures/1x/atlas.xml")),e=da.fromBitmapData($a.getBitmapData("assets/fonts/1x/desyrel.png"),!1),f=P.parse($a.getText("assets/fonts/1x/desyrel.fnt"));ka.registerBitmapFont(new Zb(e,f));b.addTexture("atlas",c);b.addTextureAtlas("atlas",new qe(c,d));c=da.fromBitmapData($a.getBitmapData("assets/textures/1x/background.jpg"),!1);b.addTexture("background",c);c=$a.getSound("assets/audio/wing_flap.ogg");b.addSound("wing_flap",c);a(b)},0)},startGame:function(a){w.__cast(this._starling.get_root(),
fb).start(a);vc.delay(p(this,this.removeElements),150)},initElements:function(){},removeElements:function(){null!=this._background&&(this.removeChild(this._background),this._background=null);null!=this._progressBar&&(this.removeChild(this._progressBar),this._progressBar=null)},onResize:function(a){a=aa.fit(new O(0,0,Ra.GameWidth,Ra.GameHeight),new O(0,0,this.stage.stageWidth,this.stage.stageHeight));try{this._starling.set_viewPort(a)}catch(b){if(b instanceof n&&(b=b.val),!w.__instanceof(b,wa))throw b;
}},__class__:Nd});var Xe=function(){oa.current.addChild(this);Nd.call(this);this.dispatchEvent(new Z("addedToStage",!1,!1))};h.DocumentClass=Xe;Xe.__name__=["DocumentClass"];Xe.__super__=Nd;Xe.prototype=q(Nd.prototype,{__class__:Xe});var Ra=function(){};h.Constants=Ra;Ra.__name__=["Constants"];var $c=function(){this.types=new T;this.preload=new T;this.paths=new T;this.classTypes=new T;this.cachedText=new T;this.cachedImages=new T;this.cachedFonts=new T;this.cachedBytes=new T;this.cachedAudioBuffers=
new T;this.onChange=new ub};h["lime.utils.AssetLibrary"]=$c;$c.__name__=["lime","utils","AssetLibrary"];$c.prototype={onChange:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,paths:null,preload:null,progressBytesLoadedCache:null,progressBytesLoaded:null,progressBytesTotal:null,progressLoaded:null,progressTotal:null,promise:null,types:null,exists:function(a,b){var c=null!=b?w.__cast(b,String):null,d=this.types,d=null!=m[a]?d.getReserved(a):
d.h[a];return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw new n("Not sure how to get template: "+a);case "TEXT":return this.getText(a);default:throw new n("Unknown asset type: "+b);}},getAudioBuffer:function(a){var b=
this.cachedAudioBuffers;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,null!=m[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,zb.fromBytes(w.__cast(ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]),gb));b=this.paths;return zb.fromFile(null!=m[a]?b.getReserved(a):b.h[a])},getBytes:function(a){var b=this.cachedBytes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=
this.cachedBytes,null!=m[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,w.__cast(ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]),gb);b=this.paths;return fd.fromFile(null!=m[a]?b.getReserved(a):b.h[a])},getFont:function(a){var b=this.cachedFonts;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,null!=m[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=m[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return b=this.classTypes,w.__cast(ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]),Lb);b=this.paths;return Lb.fromFile(null!=m[a]?b.getReserved(a):b.h[a])},getImage:function(a){var b=this.cachedImages;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedImages,null!=m[a]?b.getReserved(a):b.h[a];b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,w.__cast(ea.createInstance(null!=m[a]?b.getReserved(a):
b.h[a],[]),ra);b=this.paths;return ra.fromFile(null!=m[a]?b.getReserved(a):b.h[a])},getText:function(a){var b=this.cachedText;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedText,null!=m[a]?b.getReserved(a):b.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){var c=this.classTypes;if(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return!0;switch(null!=b?w.__cast(b,String):null){case "IMAGE":return this.cachedImages.exists(a);
case "MUSIC":case "SOUND":return this.cachedAudioBuffers.exists(a);default:return this.cachedBytes.exists(a)?!0:this.cachedText.exists(a)}},load:function(){if(null==this.promise){this.promise=new ic;this.progressBytesLoadedCache=new T;this.progressLoaded=0;this.progressTotal=1;for(var a=this.preload.keys();a.hasNext();){var b=a.next(),c=this.types.get(b);if(null!=c)switch(c){case "BINARY":this.progressTotal++;c=this.loadBytes(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],
[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadBytes_onComplete)]));break;case "FONT":this.progressTotal++;c=this.loadFont(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,
b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadFont_onComplete)]));break;case "IMAGE":this.progressTotal++;c=this.loadImage(b);c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadImage_onComplete)]));break;case "MUSIC":case "SOUND":this.progressTotal++;c=this.loadAudioBuffer(b);
c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[p(this,this.load_onProgress)]));c.onError(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.load_onError)]));c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadAudioBuffer_onComplete)]));break;case "TEXT":this.progressTotal++,c=this.loadText(b),c.onProgress(function(a,b){return function(c,g){b[0](a[0],c,g)}}([b],[p(this,this.load_onProgress)])),c.onError(function(a,b){return function(c){b[0](a[0],
c)}}([b],[p(this,this.load_onError)])),c.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([b],[p(this,this.loadText_onComplete)]))}}this.updateProgressLoaded()}return this.promise.future},loadAudioBuffer:function(a){var b=this.cachedAudioBuffers;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedAudioBuffers,$b.withValue(null!=m[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,$b.withValue(ea.createInstance(null!=
m[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return zb.loadFromFile(null!=m[a]?b.getReserved(a):b.h[a])},loadBytes:function(a){var b=this.cachedBytes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedBytes,$b.withValue(null!=m[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,$b.withValue(ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return fd.loadFromFile(null!=m[a]?b.getReserved(a):
b.h[a])},loadFont:function(a){var b=this.cachedFonts;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.cachedFonts,$b.withValue(null!=m[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,a=ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]),Lb.loadFromName(a.name);b=this.paths;return Lb.loadFromName(null!=m[a]?b.getReserved(a):b.h[a])},loadImage:function(a){var b=this.cachedImages;if(null!=m[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))return b=this.cachedImages,$b.withValue(null!=m[a]?b.getReserved(a):b.h[a]);b=this.classTypes;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.classTypes,$b.withValue(ea.createInstance(null!=m[a]?b.getReserved(a):b.h[a],[]));b=this.paths;return ra.loadFromFile(null!=m[a]?b.getReserved(a):b.h[a])},loadText:function(a){var b=this.cachedText;return(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?(b=this.cachedText,$b.withValue(null!=m[a]?b.getReserved(a):
b.h[a])):this.loadBytes(a).then(function(a){return new $b(function(){return null==a?null:a.getString(0,a.length)},!0)})},unload:function(){},updateProgressLoaded:function(){this.progressLoaded++;this.progressLoaded==this.progressTotal&&this.promise.complete(this)},loadAudioBuffer_onComplete:function(a,b){var c=this.cachedAudioBuffers;null!=m[a]?c.setReserved(a,b):c.h[a]=b;this.updateProgressLoaded()},loadBytes_onComplete:function(a,b){var c=this.cachedBytes;null!=m[a]?c.setReserved(a,b):c.h[a]=b;
this.updateProgressLoaded()},loadFont_onComplete:function(a,b){var c=this.cachedFonts;null!=m[a]?c.setReserved(a,b):c.h[a]=b;this.updateProgressLoaded()},loadImage_onComplete:function(a,b){var c=this.cachedImages;null!=m[a]?c.setReserved(a,b):c.h[a]=b;this.updateProgressLoaded()},loadText_onComplete:function(a,b){var c=this.cachedText;null!=m[a]?c.setReserved(a,b):c.h[a]=b;this.updateProgressLoaded()},load_onError:function(a,b){this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,
b,c){var d=this.progressBytesLoadedCache;(null!=m[a]?d.existsReserved(a):d.h.hasOwnProperty(a))?(c=this.progressBytesLoadedCache,c=null!=m[a]?c.getReserved(a):c.h[a],this.progressBytesLoaded+=b-c,c=this.progressBytesLoadedCache,null!=m[a]?c.setReserved(a,b):c.h[a]=b,this.promise.progress(this.progressBytesLoaded,this.progressBytesTotal)):0<c&&(d=this.progressBytesLoadedCache,null!=m[a]?d.setReserved(a,b):d.h[a]=b,this.progressBytesLoaded+=b,this.progressBytesTotal+=c)},__class__:$c};var Ue=function(){this.rootPath=
"";$c.call(this);Qb.registerFont(af);var a="assets/audio/wing_flap.ogg",b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"SOUND"):b.h[a]="SOUND";a="assets/textures/1x/atlas.png";b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"IMAGE"):b.h[a]="IMAGE";a="assets/textures/1x/atlas.xml";b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"TEXT"):b.h[a]="TEXT";a="assets/textures/1x/background.jpg";
b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"IMAGE"):b.h[a]="IMAGE";a="assets/textures/1x/compressed_texture.atf";b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"BINARY"):b.h[a]="BINARY";a="assets/fonts/1x/desyrel.fnt";b=this.paths;null!=m[a]?b.setReserved(a,a):b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"TEXT"):b.h[a]="TEXT";a="assets/fonts/1x/desyrel.png";b=this.paths;null!=m[a]?b.setReserved(a,a):
b.h[a]=a;b=this.types;null!=m[a]?b.setReserved(a,"IMAGE"):b.h[a]="IMAGE";var a="assets/fonts/Ubuntu-R.ttf",b=this.classTypes,c=re;null!=m[a]?b.setReserved(a,c):b.h[a]=c;b=this.preload;null!=m[a]?b.setReserved(a,!0):b.h[a]=!0;b=this.types;null!=m[a]?b.setReserved(a,"FONT"):b.h[a]="FONT";a=null;null!=Za.config&&Object.prototype.hasOwnProperty.call(Za.config,"assetsPrefix")&&(a=Za.config.assetsPrefix);if(null!=a)for(b=this.paths.keys();b.hasNext();){var c=b.next(),d=this.paths,e=this.paths,e=a+(null!=
m[c]?e.getReserved(c):e.h[c]);null!=m[c]?d.setReserved(c,e):d.h[c]=e}for(a=this.paths.keys();a.hasNext();)b=a.next(),c=this.preload,null!=m[b]?c.setReserved(b,!0):c.h[b]=!0};h.DefaultAssetLibrary=Ue;Ue.__name__=["DefaultAssetLibrary"];Ue.__super__=$c;Ue.prototype=q($c.prototype,{lastModified:null,timer:null,rootPath:null,__class__:Ue});var Lb=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};h["lime.text.Font"]=Lb;Lb.__name__=["lime","text","Font"];Lb.fromFile=
function(a){if(null==a)return null;var b=new Lb;b.__fromFile(a);return b};Lb.loadFromName=function(a){return(new Lb).__loadFromName(a)};Lb.prototype={name:null,src:null,__fontPath:null,__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new ic;this.name=a;if(window.document.fonts&&(vd=window.document.fonts,p(vd,vd.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)});else{var d=window.document.createElement("span");d.innerHTML="giItT1WQy@!-/#";
var e=d.style;e.position="absolute";e.left="-10000px";e.top="-10000px";e.fontSize="300px";e.fontFamily="sans-serif";e.fontVariant="normal";e.fontStyle="normal";e.fontWeight="normal";e.letterSpacing="0";window.document.body.appendChild(d);var f=d.offsetWidth;e.fontFamily="'"+a+"', sans-serif";var g=null,l=!1;a=function(){if(d.offsetWidth!=f){if(!l)return l=!0,!1;null!=g&&window.clearInterval(g);d.parentNode.removeChild(d);d=null;c.complete(b);return!0}return!1};a()||(g=window.setInterval(a,50))}return c.future},
__class__:Lb};var re=function(){Lb.call(this);this.name="Ubuntu"};h.__ASSET__assets_fonts_ubuntu_r_ttf=re;re.__name__=["__ASSET__assets_fonts_ubuntu_r_ttf"];re.__super__=Lb;re.prototype=q(Lb.prototype,{__class__:re});var Qb=function(a){Lb.call(this,a)};h["openfl.text.Font"]=Qb;Qb.__name__=["openfl","text","Font"];Qb.enumerateFonts=function(a){return Qb.__registeredFonts};Qb.fromFile=function(a){var b=new Qb;b.__fromFile(a);return b};Qb.registerFont=function(a){a=w.__cast(ea.createInstance(a,[]),Qb);
null!=a&&Qb.__registeredFonts.push(a)};Qb.__super__=Lb;Qb.prototype=q(Lb.prototype,{fontStyle:null,__class__:Qb});var af=function(){var a=new re;this.src=a.src;this.name=a.name;Lb.call(this,void 0)};h.__ASSET__OPENFL__assets_fonts_ubuntu_r_ttf=af;af.__name__=["__ASSET__OPENFL__assets_fonts_ubuntu_r_ttf"];af.__super__=Qb;af.prototype=q(Qb.prototype,{__class__:af});var Rb=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};h.EReg=Rb;Rb.__name__=["EReg"];Rb.prototype={r:null,match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new n("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new n("No string matched");var a=this.r.m.index+this.r.m[0].length;return I.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new n("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==
c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:I.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?I.substr(a,b,null):I.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:Rb};var Ja=function(){};h["starling.events.EventDispatcher"]=Ja;Ja.__name__=["starling","events","EventDispatcher"];Ja.prototype={_eventListeners:null,addEventListener:function(a,
b){null==this._eventListeners&&(this._eventListeners=new T);var c=this._eventListeners,c=null!=m[a]?c.getReserved(a):c.h[a];if(null==c){var c=[b],d=this._eventListeners;null!=m[a]?d.setReserved(a,c):d.h[a]=c}else-1==c.indexOf(b)&&(c[c.length]=b)},removeEventListener:function(a,b){if(null!=this._eventListeners){var c=this._eventListeners,d=null!=m[a]?c.getReserved(a):c.h[a],e=null!=d?d.length:0;if(0<e){var f=d.indexOf(b);if(-1!=f){c=d.slice(0,f);for(f+=1;f<e;){var g=f++;c[g-1]=d[g]}d=this._eventListeners;
null!=m[a]?d.setReserved(a,c):d.h[a]=c}}}},removeEventListeners:function(a){null!=a&&null!=this._eventListeners?this._eventListeners.remove(a):this._eventListeners=null},dispatchEvent:function(a){var b=a.get_bubbles(),c;if(b)c=!1;else if(null!=this._eventListeners){c=this._eventListeners;var d=a.get_type();c=!(null!=m[d]?c.existsReserved(d):c.h.hasOwnProperty(d))}else c=!0;c||(c=a.get_target(),a.setTarget(this),b&&w.__instanceof(this,V)?this.bubbleEvent(a):this.invokeEvent(a),null!=c&&a.setTarget(c))},
invokeEvent:function(a){var b;if(null!=this._eventListeners){b=this._eventListeners;var c=a.get_type();b=null!=m[c]?b.getReserved(c):b.h[c]}else b=null;c=null==b?0:b.length;if(0!=c){a.setCurrentTarget(this);for(var d=0;d<c;){var e=d++;(0,b[e])(a,a.get_data());if(a.get_stopsImmediatePropagation())return!0}return a.get_stopsPropagation()}return!1},bubbleEvent:function(a){var b,c=w.__cast(this,V),d=1;0<Ja.sBubbleChains.length?(b=Ja.sBubbleChains.pop(),b[0]=c):b=[c];for(;;){c=c.get_parent();if(null==
c)break;b[d++]=c}for(c=0;c<d;){var e=c++;if(b[e].invokeEvent(a))break}b=[];Ja.sBubbleChains[Ja.sBubbleChains.length]=b},dispatchEventWith:function(a,b,c){null==b&&(b=!1);if(b||this.hasEventListener(a))a=bb.fromPool(a,b,c),this.dispatchEvent(a),bb.toPool(a)},hasEventListener:function(a,b){var c;null!=this._eventListeners?(c=this._eventListeners,c=null!=m[a]?c.getReserved(a):c.h[a]):c=null;return null==c?!1:null!=b?-1!=c.indexOf(b):0!=c.length},__class__:Ja};var bf=function(a,b,c,d,e,f){null==f&&(f=
0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};h["lime.math.Matrix3"]=bf;bf.__name__=["lime","math","Matrix3"];bf.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},__class__:bf};var fa=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;
this.d=d;this.tx=e;this.ty=f};h["openfl.geom.Matrix"]=fa;fa.__name__=["openfl","geom","Matrix"];fa.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new fa(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=
a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},equals:function(a){return null!=a&&this.tx==a.tx&&this.ty==a.ty&&this.a==a.a&&this.b==a.b&&this.c==a.c?this.d==a.d:!1},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;
this.tx=a}return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},setTo:function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f},transformPoint:function(a){return new X(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+
this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__toMatrix3:function(){fa.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);return fa.__matrix3},__class__:fa};var jb=function(a){if(null!=a&&16==a.get_length())this.rawData=a;else{a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b}};h["openfl.geom.Matrix3D"]=jb;jb.__name__=["openfl","geom","Matrix3D"];jb.prototype={rawData:null,append:function(a){var b=
this.rawData.get(0),c=this.rawData.get(4),d=this.rawData.get(8),e=this.rawData.get(12),f=this.rawData.get(1),g=this.rawData.get(5),l=this.rawData.get(9),t=this.rawData.get(13),C=this.rawData.get(2),h=this.rawData.get(6),D=this.rawData.get(10),Bh=this.rawData.get(14),k=this.rawData.get(3),p=this.rawData.get(7),m=this.rawData.get(11),v=this.rawData.get(15),n=a.rawData.get(0),q=a.rawData.get(4),r=a.rawData.get(8),u=a.rawData.get(12),y=a.rawData.get(1),w=a.rawData.get(5),A=a.rawData.get(9),x=a.rawData.get(13),
z=a.rawData.get(2),B=a.rawData.get(6),E=a.rawData.get(10),F=a.rawData.get(14),G=a.rawData.get(3),H=a.rawData.get(7),I=a.rawData.get(11);a=a.rawData.get(15);this.rawData.set(0,b*n+f*q+C*r+k*u);this.rawData.set(1,b*y+f*w+C*A+k*x);this.rawData.set(2,b*z+f*B+C*E+k*F);this.rawData.set(3,b*G+f*H+C*I+k*a);this.rawData.set(4,c*n+g*q+h*r+p*u);this.rawData.set(5,c*y+g*w+h*A+p*x);this.rawData.set(6,c*z+g*B+h*E+p*F);this.rawData.set(7,c*G+g*H+h*I+p*a);this.rawData.set(8,d*n+l*q+D*r+m*u);this.rawData.set(9,d*
y+l*w+D*A+m*x);this.rawData.set(10,d*z+l*B+D*E+m*F);this.rawData.set(11,d*G+l*H+D*I+m*a);this.rawData.set(12,e*n+t*q+Bh*r+v*u);this.rawData.set(13,e*y+t*w+Bh*A+v*x);this.rawData.set(14,e*z+t*B+Bh*E+v*F);this.rawData.set(15,e*G+t*H+Bh*I+v*a)},appendRotation:function(a,b,c){var d,e,f=0;d=e=f;null!=c&&(d=c.x,e=c.y,f=c.z);c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);var g=b.x,l=b.y;b=b.z;var t=g*g,C=l*l,h=b*b,D=t+C+h;if(0!=D){var k=Math.sqrt(D),g=g/k,l=l/k;b/=k;t/=D;C/=D;h/=D}var D=1-a,k=new jb,Ha=k.rawData;
Ha.set(0,t+(C+h)*a);Ha.set(1,g*l*D+b*c);Ha.set(2,g*b*D-l*c);Ha.set(4,g*l*D-b*c);Ha.set(5,C+(t+h)*a);Ha.set(6,l*b*D+g*c);Ha.set(8,g*b*D+l*c);Ha.set(9,l*b*D-g*c);Ha.set(10,h+(t+C)*a);Ha.set(12,(d*(C+h)-g*(e*l+f*b))*D+(e*b-f*l)*c);Ha.set(13,(e*(t+h)-l*(d*g+f*b))*D+(f*g-d*b)*c);Ha.set(14,(f*(t+C)-b*(d*g+e*l))*D+(d*l-e*g)*c);this.append(k)},appendScale:function(a,b,c){a=[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];b=qa.toFloatVector(null);c=0;for(var d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.append(new jb(b))},
appendTranslation:function(a,b,c){var d=this.rawData;d.set(12,d.get(12)+a);a=this.rawData;a.set(13,a.get(13)+b);b=this.rawData;b.set(14,b.get(14)+c)},copyFrom:function(a){this.rawData=a.rawData.copy()},copyRawDataFrom:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=a.get_length()-b;d<e;){var f=d++;this.rawData.set(f,a.get(f+b))}c&&this.transpose()},copyRawDataTo:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);c&&this.transpose();for(var d=0,e=this.rawData.get_length();d<
e;){var f=d++;a.set(f+b,this.rawData.get(f))}c&&this.transpose()},identity:function(){for(var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}this.rawData=b},invert:function(){var a=this.get_determinant(),b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData.get(0),d=this.rawData.get(4),e=this.rawData.get(8),f=this.rawData.get(12),g=this.rawData.get(1),l=this.rawData.get(5),t=this.rawData.get(9),C=this.rawData.get(13),h=this.rawData.get(2),D=
this.rawData.get(6),k=this.rawData.get(10),Ha=this.rawData.get(14),p=this.rawData.get(3),m=this.rawData.get(7),v=this.rawData.get(11),n=this.rawData.get(15);this.rawData.set(0,a*(l*(k*n-Ha*v)-t*(D*n-Ha*m)+C*(D*v-k*m)));this.rawData.set(1,-a*(g*(k*n-Ha*v)-t*(h*n-Ha*p)+C*(h*v-k*p)));this.rawData.set(2,a*(g*(D*n-Ha*m)-l*(h*n-Ha*p)+C*(h*m-D*p)));this.rawData.set(3,-a*(g*(D*v-k*m)-l*(h*v-k*p)+t*(h*m-D*p)));this.rawData.set(4,-a*(d*(k*n-Ha*v)-e*(D*n-Ha*m)+f*(D*v-k*m)));this.rawData.set(5,a*(c*(k*n-Ha*v)-
e*(h*n-Ha*p)+f*(h*v-k*p)));this.rawData.set(6,-a*(c*(D*n-Ha*m)-d*(h*n-Ha*p)+f*(h*m-D*p)));this.rawData.set(7,a*(c*(D*v-k*m)-d*(h*v-k*p)+e*(h*m-D*p)));this.rawData.set(8,a*(d*(t*n-C*v)-e*(l*n-C*m)+f*(l*v-t*m)));this.rawData.set(9,-a*(c*(t*n-C*v)-e*(g*n-C*p)+f*(g*v-t*p)));this.rawData.set(10,a*(c*(l*n-C*m)-d*(g*n-C*p)+f*(g*m-l*p)));this.rawData.set(11,-a*(c*(l*v-t*m)-d*(g*v-t*p)+e*(g*m-l*p)));this.rawData.set(12,-a*(d*(t*Ha-C*k)-e*(l*Ha-C*D)+f*(l*k-t*D)));this.rawData.set(13,a*(c*(t*Ha-C*k)-e*(g*Ha-
C*h)+f*(g*k-t*h)));this.rawData.set(14,-a*(c*(l*Ha-C*D)-d*(g*Ha-C*h)+f*(g*D-l*h)));this.rawData.set(15,a*(c*(l*k-t*D)-d*(g*k-t*h)+e*(g*D-l*h)))}return b},prepend:function(a){var b=a.rawData.get(0),c=a.rawData.get(4),d=a.rawData.get(8),e=a.rawData.get(12),f=a.rawData.get(1),g=a.rawData.get(5),l=a.rawData.get(9),t=a.rawData.get(13),C=a.rawData.get(2),h=a.rawData.get(6),D=a.rawData.get(10),k=a.rawData.get(14),Ha=a.rawData.get(3),p=a.rawData.get(7),m=a.rawData.get(11);a=a.rawData.get(15);var n=this.rawData.get(0),
q=this.rawData.get(4),r=this.rawData.get(8),u=this.rawData.get(12),y=this.rawData.get(1),w=this.rawData.get(5),A=this.rawData.get(9),x=this.rawData.get(13),z=this.rawData.get(2),B=this.rawData.get(6),E=this.rawData.get(10),F=this.rawData.get(14),G=this.rawData.get(3),H=this.rawData.get(7),I=this.rawData.get(11),J=this.rawData.get(15);this.rawData.set(0,b*n+f*q+C*r+Ha*u);this.rawData.set(1,b*y+f*w+C*A+Ha*x);this.rawData.set(2,b*z+f*B+C*E+Ha*F);this.rawData.set(3,b*G+f*H+C*I+Ha*J);this.rawData.set(4,
c*n+g*q+h*r+p*u);this.rawData.set(5,c*y+g*w+h*A+p*x);this.rawData.set(6,c*z+g*B+h*E+p*F);this.rawData.set(7,c*G+g*H+h*I+p*J);this.rawData.set(8,d*n+l*q+D*r+m*u);this.rawData.set(9,d*y+l*w+D*A+m*x);this.rawData.set(10,d*z+l*B+D*E+m*F);this.rawData.set(11,d*G+l*H+D*I+m*J);this.rawData.set(12,e*n+t*q+k*r+a*u);this.rawData.set(13,e*y+t*w+k*A+a*x);this.rawData.set(14,e*z+t*B+k*E+a*F);this.rawData.set(15,e*G+t*H+k*I+a*J)},prependTranslation:function(a,b,c){var d=new jb;d.set_position(new Hb(a,b,c));this.prepend(d)},
transpose:function(){var a=this.rawData.copy();this.rawData.set(1,a.get(4));this.rawData.set(2,a.get(8));this.rawData.set(3,a.get(12));this.rawData.set(4,a.get(1));this.rawData.set(6,a.get(9));this.rawData.set(7,a.get(13));this.rawData.set(8,a.get(2));this.rawData.set(9,a.get(6));this.rawData.set(11,a.get(14));this.rawData.set(12,a.get(3));this.rawData.set(13,a.get(7));this.rawData.set(14,a.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*
(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*
(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},set_position:function(a){this.rawData.set(12,a.x);this.rawData.set(13,a.y);this.rawData.set(14,
a.z);return a},__class__:jb,__properties__:{set_position:"set_position",get_determinant:"get_determinant"}};var qa={};h["openfl._Vector.Vector_Impl_"]=qa;qa.__name__=["openfl","_Vector","Vector_Impl_"];qa.toIntVector=function(a,b,c){return new cf(b,c)};qa.toFloatVector=function(a,b,c){return new se(b,c)};qa.toObjectVector=function(a,b,c){return new te(b,c)};var X=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["openfl.geom.Point"]=X;X.__name__=["openfl","geom","Point"];X.distance=
function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};X.interpolate=function(a,b,c){return new X(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};X.polar=function(a,b){return new X(a*Math.cos(b),a*Math.sin(b))};X.prototype={x:null,y:null,clone:function(){return new X(this.x,this.y)},setTo:function(a,b){this.x=a;this.y=b},subtract:function(a){return new X(this.x-a.x,this.y-a.y)},__toLimeVector2:function(){null==X.__limeVector2&&(X.__limeVector2=new gd);var a=X.__limeVector2;a.x=this.x;a.y=this.y;return X.__limeVector2},
get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:X,__properties__:{get_length:"get_length"}};var Hb=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["openfl.geom.Vector3D"]=Hb;Hb.__name__=["openfl","geom","Vector3D"];Hb.prototype={w:null,x:null,y:null,z:null,project:function(){this.x/=this.w;this.y/=this.w;this.z/=this.w},setTo:function(a,b,c){this.x=a;this.y=b;this.z=c},__class__:Hb};var O=function(a,
b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["openfl.geom.Rectangle"]=O;O.__name__=["openfl","geom","Rectangle"];O.prototype={height:null,width:null,x:null,y:null,clone:function(){return new O(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()?b<this.get_bottom():!1},containsPoint:function(a){return this.contains(a.x,a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=
a.width;this.height=a.height},equals:function(a){return null!=a&&this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},inflate:function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b},intersection:function(a){var b=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=b)return new O;var d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new O:new O(b,d,c-b,a-d)},isEmpty:function(){return 0>=
this.width?!0:0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__contract:function(a,b,c,d){if(0!=this.width||0!=this.height){var e=0,f=0,g=0,l=0;this.x<a&&(e=a-this.x);this.y<b&&(f=b-this.y);this.get_right()>a+c&&(g=a+c-this.get_right());this.get_bottom()>b+d&&(l=b+d-this.get_bottom());this.x+=e;this.y+=f;this.width+=g-e;this.height+=l-f}},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=
a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){null==O.__limeRectangle&&(O.__limeRectangle=new Oc);O.__limeRectangle.setTo(this.x,this.y,this.width,this.height);return O.__limeRectangle},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,g=b.a*(this.x+this.width)+
b.c*this.y,l=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);l<e&&(e=l);g>d&&(d=g);l>f&&(f=l);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);l=b.b*(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);l<e&&(e=l);g>d&&(d=g);l>f&&(f=l);g=b.a*this.x+b.c*(this.y+this.height);l=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);l<e&&(e=l);g>d&&(d=g);l>f&&(f=l);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},set_bottom:function(a){this.height=a-this.y;return a},get_left:function(){return this.x},
get_right:function(){return this.x+this.width},set_right:function(a){this.width=a-this.x;return a},get_top:function(){return this.y},__class__:O,__properties__:{get_top:"get_top",set_right:"set_right",get_right:"get_right",get_left:"get_left",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var V=function(){this._popToken=new wd;this._pushToken=new wd;this._x=this._y=this._pivotX=this._pivotY=this._rotation=this._skewX=this._skewY=0;this._scaleX=this._scaleY=this._alpha=1;this._visible=this._touchable=
this._hasVisibleArea=!0;this._blendMode="auto";this._transformationMatrix=new fa;this._isMask=this._is3D=this._orientationChanged=this._useHandCursor=!1;this._tokenFrameID=this._lastChildChangeFrameID=this._lastParentOrSelfChangeFrameID=0};h["starling.display.DisplayObject"]=V;V.__name__=["starling","display","DisplayObject"];V.findCommonParent=function(a,b){for(var c=a;null!=c;)V.sAncestors[V.sAncestors.length]=c,c=c._parent;for(c=b;null!=c&&-1==V.sAncestors.indexOf(c);)c=c._parent;Ka.clear(V.sAncestors);
if(null!=c)return c;throw new n(new sa("Object not connected to target"));};V.__super__=Ja;V.prototype=q(Ja.prototype,{_x:null,_y:null,_pivotX:null,_pivotY:null,_scaleX:null,_scaleY:null,_skewX:null,_skewY:null,_rotation:null,_alpha:null,_visible:null,_touchable:null,_blendMode:null,_name:null,_useHandCursor:null,_parent:null,_transformationMatrix:null,_transformationMatrix3D:null,_orientationChanged:null,_is3D:null,_isMask:null,_lastParentOrSelfChangeFrameID:null,_lastChildChangeFrameID:null,_tokenFrameID:null,
_pushToken:null,_popToken:null,_hasVisibleArea:null,_filter:null,_mask:null,dispose:function(){null!=this._filter&&this._filter.dispose();null!=this._mask&&this._mask.dispose();this.removeEventListeners();this.set_mask(null)},removeFromParent:function(a){null==a&&(a=!1);null!=this._parent?this._parent.removeChild(this,a):a&&this.dispose()},getTransformationMatrix:function(a,b){var c,d;null!=b?b.identity():b=new fa;if(a==this)return b;if(a==this._parent||null==a&&null==this._parent)return b.copyFrom(this.get_transformationMatrix()),
b;if(null==a||a==this.get_base()){for(d=this;d!=a;)b.concat(d.get_transformationMatrix()),d=d._parent;return b}if(a._parent==this)return a.getTransformationMatrix(this,b),b.invert(),b;c=V.findCommonParent(this,a);for(d=this;d!=c;)b.concat(d.get_transformationMatrix()),d=d._parent;if(c==a)return b;V.sHelperMatrix.identity();for(d=a;d!=c;)V.sHelperMatrix.concat(d.get_transformationMatrix()),d=d._parent;V.sHelperMatrix.invert();b.concat(V.sHelperMatrix);return b},getBounds:function(a,b){throw new n(new Od);
},hitTest:function(a){return this._visible&&this._touchable&&(null==this._mask||this.hitTestMask(a))?this.getBounds(this,V.sHelperRect).containsPoint(a)?this:null:null},hitTestMask:function(a){if(null!=this._mask){null!=this._mask.get_stage()?this.getTransformationMatrix(this._mask,V.sHelperMatrixAlt):(V.sHelperMatrixAlt.copyFrom(this._mask.get_transformationMatrix()),V.sHelperMatrixAlt.invert());var b=a==V.sHelperPoint?new X:V.sHelperPoint;H.transformPoint(V.sHelperMatrixAlt,a,b);return null!=this._mask.hitTest(b)}return!0},
globalToLocal:function(a,b){if(this.get_is3D())return this.globalToLocal3D(a,V.sHelperPoint3D),this.get_stage().getCameraPosition(this,V.sHelperPointAlt3D),Y.intersectLineWithXYPlane(V.sHelperPointAlt3D,V.sHelperPoint3D,b);this.getTransformationMatrix(this.get_base(),V.sHelperMatrixAlt);V.sHelperMatrixAlt.invert();return H.transformPoint(V.sHelperMatrixAlt,a,b)},render:function(a){throw new n(new Od);},alignPivot:function(a,b){null==b&&(b="center");null==a&&(a="center");var c=this.getBounds(this,
V.sHelperRect);this.setOrientationChanged();if("left"==a)this._pivotX=c.x;else if("center"==a)this._pivotX=c.x+c.width/2;else if("right"==a)this._pivotX=c.x+c.width;else throw new n(new sa("Invalid horizontal alignment: "+a));if("top"==b)this._pivotY=c.y;else if("center"==b)this._pivotY=c.y+c.height/2;else if("bottom"==b)this._pivotY=c.y+c.height;else throw new n(new sa("Invalid vertical alignment: "+b));},getTransformationMatrix3D:function(a,b){var c,d;null!=b?b.identity():b=new jb;if(a==this)return b;
if(a==this._parent||null==a&&null==this._parent)return b.copyFrom(this.get_transformationMatrix3D()),b;if(null==a||a==this.get_base()){for(d=this;d!=a;)b.append(d.get_transformationMatrix3D()),d=d._parent;return b}if(a._parent==this)return a.getTransformationMatrix3D(this,b),b.invert(),b;c=V.findCommonParent(this,a);for(d=this;d!=c;)b.append(d.get_transformationMatrix3D()),d=d._parent;if(c==a)return b;V.sHelperMatrix3D.identity();for(d=a;d!=c;)V.sHelperMatrix3D.append(d.get_transformationMatrix3D()),
d=d._parent;V.sHelperMatrix3D.invert();b.append(V.sHelperMatrix3D);return b},globalToLocal3D:function(a,b){var c=this.get_stage();if(null==c)throw new n(new Ba("Object not connected to stage"));this.getTransformationMatrix3D(c,V.sHelperMatrixAlt3D);V.sHelperMatrixAlt3D.invert();return H.transformCoords3D(V.sHelperMatrixAlt3D,a.x,a.y,0,b)},setParent:function(a){for(var b=a;b!=this&&null!=b;)b=b._parent;if(b==this)throw new n(new sa("An object cannot be added as a child to itself or one of its children (or children's children, etc.)"));
this._parent=a},setIs3D:function(a){this._is3D=a},get_isMask:function(){return this._isMask},setRequiresRedraw:function(){var a=this._parent,b=x.get_sFrameID();this._hasVisibleArea=0!=this._alpha&&this._visible&&!this._isMask&&0!=this._scaleX&&0!=this._scaleY;for(this._lastParentOrSelfChangeFrameID=b;null!=a&&a._lastChildChangeFrameID!=b;)a._lastChildChangeFrameID=b,null!=a._mask&&a._mask.setRequiresRedraw(),a=a._parent;this._isMask?x.get_current().setRequiresRedraw():null!=this._mask&&this._mask.setRequiresRedraw()},
get_requiresRedraw:function(){var a=x.get_sFrameID();return this._lastParentOrSelfChangeFrameID!=a?this._lastChildChangeFrameID==a:!0},excludeFromCache:function(){for(var a=this;null!=a&&-1!=a._tokenFrameID;)a._tokenFrameID=-1,a=a._parent},setOrientationChanged:function(){this._orientationChanged=!0;this.setRequiresRedraw()},dispatchEvent:function(a){"removedFromStage"==a.get_type()&&null==this.get_stage()||Ja.prototype.dispatchEvent.call(this,a)},addEventListener:function(a,b){"enterFrame"!=a||this.hasEventListener(a)||
(this.addEventListener("addedToStage",p(this,this.addEnterFrameListenerToStage)),this.addEventListener("removedFromStage",p(this,this.removeEnterFrameListenerFromStage)),null!=this.get_stage()&&this.addEnterFrameListenerToStage(null));Ja.prototype.addEventListener.call(this,a,b)},removeEventListener:function(a,b){Ja.prototype.removeEventListener.call(this,a,b);"enterFrame"!=a||this.hasEventListener(a)||(this.removeEventListener("addedToStage",p(this,this.addEnterFrameListenerToStage)),this.removeEventListener("removedFromStage",
p(this,this.removeEnterFrameListenerFromStage)),this.removeEnterFrameListenerFromStage(null))},removeEventListeners:function(a){null!=a&&"enterFrame"!=a||!this.hasEventListener("enterFrame")||(this.removeEventListener("addedToStage",p(this,this.addEnterFrameListenerToStage)),this.removeEventListener("removedFromStage",p(this,this.removeEnterFrameListenerFromStage)),this.removeEnterFrameListenerFromStage(null));Ja.prototype.removeEventListeners.call(this,a)},addEnterFrameListenerToStage:function(a){x.get_current().get_stage().addEnterFrameListener(this)},
removeEnterFrameListenerFromStage:function(a){x.get_current().get_stage().removeEnterFrameListener(this)},get_transformationMatrix:function(){if(this._orientationChanged)if(this._orientationChanged=!1,0==this._skewX&&0==this._skewY)if(0==this._rotation)this._transformationMatrix.setTo(this._scaleX,0,0,this._scaleY,this._x-this._pivotX*this._scaleX,this._y-this._pivotY*this._scaleY);else{var a=Math.cos(this._rotation),b=Math.sin(this._rotation),c=this._scaleX*a,d=this._scaleX*b,b=this._scaleY*-b,a=
this._scaleY*a;this._transformationMatrix.setTo(c,d,b,a,this._x-this._pivotX*c-this._pivotY*b,this._y-this._pivotX*d-this._pivotY*a)}else if(this._transformationMatrix.identity(),this._transformationMatrix.scale(this._scaleX,this._scaleY),H.skew(this._transformationMatrix,this._skewX,this._skewY),this._transformationMatrix.rotate(this._rotation),this._transformationMatrix.translate(this._x,this._y),0!=this._pivotX||0!=this._pivotY)this._transformationMatrix.tx=this._x-this._transformationMatrix.a*
this._pivotX-this._transformationMatrix.c*this._pivotY,this._transformationMatrix.ty=this._y-this._transformationMatrix.b*this._pivotX-this._transformationMatrix.d*this._pivotY;return this._transformationMatrix},set_transformationMatrix:function(a){var b=Math.PI/4;this.setRequiresRedraw();this._orientationChanged=!1;this._transformationMatrix.copyFrom(a);this._pivotX=this._pivotY=0;this._x=a.tx;this._y=a.ty;this._skewX=Math.atan(-a.c/a.d);this._skewY=Math.atan(a.b/a.a);this._skewX!=this._skewX&&(this._skewX=
0);this._skewY!=this._skewY&&(this._skewY=0);this._scaleY=this._skewX>-b&&this._skewX<b?a.d/Math.cos(this._skewX):-a.c/Math.sin(this._skewX);this._scaleX=this._skewY>-b&&this._skewY<b?a.a/Math.cos(this._skewY):a.b/Math.sin(this._skewY);Y.isEquivalent(this._skewX,this._skewY)?(this._rotation=this._skewX,this._skewX=this._skewY=0):this._rotation=0;return a},get_transformationMatrix3D:function(){null==this._transformationMatrix3D&&(this._transformationMatrix3D=new jb);return H.convertTo3D(this.get_transformationMatrix(),
this._transformationMatrix3D)},get_is3D:function(){return this._is3D},set_useHandCursor:function(a){if(a==this._useHandCursor)return a;(this._useHandCursor=a)?this.addEventListener("touch",p(this,this.onTouch)):this.removeEventListener("touch",p(this,this.onTouch));return a},onTouch:function(a){a.interactsWith(this)},get_bounds:function(){return this.getBounds(this._parent)},get_width:function(){return this.getBounds(this._parent,V.sHelperRect).width},set_width:function(a){var b;0==this._scaleX?(this.set_scaleX(1),
b=this.get_width()):b=Math.abs(this.get_width()/this._scaleX);0!=b&&this.set_scaleX(a/b);return a},get_height:function(){return this.getBounds(this._parent,V.sHelperRect).height},set_height:function(a){var b;0==this._scaleY?(this.set_scaleY(1),b=this.get_height()):b=Math.abs(this.get_height()/this._scaleY);0!=b&&this.set_scaleY(a/b);return a},get_x:function(){return this._x},set_x:function(a){this._x!=a&&(this._x=a,this.setOrientationChanged());return a},get_y:function(){return this._y},set_y:function(a){this._y!=
a&&(this._y=a,this.setOrientationChanged());return a},get_pivotX:function(){return this._pivotX},set_pivotX:function(a){this._pivotX!=a&&(this._pivotX=a,this.setOrientationChanged());return a},get_pivotY:function(){return this._pivotY},set_pivotY:function(a){this._pivotY!=a&&(this._pivotY=a,this.setOrientationChanged());return a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){this._scaleX!=a&&(this._scaleX=a,this.setOrientationChanged());return a},get_scaleY:function(){return this._scaleY},
set_scaleY:function(a){this._scaleY!=a&&(this._scaleY=a,this.setOrientationChanged());return a},get_scale:function(){return this.get_scaleX()},set_scale:function(a){return this.set_scaleX(this.set_scaleY(a))},get_rotation:function(){return this._rotation},set_rotation:function(a){a=Y.normalizeAngle(a);this._rotation!=a&&(this._rotation=a,this.setOrientationChanged());return a},get_alpha:function(){return this._alpha},set_alpha:function(a){a!=this._alpha&&(this._alpha=0>a?0:1<a?1:a,this.setRequiresRedraw());
return a},get_visible:function(){return this._visible},set_visible:function(a){a!=this._visible&&(this._visible=a,this.setRequiresRedraw());return a},get_touchable:function(){return this._touchable},set_touchable:function(a){return this._touchable=a},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){a!=this._blendMode&&(this._blendMode=a,this.setRequiresRedraw());return a},get_name:function(){return this._name},set_name:function(a){return this._name=a},get_filter:function(){return this._filter},
set_filter:function(a){a!=this._filter&&(null!=this._filter&&this._filter.setTarget(null),null!=a&&a.setTarget(this),this._filter=a,this.setRequiresRedraw());return a},get_mask:function(){return this._mask},set_mask:function(a){this._mask!=a&&(null!=this._mask&&(this._mask._isMask=!1),null!=a&&(a._isMask=!0,a._hasVisibleArea=!1),this._mask=a,this.setRequiresRedraw());return a},get_parent:function(){return this._parent},get_base:function(){for(var a=this;null!=a._parent;)a=a._parent;return a},get_stage:function(){var a=
this.get_base();return w.__instanceof(a,Dc)?a:null},__class__:V,__properties__:{get_stage:"get_stage",get_base:"get_base",get_parent:"get_parent",set_mask:"set_mask",get_mask:"get_mask",set_filter:"set_filter",get_filter:"get_filter",set_name:"set_name",get_name:"get_name",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_touchable:"set_touchable",get_touchable:"get_touchable",set_visible:"set_visible",get_visible:"get_visible",set_alpha:"set_alpha",get_alpha:"get_alpha",set_rotation:"set_rotation",
get_rotation:"get_rotation",set_scale:"set_scale",get_scale:"get_scale",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_pivotY:"set_pivotY",get_pivotY:"get_pivotY",set_pivotX:"set_pivotX",get_pivotX:"get_pivotX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",get_bounds:"get_bounds",set_useHandCursor:"set_useHandCursor",get_is3D:"get_is3D",get_transformationMatrix3D:"get_transformationMatrix3D",
set_transformationMatrix:"set_transformationMatrix",get_transformationMatrix:"get_transformationMatrix",get_requiresRedraw:"get_requiresRedraw",get_isMask:"get_isMask"}});var wd=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.setTo(a,b,c)};h["starling.rendering.BatchToken"]=wd;wd.__name__=["starling","rendering","BatchToken"];wd.prototype={batchID:null,vertexID:null,indexID:null,copyFrom:function(a){this.batchID=a.batchID;this.vertexID=a.vertexID;this.indexID=a.indexID},setTo:function(a,
b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.batchID=a;this.vertexID=b;this.indexID=c},reset:function(){this.batchID=this.vertexID=this.indexID=0},equals:function(a){return this.batchID==a.batchID&&this.vertexID==a.vertexID?this.indexID==a.indexID:!1},__class__:wd};var J=function(){V.call(this);this._children=[]};h["starling.display.DisplayObjectContainer"]=J;J.__name__=["starling","display","DisplayObjectContainer"];J.mergeSort=function(a,b,c,d,e){if(1<d){var f=c+d,g=d/2|0,l=c,t=c+g;J.mergeSort(a,
b,c,g,e);J.mergeSort(a,b,c+g,d-g,e);for(var C=0;C<d;){var h=C++;l<c+g&&(t==f||0>=b(a[l],a[t]))?(e[h]=a[l],++l):(e[h]=a[t],++t)}for(b=c;b<f;)d=b++,a[d]=e[d-c]}};J.__super__=V;J.prototype=q(V.prototype,{_children:null,_touchGroup:null,dispose:function(){for(var a=this._children.length-1;0<=a;)this._children[a].dispose(),--a;V.prototype.dispose.call(this)},addChild:function(a){return this.addChildAt(a,this._children.length)},addChildAt:function(a,b){var c=this._children.length;if(0<=b&&b<=c)return this.setRequiresRedraw(),
a.get_parent()==this?this.setChildIndex(a,b):(this._children.splice(b,0,a),a.removeFromParent(),a.setParent(this),a.dispatchEventWith("added",!0),null!=this.get_stage()&&(c=w.__instanceof(a,J)?a:null,null!=c?c.broadcastEventWith("addedToStage"):a.dispatchEventWith("addedToStage"))),a;throw new n(new xd("Invalid child index"));},removeChild:function(a,b){null==b&&(b=!1);var c=this.getChildIndex(a);return-1!=c?this.removeChildAt(c,b):null},removeChildAt:function(a,b){null==b&&(b=!1);if(0<=a&&a<this._children.length){this.setRequiresRedraw();
var c=this._children[a];c.dispatchEventWith("removed",!0);if(null!=this.get_stage()){var d=w.__instanceof(c,J)?c:null;null!=d?d.broadcastEventWith("removedFromStage"):c.dispatchEventWith("removedFromStage")}c.setParent(null);a=this._children.indexOf(c);0<=a&&this._children.splice(a,1);b&&c.dispose();return c}throw new n(new xd("Invalid child index"));},getChildAt:function(a){var b=this._children.length;0>a&&(a=b+a);if(0<=a&&a<b)return this._children[a];throw new n(new xd("Invalid child index"));},
getChildIndex:function(a){return this._children.indexOf(a)},setChildIndex:function(a,b){var c=this.getChildIndex(a);if(c!=b){if(-1==c)throw new n(new sa("Not a child of this container"));this._children.splice(c,1);this._children.splice(b,0,a);this.setRequiresRedraw()}},getBounds:function(a,b){null==b&&(b=new O);var c=this._children.length;if(0==c)this.getTransformationMatrix(a,J.sHelperMatrix),H.transformCoords(J.sHelperMatrix,0,0,J.sHelperPoint),b.setTo(J.sHelperPoint.x,J.sHelperPoint.y,0,0);else if(1==
c)this._children[0].getBounds(a,b);else{for(var d=1.79E308,e=-1.79E308,f=1.79E308,g=-1.79E308,l=0;l<c;){var t=l++;this._children[t].getBounds(a,b);d>b.x&&(d=b.x);e<b.get_right()&&(e=b.get_right());f>b.y&&(f=b.y);g<b.get_bottom()&&(g=b.get_bottom())}b.setTo(d,f,e-d,g-f)}return b},hitTest:function(a){if(!this.get_visible()||!this.get_touchable()||!this.hitTestMask(a))return null;var b=null,c=a.x;a=a.y;for(var d=this._children.length-1;0<=d;)if(b=this._children[d],--d,!b.get_isMask()&&(J.sHelperMatrix.copyFrom(b.get_transformationMatrix()),
J.sHelperMatrix.invert(),H.transformCoords(J.sHelperMatrix,c,a,J.sHelperPoint),b=b.hitTest(J.sHelperPoint),null!=b))return this._touchGroup?this:b;return null},render:function(a){for(var b=this._children.length,c=a.get_frameID(),d=this._lastParentOrSelfChangeFrameID==c,e=!1,f=0;f<b;){var g=f++,g=this._children[g];if(g._hasVisibleArea){d&&(g._lastParentOrSelfChangeFrameID=c);if(g._lastParentOrSelfChangeFrameID!=c&&g._lastChildChangeFrameID!=c&&g._tokenFrameID==c-1)e?a._batchProcessor.fillToken(J.sCacheToken):
(a.pushState(J.sCacheToken),e=!0),a.drawFromCache(g._pushToken,g._popToken),a.restoreState(g._popToken),g._pushToken.copyFrom(J.sCacheToken);else{var l=g._mask,t=g._filter;e?a._batchProcessor.fillToken(g._pushToken):(a.pushState(g._pushToken),e=!0);a.setStateTo(g.get_transformationMatrix(),g.get_alpha(),g.get_blendMode());null!=l&&a.drawMask(l,g);null!=t?t.render(a):g.render(a);null!=l&&a.eraseMask(l);a.restoreState(g._popToken)}g._tokenFrameID=c}}e&&a.popState_noCopy()},broadcastEvent:function(a){if(a.get_bubbles())throw new n(new sa("Broadcast of bubbling events is prohibited"));
var b=J.sBroadcastListeners.length;this.getChildEventListeners(this,a.get_type(),J.sBroadcastListeners);for(var c=b,d=J.sBroadcastListeners.length;c<d;){var e=c++;J.sBroadcastListeners[e].dispatchEvent(a)}Ka.resize(J.sBroadcastListeners,b)},broadcastEventWith:function(a,b){var c=bb.fromPool(a,!1,b);this.broadcastEvent(c);bb.toPool(c)},get_numChildren:function(){return this._children.length},set_touchGroup:function(a){return this._touchGroup=a},getChildEventListeners:function(a,b,c){var d=w.__instanceof(a,
J)?a:null;a.hasEventListener(b)&&(c[c.length]=a);if(null!=d){a=d._children;for(var d=0,e=a.length;d<e;){var f=d++;this.getChildEventListeners(a[f],b,c)}}},__class__:J,__properties__:q(V.prototype.__properties__,{set_touchGroup:"set_touchGroup",get_numChildren:"get_numChildren"})});var mb=function(){J.call(this)};h["starling.display.Sprite"]=mb;mb.__name__=["starling","display","Sprite"];mb.__super__=J;mb.prototype=q(J.prototype,{__class__:mb});var fb=function(){J.call(this)};h.Game=fb;fb.__name__=
["Game"];fb.__properties__={get_assets:"get_assets"};fb.get_assets=function(){return fb.sAssets};fb.__super__=mb;fb.prototype=q(mb.prototype,{_mainMenu:null,_currentScene:null,start:function(a){fb.sAssets=a;this.addChild(new z(a.getTexture("background")));this.showMainMenu();this.addEventListener("triggered",p(this,this.onButtonTriggered));this.get_stage().addEventListener("keyDown",p(this,this.onKey))},showMainMenu:function(){ue.gc();null==this._mainMenu&&(this._mainMenu=new df);this.addChild(this._mainMenu)},
onKey:function(a){32==a.get_keyCode()?x.get_current().set_showStats(!x.get_current().get_showStats()):88==a.get_keyCode()&&x.get_sContext().dispose()},onButtonTriggered:function(a){a=w.__cast(a.get_target(),Pc);"backButton"==a.get_name()?this.closeScene():this.showScene(a.get_name())},closeScene:function(){this._currentScene.removeFromParent(!0);this._currentScene=null;this.showMainMenu()},showScene:function(a){null==this._currentScene&&(a=ea.resolveClass(a),this._currentScene=w.__cast(ea.createInstance(a,
[]),na),this._mainMenu.removeFromParent(),this.addChild(this._currentScene))},__class__:fb});var I=function(){};h.HxOverrides=I;I.__name__=["HxOverrides"];I.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new n("Invalid date format : "+
a);}};I.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};I.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};I.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};I.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var wg=function(){};h.Lambda=wg;wg.__name__=["Lambda"];wg.array=function(a){var b=[];for(a=vi(a)();a.hasNext();){var c=
a.next();b.push(c)}return b};var Qc=function(){this.length=0};h.List=Qc;Qc.__name__=["List"];Qc.prototype={h:null,q:null,length:null,add:function(a){a=new xg(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;this.length=0},iterator:function(){return new yg(this.h)},__class__:Qc};var xg=function(a,b){this.item=a;this.next=
b};h["_List.ListNode"]=xg;xg.__name__=["_List","ListNode"];xg.prototype={item:null,next:null,__class__:xg};var yg=function(a){this.head=a};h["_List.ListIterator"]=yg;yg.__name__=["_List","ListIterator"];yg.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:yg};var df=function(){J.call(this);this.init()};h.MainMenu=df;df.__name__=["MainMenu"];df.__super__=mb;df.prototype=q(mb.prototype,{init:function(){var a=
new z(fb.get_assets().getTexture("logo"));this.addChild(a);for(var a=[["Textures",ef],["Multitouch",ff],["TextFields",gf],["Animations",hf],["Custom hit-test",jf],["Movie Clip",kf],["Filters",lf],["Blend Modes",mf],["Render Texture",nf],["Benchmark",Pd],["Masks",of],["Sprite 3D",pf]],b=0,c=0;c<a.length;){var d=a[c];++c;var e=d[1],d=new Jc(d[0]);d.set_height(42);d.readjustSize();d.set_x(0==b%2?28:167);d.set_y(155+46*(b/2|0));d.set_name(ea.getClassName(e));this.addChild(d);0!=a.length%2&&1==b%2&&(e=
d,e.set_y(e.get_y()+24));++b}a=x.get_sContext().driverInfo;a=new ka(310,64,a);a.get_format().set_size(10);a.get_format().set_verticalAlign("bottom");a.set_x(5);a.set_y(475-a.get_height());a.addEventListener("touch",p(this,this.onInfoTextTouched));this.addChildAt(a,0)},onInfoTextTouched:function(a){null!=a.getTouch(this,"ended")&&x.get_current().set_showStats(!x.get_current().get_showStats())},__class__:df});Math.__name__=["Math"];var la=function(){};h.Reflect=la;la.__name__=["Reflect"];la.field=function(a,
b){try{return a[b]}catch(c){return null}};la.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};la.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};la.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};la.isFunction=function(a){return"function"==typeof a?
!(a.__name__||a.__ename__):!1};la.compare=function(a,b){return a==b?0:a>b?1:-1};la.compareMethods=function(a,b){return a==b?!0:la.isFunction(a)&&la.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};la.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var E=function(){};h.Std=E;E.__name__=["Std"];E.string=function(a){return w.__string_rec(a,"")};E.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=I.cca(a,1)&&88!=I.cca(a,
1)||(b=parseInt(a));return isNaN(b)?null:b};var hd=function(){this.b=""};h.StringBuf=hd;hd.__name__=["StringBuf"];hd.prototype={b:null,__class__:hd};var ba=function(){};h.StringTools=ba;ba.__name__=["StringTools"];ba.startsWith=function(a,b){return a.length>=b.length?I.substr(a,0,b.length)==b:!1};ba.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?I.substr(a,d-c,c)==b:!1};ba.isSpace=function(a,b){var c=I.cca(a,b);return 8<c&&14>c?!0:32==c};ba.ltrim=function(a){for(var b=a.length,c=0;c<
b&&ba.isSpace(a,c);)++c;return 0<c?I.substr(a,c,b-c):a};ba.rtrim=function(a){for(var b=a.length,c=0;c<b&&ba.isSpace(a,b-c-1);)++c;return 0<c?I.substr(a,0,b-c):a};ba.trim=function(a){return ba.ltrim(ba.rtrim(a))};ba.replace=function(a,b,c){return a.split(b).join(c)};ba.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var ta=h.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};
ta.TNull=["TNull",0];ta.TNull.toString=B;ta.TNull.__enum__=ta;ta.TInt=["TInt",1];ta.TInt.toString=B;ta.TInt.__enum__=ta;ta.TFloat=["TFloat",2];ta.TFloat.toString=B;ta.TFloat.__enum__=ta;ta.TBool=["TBool",3];ta.TBool.toString=B;ta.TBool.__enum__=ta;ta.TObject=["TObject",4];ta.TObject.toString=B;ta.TObject.__enum__=ta;ta.TFunction=["TFunction",5];ta.TFunction.toString=B;ta.TFunction.__enum__=ta;ta.TClass=function(a){a=["TClass",6,a];a.__enum__=ta;a.toString=B;return a};ta.TEnum=function(a){a=["TEnum",
7,a];a.__enum__=ta;a.toString=B;return a};ta.TUnknown=["TUnknown",8];ta.TUnknown.toString=B;ta.TUnknown.__enum__=ta;var ea=function(){};h.Type=ea;ea.__name__=["Type"];ea.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};ea.getEnumName=function(a){return a.__ename__.join(".")};ea.resolveClass=function(a){a=h[a];return null!=a&&a.__name__?a:null};ea.resolveEnum=function(a){a=h[a];return null!=a&&a.__ename__?a:null};ea.createInstance=function(a,b){switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new n("Too many arguments");}};ea.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};ea.createEnum=function(a,b,c){var d=la.field(a,
b);if(null==d)throw new n("No such constructor "+b);if(la.isFunction(d)){if(null==c)throw new n("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new n("Constructor "+b+" does not need parameters");return d};ea.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);I.remove(b,"__class__");I.remove(b,"__properties__");return b};ea["typeof"]=function(a){switch(typeof a){case "boolean":return ta.TBool;case "function":return a.__name__||a.__ename__?
ta.TObject:ta.TFunction;case "number":return Math.ceil(a)==a%2147483648?ta.TInt:ta.TFloat;case "object":if(null==a)return ta.TNull;var b=a.__enum__;if(null!=b)return ta.TEnum(b);a=w.getClass(a);return null!=a?ta.TClass(a):ta.TObject;case "string":return ta.TClass(String);case "undefined":return ta.TNull;default:return ta.TUnknown}};var Ca={};h["_UInt.UInt_Impl_"]=Ca;Ca.__name__=["_UInt","UInt_Impl_"];Ca.gt=function(a,b){var c=0>a;return c!=0>b?c:a>b};Ca.gte=function(a,b){var c=0>a;return c!=0>b?c:
a>=b};Ca.toFloat=function(a){return 0>a?4294967296+a:a+0};var P=function(a){this.nodeType=a;this.children=[];this.attributeMap=new T};h.Xml=P;P.__name__=["Xml"];P.parse=function(a){return id.parse(a)};P.createElement=function(a){var b=new P(P.Element);if(b.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};P.createPCData=function(a){var b=new P(P.PCData);if(b.nodeType==P.Document||b.nodeType==P.Element)throw new n("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};P.createCData=function(a){var b=new P(P.CData);if(b.nodeType==P.Document||b.nodeType==P.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};P.createComment=function(a){var b=new P(P.Comment);if(b.nodeType==P.Document||b.nodeType==P.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};P.createDocType=function(a){var b=new P(P.DocType);if(b.nodeType==P.Document||b.nodeType==P.Element)throw new n("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};P.createProcessingInstruction=function(a){var b=new P(P.ProcessingInstruction);if(b.nodeType==P.Document||b.nodeType==P.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};P.createDocument=function(){return new P(P.Document)};P.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(a){if(this.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);
var b=this.attributeMap;return null!=m[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=m[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},elementsNamed:function(a){if(this.nodeType!=P.Document&&
this.nodeType!=P.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var e=d[c];++c;var f;if(e.nodeType==P.Element){if(e.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+e.nodeType);f=e.nodeName==a}else f=!1;f&&b.push(e)}return I.iter(b)},firstElement:function(){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new n("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==P.Element)return c}return null},addChild:function(a){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=P.Document&&this.nodeType!=P.Element)throw new n("Bad node type, expected Element or Document but found "+
this.nodeType);return I.remove(this.children,a)?(a.parent=null,!0):!1},__class__:P};var ve=function(){};h["haxe.IMap"]=ve;ve.__name__=["haxe","IMap"];ve.prototype={get:null,set:null,exists:null,remove:null,__class__:ve};var K=function(a,b){this.high=a;this.low=b};h["haxe._Int64.___Int64"]=K;K.__name__=["haxe","_Int64","___Int64"];K.prototype={high:null,low:null,__class__:K};var hb=function(){};h["haxe.Log"]=hb;hb.__name__=["haxe","Log"];hb.trace=function(a,b){w.__trace(a,b)};var wc=function(){this.buf=
new hd;this.cache=[];this.useCache=wc.USE_CACHE;this.useEnumIndex=wc.USE_ENUM_INDEX;this.shash=new T;this.scount=0};h["haxe.Serializer"]=wc;wc.__name__=["haxe","Serializer"];wc.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=m[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=m[a]?b.setReserved(a,
c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=E.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=la.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(la.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=
ea["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(w.__instanceof(a,hi))a=ea.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(w.__instanceof(a,ii))this.buf.b+="B",this.serializeString(ea.getEnumName(a));else{if(this.useCache&&
this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new n("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));
this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=E.string(a.getTime());break;case Qc:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ib:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case jc:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=la.field(c,"__id__"),la.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);
this.buf.b+="h";break;case T:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=m[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case gb:this.buf.b+="s";this.buf.b+=E.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=wc.BASE64_CODES;if(null==b){for(var b=Array(wc.BASE64.length),e=0,f=wc.BASE64.length;e<f;){var g=e++;b[g]=I.cca(wc.BASE64,g)}wc.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],g=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>
2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|g>>6)&63]),this.buf.b+=String.fromCharCode(b[g&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",
this.serializeString(ea.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(ea.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=E.string(this.useEnumIndex?"j":"w");this.serializeString(ea.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=E.string(a[1])):this.serializeString(a[0]);this.buf.b+=
":";b=a.length;this.buf.b+=E.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new n("Cannot serialize "+E.string(a));}},__class__:wc};var vc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};h["haxe.Timer"]=vc;vc.__name__=["haxe","Timer"];vc.delay=function(a,b){var c=new vc(b);c.run=function(){c.stop();a()};return c};vc.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},
__class__:vc};var qf=function(){};h["haxe._Unserializer.DefaultResolver"]=qf;qf.__name__=["haxe","_Unserializer","DefaultResolver"];qf.prototype={resolveClass:function(a){return ea.resolveClass(a)},resolveEnum:function(a){return ea.resolveEnum(a)},__class__:qf};var xc=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=xc.DEFAULT_RESOLVER;null==a&&(a=new qf,xc.DEFAULT_RESOLVER=a);this.resolver=a};h["haxe.Unserializer"]=xc;xc.__name__=["haxe","Unserializer"];xc.initCodes=
function(){for(var a=[],b=0,c=xc.BASE64.length;b<c;){var d=b++;a[xc.BASE64.charCodeAt(d)]=d}return a};xc.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){null==a?(null==Qd.instance&&(Qd.instance=new Qd),this.resolver=Qd.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},
readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(I.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new n("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new n("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new n("Invalid enum format");
var c=this.readDigits();if(0==c)return ea.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return ea.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+
a);a=ea.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new n("Invalid custom data");return a;case 77:a=new jc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new n("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;
break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new T;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=m[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+a);a=ea.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();
case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new n("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Qc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;
case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ib;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new n("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new n("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||
this.length-this.pos<a)throw new n("Invalid bytes length");var e=xc.CODES;null==e&&(e=xc.initCodes(),xc.CODES=e);for(var f=this.pos,g=a&3,l=f+(a-g),b=new gb(new yd(3*(a>>2)+(2<=g?g-1:0))),c=0;f<l;){var t=e[d.charCodeAt(f++)],C=e[d.charCodeAt(f++)];b.b[c++]=(t<<2|C>>4)&255;t=e[d.charCodeAt(f++)];b.b[c++]=(C<<4|t>>2)&255;C=e[d.charCodeAt(f++)];b.b[c++]=(t<<6|C)&255}2<=g&&(C=e[d.charCodeAt(f++)],l=e[d.charCodeAt(f++)],b.b[c++]=(C<<2|l>>4)&255,3==g&&(d=e[d.charCodeAt(f++)],b.b[c++]=(l<<4|d>>2)&255));
this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=I.strDate(I.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),
a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw n.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new n("Invalid string length");b=I.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new n("Invalid char "+
this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:xc};var Qd=function(){};h["haxe._Unserializer.NullResolver"]=Qd;Qd.__name__=["haxe","_Unserializer","NullResolver"];Qd.prototype={resolveClass:function(a){return null},resolveEnum:function(a){return null},__class__:Qd};var zg=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new n("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};h["haxe.crypto.BaseCode"]=zg;zg.__name__=["haxe","crypto","BaseCode"];
zg.prototype={base:null,nbits:null,encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new gb(new yd(d+(0==8*a.length%b?0:1))),f=0,g=0,l=(1<<b)-1,t=0,C=0;C<d;){for(;g<b;)g+=8,f<<=8,f|=a.b[t++];g-=b;e.b[C++]=c.b[f>>g&l]&255}0<g&&(e.b[C++]=c.b[f<<b-g&l]&255);return e},__class__:zg};var Ib=function(){this.h={}};h["haxe.ds.IntMap"]=Ib;Ib.__name__=["haxe","ds","IntMap"];Ib.__interfaces__=[ve];Ib.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},
exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return I.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Ib};var jc=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=jc;jc.__name__=["haxe","ds","ObjectMap"];
jc.__interfaces__=[ve];jc.assignId=function(a){return a.__id__=++jc.count};jc.getId=function(a){return a.__id__};jc.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++jc.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return I.iter(a)},__class__:jc};var Md=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};h["haxe.ds._StringMap.StringMapIterator"]=Md;Md.__name__=["haxe","ds","_StringMap","StringMapIterator"];Md.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=m[b]?a.getReserved(b):a.h[b]},__class__:Md};var T=function(){this.h={}};h["haxe.ds.StringMap"]=
T;T.__name__=["haxe","ds","StringMap"];T.__interfaces__=[ve];T.prototype={h:null,rh:null,set:function(a,b){null!=m[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=m[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=m[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+
a)},remove:function(a){if(null!=m[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return I.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:T};var gb=function(a){this.length=a.byteLength;this.b=new Ec(a);this.b.bufferValue=a;
a.hxBytes=this;a.bytes=this.b};h["haxe.io.Bytes"]=gb;gb.__name__=["haxe","io","Bytes"];gb.alloc=function(a){return new gb(new yd(a))};gb.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new gb((new Ec(b)).buffer)};gb.ofData=function(a){var b=a.hxBytes;return null!=
b?b:new gb(a)};gb.fastGet=function(a,b){return a.bytes[b]};gb.prototype={length:null,b:null,data:null,blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw new n(ac.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new n(ac.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,g=a+b;f<g;){var l=d[f++];if(128>l){if(0==l)break;c+=e(l)}else if(224>l)c+=e((l&63)<<6|d[f++]&
127);else if(240>l)var t=d[f++],c=c+e((l&31)<<12|(t&127)<<6|d[f++]&127);else var t=d[f++],C=d[f++],l=(l&15)<<18|(t&127)<<12|(C&127)<<6|d[f++]&127,c=c+e((l>>10)+55232),c=c+e(l&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:gb};var Ch=function(){};h["haxe.io.Eof"]=Ch;Ch.__name__=["haxe","io","Eof"];Ch.prototype={toString:function(){return"Eof"},__class__:Ch};var ac=h["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds",
"Custom"]};ac.Blocked=["Blocked",0];ac.Blocked.toString=B;ac.Blocked.__enum__=ac;ac.Overflow=["Overflow",1];ac.Overflow.toString=B;ac.Overflow.__enum__=ac;ac.OutsideBounds=["OutsideBounds",2];ac.OutsideBounds.toString=B;ac.OutsideBounds.__enum__=ac;ac.Custom=function(a){a=["Custom",3,a];a.__enum__=ac;a.toString=B;return a};var Fc=function(){};h["haxe.io.FPHelper"]=Fc;Fc.__name__=["haxe","io","FPHelper"];Fc.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+
Math.pow(2,-23)*c)*Math.pow(2,b-127)};Fc.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};Fc.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Fc.doubleToI64=function(a){var b=
Fc.i64tmp;if(0==a)b.low=0,b.high=0;else if(isFinite(a)){var c=0>a?-a:a,d=Math.floor(Math.log(c)/.6931471805599453),c=Math.round(4503599627370496*(c/Math.pow(2,d)-1));b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}else 0<a?(b.low=0,b.high=2146435072):(b.low=0,b.high=-1048576);return b};var Ab=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&
this.positionAtLine++}};h["haxe.xml.XmlParserException"]=Ab;Ab.__name__=["haxe","xml","XmlParserException"];Ab.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return ea.getClassName(w.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ab};var id=function(){};h["haxe.xml.Parser"]=id;id.__name__=["haxe","xml","Parser"];id.parse=function(a,b){null==b&&(b=!1);var c=P.createDocument();id.doParse(a,
b,0,c);return c};id.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,g=1,l=null,t=0,C=0,h=0,D=a.charCodeAt(c),k=new hd,p=1,q=-1;D==D;){switch(f){case 0:switch(D){case 9:case 10:case 13:case 32:break;default:f=g;continue}break;case 1:if(60==D)f=0,g=2;else{t=c;f=13;continue}break;case 2:switch(D){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=I.substr(a,c,6).toUpperCase())throw new n(new Ab("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=
I.substr(a,c+2,6).toUpperCase())throw new n(new Ab("Expected <!DOCTYPE",a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new n(new Ab("Expected \x3c!--",a,c));c+=2;f=15}t=c+1;break;case 47:if(null==d)throw new n(new Ab("Expected node name",a,c));t=c+1;f=0;g=10;break;case 63:f=14;t=c;break;default:f=3;t=c;continue}break;case 3:if(!(97<=D&&122>=D||65<=D&&90>=D||48<=D&&57>=D||58==D||46==D||95==D||45==D)){if(c==t)throw new n(new Ab("Expected node name",a,c));e=P.createElement(I.substr(a,
t,c-t));d.addChild(e);++C;f=0;g=4;continue}break;case 4:switch(D){case 47:f=11;break;case 62:f=9;break;default:f=5;t=c;continue}break;case 5:if(!(97<=D&&122>=D||65<=D&&90>=D||48<=D&&57>=D||58==D||46==D||95==D||45==D)){if(t==c)throw new n(new Ab("Expected attribute name",a,c));l=I.substr(a,t,c-t);if(e.exists(l))throw new n(new Ab("Duplicate attribute ["+l+"]",a,c));f=0;g=6;continue}break;case 6:if(61==D)f=0,g=7;else throw new n(new Ab("Expected =",a,c));break;case 7:switch(D){case 34:case 39:k=new hd;
f=8;t=c+1;q=D;break;default:throw new n(new Ab('Expected "',a,c));}break;case 8:switch(D){case 38:p=c-t;k.b+=null==p?I.substr(a,t,null):I.substr(a,t,p);f=18;p=8;t=c+1;break;case 60:case 62:if(b)throw new n(new Ab("Invalid unescaped "+String.fromCharCode(D)+" in attribute value",a,c));D==q&&(g=c-t,k.b+=null==g?I.substr(a,t,null):I.substr(a,t,g),g=k.b,k=new hd,e.set(l,g),f=0,g=4);break;default:D==q&&(g=c-t,k.b+=null==g?I.substr(a,t,null):I.substr(a,t,g),g=k.b,k=new hd,e.set(l,g),f=0,g=4)}break;case 9:t=
c=id.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=D&&122>=D||65<=D&&90>=D||48<=D&&57>=D||58==D||46==D||95==D||45==D)){if(t==c)throw new n(new Ab("Expected node name",a,c));g=I.substr(a,t,c-t);if(d.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+d.nodeType);if(g!=d.nodeName){if(d.nodeType!=P.Element)throw new n("Bad node type, expected Element but found "+d.nodeType);throw new n(new Ab("Expected </"+d.nodeName+">",a,c));}f=0;g=12;continue}break;case 11:if(62==D)f=1;else throw new n(new Ab("Expected >",
a,c));break;case 12:if(62==D)return 0==C&&d.addChild(P.createPCData("")),c;throw new n(new Ab("Expected >",a,c));case 13:60==D?(g=c-t,k.b+=null==g?I.substr(a,t,null):I.substr(a,t,g),g=P.createPCData(k.b),k=new hd,d.addChild(g),++C,f=0,g=2):38==D&&(p=c-t,k.b+=null==p?I.substr(a,t,null):I.substr(a,t,p),f=18,p=13,t=c+1);break;case 14:63==D&&62==a.charCodeAt(c+1)&&(++c,D=I.substr(a,t+1,c-t-2),d.addChild(P.createProcessingInstruction(D)),++C,f=1);break;case 15:45==D&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+
2)&&(d.addChild(P.createComment(I.substr(a,t,c-t))),++C,c+=2,f=1);break;case 16:91==D?++h:93==D?--h:62==D&&0==h&&(d.addChild(P.createDocType(I.substr(a,t,c-t))),++C,f=1);break;case 17:93==D&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(D=P.createCData(I.substr(a,t,c-t)),d.addChild(D),++C,c+=2,f=1);break;case 18:if(59==D){t=I.substr(a,t,c-t);if(35==t.charCodeAt(0))t=120==t.charCodeAt(1)?E.parseInt("0"+I.substr(t,1,t.length-1)):E.parseInt(I.substr(t,1,t.length-1)),k.b+=String.fromCharCode(t);else if(D=
id.escapes,null!=m[t]?D.existsReserved(t):D.h.hasOwnProperty(t))D=id.escapes,t=null!=m[t]?D.getReserved(t):D.h[t],k.b+=E.string(t);else{if(b)throw new n(new Ab("Undefined entity: "+t,a,c));k.b+=E.string("&"+t+";")}t=c+1;f=p}else if(!(97<=D&&122>=D||65<=D&&90>=D||48<=D&&57>=D||58==D||46==D||95==D||45==D)&&35!=D){if(b)throw new n(new Ab("Invalid character in entity: "+String.fromCharCode(D),a,c));k.b+="&";D=c-t;k.b+=null==D?I.substr(a,t,null):I.substr(a,t,D);t=c--;f=p}}D=a.charCodeAt(++c)}1==f&&(t=
c,f=13);if(13==f){if(c!=t||0==C)b=c-t,k.b+=null==b?I.substr(a,t,null):I.substr(a,t,b),d.addChild(P.createPCData(k.b));return c}if(!b&&18==f&&13==p)return k.b+="&",b=c-t,k.b+=null==b?I.substr(a,t,null):I.substr(a,t,b),d.addChild(P.createPCData(k.b)),c;throw new n(new Ab("Unexpected end",a,c));};var n=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,n)};h["js._Boot.HaxeError"]=n;n.__name__=["js","_Boot","HaxeError"];n.wrap=function(a){return a instanceof
Error?a:new n(a)};n.__super__=Error;n.prototype=q(Error.prototype,{val:null,__class__:n});var w=function(){};h["js.Boot"]=w;w.__name__=["js","Boot"];w.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};w.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+w.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var f=e[d];++d;c+=","+w.__string_rec(f,"")}var g;"undefined"!=typeof document?
(g=document.getElementById("haxe:trace"),d=null!=g):d=!1;d?g.innerHTML+=w.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};w.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=w.__nativeClassName(a);return null!=a?w.__resolveNativeClass(a):null};w.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";
case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+w.__string_rec(a[f],b)):c+w.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+w.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&
!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+w.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};w.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||w.__interfLoop(f,b))return!0}return w.__interfLoop(a.__super__,b)};w.__instanceof=
function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case ji:return"boolean"==typeof a;case xi:return!0;case Dh:return"number"==typeof a;case gi:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||w.__interfLoop(w.getClass(a),b))return!0}else{if("object"==typeof b&&w.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==hi&&null!=a.__name__||b==ii&&null!=
a.__ename__?!0:a.__enum__==b}};w.__cast=function(a,b){if(w.__instanceof(a,b))return a;throw new n("Cannot cast "+E.string(a)+" to "+E.string(b));};w.__nativeClassName=function(a){a=w.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};w.__isNativeObj=function(a){return null!=w.__nativeClassName(a)};w.__resolveNativeClass=function(a){return zh[a]};var Eh=function(){};h["js.html._CanvasElement.CanvasUtil"]=Eh;Eh.__name__=["js","html","_CanvasElement","CanvasUtil"];
Eh.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var kc=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};h["js.html.compat.ArrayBuffer"]=kc;kc.__name__=["js","html","compat","ArrayBuffer"];kc.sliceImpl=function(a,b){var c=new Ec(this,a,null==b?null:b-a),d=new yd(c.byteLength);(new Ec(d)).set(c);
return d};kc.prototype={byteLength:null,a:null,slice:function(a,b){return new kc(this.a.slice(a,b))},__class__:kc};var Fh=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new n(ac.OutsideBounds);this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};h["js.html.compat.DataView"]=Fh;Fh.__name__=["js","html","compat","DataView"];Fh.prototype={buf:null,offset:null,
length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],
c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Fc.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Fc.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},
setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Fc.floatToI32(b),c)},setFloat64:function(a,
b,c){b=Fc.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Fh};var jd=function(){};h["js.html.compat.Float32Array"]=jd;jd.__name__=["js","html","compat","Float32Array"];jd._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new kc(a)}else if(w.__instanceof(a,kc)){null==b&&(b=0);null==c&&(c=
a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Fc.i32ToFloat(f))}d.byteLength=d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=Fc.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new kc(a)}else throw new n("TODO "+E.string(a));d.subarray=jd._subarray;d.set=jd._set;return d};jd._set=
function(a,b){if(w.__instanceof(a.buffer,kc)){if(a.byteLength+b>this.byteLength)throw new n("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new n("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new n("TODO");};jd._subarray=function(a,b){var c=jd._new(this.slice(a,b));c.byteOffset=4*a;return c};var kd=function(){};h["js.html.compat.Uint8Array"]=kd;
kd.__name__=["js","html","compat","Uint8Array"];kd._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new kc(c)}else if(w.__instanceof(a,kc))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new kc(c);else throw new n("TODO "+E.string(a));c.subarray=kd._subarray;
c.set=kd._set;return c};kd._set=function(a,b){if(w.__instanceof(a.buffer,kc)){if(a.byteLength+b>this.byteLength)throw new n("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new n("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new n("TODO");};kd._subarray=function(a,b){var c=kd._new(this.slice(a,b));c.byteOffset=a;return c};var Ag=function(a){this.gameDeviceCache=
new Ib;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;Rd.init()};h["lime._backend.html5.HTML5Application"]=Ag;Ag.__name__=["lime","_backend","html5","HTML5Application"];Ag.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;
case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;
case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;
case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",p(this,this.handleKeyEvent),!1);window.addEventListener("keyup",p(this,this.handleKeyEvent),!1);window.addEventListener("focus",p(this,this.handleWindowEvent),
!1);window.addEventListener("blur",p(this,this.handleWindowEvent),!1);window.addEventListener("resize",p(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",p(this,this.handleWindowEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=
window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),g=Math.max(0,16-(f-a)),l=window.setTimeout(function(){b(f+g)},g);a=f+g;return l});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},getFrameRate:function(){return 0>
this.framePeriod?60:1E3==this.framePeriod?0:1E3/this.framePeriod},handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.__renderers[0]&&(this.parent.__renderers[0].onRender.dispatch(),this.parent.__renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+
this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(p(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__windows[0].onKeyDown.dispatch(b,c),this.parent.__windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.__windows[0].onKeyUp.dispatch(b,c),this.parent.__windows[0].onKeyUp.canceled&&
a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.__windows[0])switch(a.type){case "beforeunload":this.parent.__windows[0].onClose.dispatch();break;case "blur":this.parent.__windows[0].onFocusOut.dispatch();this.parent.__windows[0].onDeactivate.dispatch();break;case "focus":this.parent.__windows[0].onFocusIn.dispatch();this.parent.__windows[0].onActivate.dispatch();break;case "resize":a=this.parent.__windows[0].__width;var b=this.parent.__windows[0].__height;this.parent.__windows[0].backend.handleResize();
this.parent.__windows[0].__width==a&&this.parent.__windows[0].__height==b||this.parent.__windows[0].onResize.dispatch(this.parent.__windows[0].__width,this.parent.__windows[0].__height)}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},updateGameDevices:function(){var a=nb.__getDeviceData();if(null!=a)for(var b,c,d,e,f,g=0,l=a.length;g<l;)if(b=g++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new Bg;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<
d;){var t=c++;f.buttons.push(e.buttons[t].value)}c=0;for(d=e.axes.length;c<d;)t=c++,f.axes.push(e.axes[t]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(nb.__connect(b),f.isGamepad&&vb.__connect(b))}f=this.gameDeviceCache.h[b];d=nb.devices.h[b];c=vb.devices.h[b];if(e.connected){for(var C=0,h=e.buttons.length;C<h;){var k=C++,t=e.buttons[k].value;if(t!=f.buttons[k]){if(6==k)d.onAxisMove.dispatch(e.axes.length,t),null!=c&&c.onAxisMove.dispatch(4,t);else if(7==k)d.onAxisMove.dispatch(e.axes.length+
1,t),null!=c&&c.onAxisMove.dispatch(5,t);else if(0<t?d.onButtonDown.dispatch(k):d.onButtonUp.dispatch(k),null!=c){switch(k){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<t?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[k]=t}}b=0;for(t=e.axes.length;b<
t;)C=b++,e.axes[C]!=f.axes[C]&&(d.onAxisMove.dispatch(C,e.axes[C]),null!=c&&c.onAxisMove.dispatch(C,e.axes[C]),f.axes[C]=e.axes[C])}else f.connected&&(f.connected=!1,nb.__disconnect(b),vb.__disconnect(b))}},__class__:Ag};var Bg=function(){this.connected=!0;this.buttons=[];this.axes=[]};h["lime._backend.html5.GameDeviceData"]=Bg;Bg.__name__=["lime","_backend","html5","GameDeviceData"];Bg.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Bg};var Dg=function(a){this.parent=
a;this.gain=1;this.position=new Cg};h["lime._backend.html5.HTML5AudioSource"]=Dg;Dg.__name__=["lime","_backend","html5","HTML5AudioSource"];Dg.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,position:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;this.id=this.parent.buffer.__srcHowl.play();this.setGain(this.parent.get_gain());this.setPosition(this.parent.get_position());
this.parent.buffer.__srcHowl.on("end",p(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},stop:function(){this.playing=!1;this.parent.buffer.__srcHowl.stop(this.id)},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(this.parent.buffer.__srcHowl.stop(this.id),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(this.completed)return this.getLength();var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;
return 0>a?0:a},setCurrentTime:function(a){if(null!=this.parent.buffer){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&this.parent.buffer.__srcHowl.volume(a,this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:1E3*this.parent.buffer.__srcHowl.duration()|0},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=
a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;return this.position},__class__:Dg};var Eg=function(){};h["lime._backend.html5.HTML5HTTPRequest"]=Eg;Eg.__name__=["lime","_backend","html5","HTML5HTTPRequest"];Eg.prototype={binary:null,parent:null,request:null,init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=
c;b="";if(null==this.parent.data){for(c=this.parent.formData.keys();c.hasNext();){var d=c.next();0<b.length&&(b+="&");var e=encodeURIComponent(d)+"=",f=this.parent.formData,d=E.string(null!=m[d]?f.getReserved(d):f.h[d]);b+=e+encodeURIComponent(d)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(E.string(this.parent.method),a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");
a=!1;c=0;for(e=this.parent.headers;c<e.length;)d=e[c],++c,"Content-Type"==d.name&&(a=!0),this.request.setRequestHeader(d.name,d.value);a||this.request.setRequestHeader("Content-Type",this.parent.contentType);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(b)},loadData:function(a){var b=this,c=new ic;this.binary=!0;this.load(a,function(a){c.progress(a.loaded,a.total)},function(a){4==b.request.readyState&&(null!=b.request.status&&200<=b.request.status&&400>=
b.request.status?(a=""==b.request.responseType?gb.ofString(b.request.responseText):gb.ofData(b.request.response),b.processResponse(),c.complete(a)):(b.processResponse(),c.error(b.request.status)),b.request=null)});return c.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=ba.trim(I.substr(b,0,b.indexOf(":"))),b=ba.trim(I.substr(b,b.indexOf(":")+1,null)),
""!=a&&this.parent.responseHeaders.push(new Fg(a,b))}this.parent.responseStatus=this.request.status},__class__:Eg};var Sd=function(){};h["lime._backend.html5.HTML5Mouse"]=Sd;Sd.__name__=["lime","_backend","html5","HTML5Mouse"];Sd.set_cursor=function(a){if(Sd.__cursor!=a){if(!Sd.__hidden)for(var b=0,c=yc.current.__windows;b<c.length;){var d=c[b];++b;var e;switch(a[1]){case 0:e="default";break;case 1:e="crosshair";break;case 3:e="move";break;case 4:e="pointer";break;case 5:e="nesw-resize";break;case 6:e=
"ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:e="wait";break;case 11:e="wait";break;default:e="auto"}d.backend.element.style.cursor=e}Sd.__cursor=a}return Sd.__cursor};var Gg=function(a){this.parent=a};h["lime._backend.html5.HTML5Renderer"]=Gg;Gg.__name__=["lime","_backend","html5","HTML5Renderer"];Gg.prototype={parent:null,create:function(){this.createContext();0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",
p(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",p(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=Bb.DOM(this.parent.window.backend.div),this.parent.type=Xa.DOM;else if(null!=this.parent.window.backend.canvas){var a=null;if(!Object.prototype.hasOwnProperty.call(this.parent.window.config,"hardware")||this.parent.window.config.hardware)for(var b={alpha:Object.prototype.hasOwnProperty.call(this.parent.window.config,
"background")&&null==this.parent.window.config.background,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")?this.parent.window.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1},c=0,d=["webgl2",
"webgl","experimental-webgl"];c<d.length&&(a=d[c],++c,a=this.parent.window.backend.canvas.getContext(a,b),null==a););null==a?(this.parent.context=Bb.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Xa.CANVAS):(r.context=a,this.parent.context=Bb.OPENGL(r.context),this.parent.type=Xa.OPENGL)}},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),
this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:Gg};var we=function(a){this.unusedTouchesPool=new Qc;this.scale=1;this.currentTouches=new Ib;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element);a.__scale=this.scale;this.cacheMouseY=this.cacheMouseX=0};h["lime._backend.html5.HTML5Window"]=we;we.__name__=["lime","_backend","html5","HTML5Window"];we.prototype={canvas:null,div:null,element:null,cacheMouseX:null,
cacheMouseY:null,currentTouches:null,parent:null,primaryTouch:null,scale:null,setHeight:null,setWidth:null,unusedTouchesPool:null,close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=we.windowID++;w.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.div=window.document.createElement("div");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform",
"translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=
this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=Math.round(this.parent.__width*this.scale),this.canvas.height=Math.round(this.parent.__height*this.scale),this.canvas.style.width=this.parent.__width+"px",this.canvas.style.height=this.parent.__height+"px"):(this.div.style.width=this.parent.__width+
"px",this.div.style.height=this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,p(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),
!1):!0},!1);this.element.addEventListener("contextmenu",p(this,this.handleContextMenuEvent),!0);this.element.addEventListener("touchstart",p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",p(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",p(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",p(this,this.handleGamepadEvent),!0)}},handleContextMenuEvent:function(a){this.parent.onMouseUp.canceled&&
a.preventDefault()},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":nb.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&vb.__connect(a.gamepad.index);break;case "gamepaddisconnected":nb.__disconnect(a.gamepad.index),vb.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type){null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-
c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY);switch(a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);this.parent.onMouseDown.canceled&&a.preventDefault();break;case "mouseenter":a.target==this.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&
a.preventDefault());break;case "mouseleave":a.target==this.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.preventDefault());break;case "mousemove":if(b!=this.cacheMouseX||c!=this.cacheMouseY)this.parent.onMouseMove.dispatch(b,c),this.parent.onMouseMoveRelative.dispatch(b-this.cacheMouseX,c-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.preventDefault();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button),this.parent.onMouseUp.canceled&&
a.preventDefault()}this.cacheMouseX=b;this.cacheMouseY=c}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY),this.parent.onMouseWheel.canceled&&a.preventDefault()},handleResize:function(){this.primaryTouch=null;var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),
null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=Math.round(this.element.clientWidth*this.scale),this.canvas.height=Math.round(this.element.clientHeight*this.scale),this.canvas.style.width=this.element.clientWidth+"px",this.canvas.style.height=this.element.clientHeight+"px"):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else{var a=0!=this.setWidth?this.element.clientWidth/this.setWidth:1,b=0!=this.setHeight?this.element.clientHeight/
this.setHeight:1,c=this.element.clientWidth,d=this.element.clientHeight,e=0,f=0;a<b?(d=Math.floor(this.setHeight*a),f=Math.floor((this.element.clientHeight-d)/2)):(c=Math.floor(this.setWidth*b),e=Math.floor((this.element.clientWidth-c)/2));null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=c+"px",this.canvas.style.height=d+"px",this.canvas.style.marginLeft=e+"px",this.canvas.style.marginTop=f+"px"):(this.div.style.width=c+"px",this.div.style.height=d+"px",this.div.style.marginLeft=
e+"px",this.div.style.marginTop=f+"px")}},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var g=f[e];++e;var l=0,t=0;null!=b?(l=c/b.width*(g.clientX-b.left),t=d/b.height*(g.clientY-b.top)):(l=g.clientX,
t=g.clientY);switch(a.type){case "touchend":var C=this.currentTouches.get(g.identifier);if(null!=C){var h=C.x,k=C.y;C.x=l/c;C.y=t/d;C.dx=C.x-h;C.dy=C.y-k;C.pressure=g.force;bc.onEnd.dispatch(C);this.currentTouches.remove(g.identifier);this.unusedTouchesPool.add(C);C==this.primaryTouch&&(this.parent.onMouseUp.dispatch(l,t,0),this.primaryTouch=null)}break;case "touchmove":C=this.currentTouches.get(g.identifier);null!=C&&(h=C.x,k=C.y,C.x=l/c,C.y=t/d,C.dx=C.x-h,C.dy=C.y-k,C.pressure=g.force,bc.onMove.dispatch(C),
C==this.primaryTouch&&this.parent.onMouseMove.dispatch(l,t));break;case "touchstart":C=this.unusedTouchesPool.pop(),null==C?C=new bc(l/c,t/d,g.identifier,0,0,g.force,this.parent.id):(C.x=l/c,C.y=t/d,C.id=g.identifier,C.dx=0,C.dy=0,C.pressure=g.force,C.device=this.parent.id),this.currentTouches.set(g.identifier,C),bc.onStart.dispatch(C),null==this.primaryTouch&&(this.primaryTouch=C),C==this.primaryTouch&&this.parent.onMouseDown.dispatch(l,t,0)}}},resize:function(a,b){},setFullscreen:function(a){return!1},
__class__:we};var rf=function(){};h["lime.app.IModule"]=rf;rf.__name__=["lime","app","IModule"];rf.prototype={addRenderer:null,addWindow:null,registerModule:null,setPreloader:null,__class__:rf};var ad=function(){this.onExit=new Td;this.__renderers=[];this.__windows=[]};h["lime.app.Module"]=ad;ad.__name__=["lime","app","Module"];ad.__interfaces__=[rf];ad.prototype={onExit:null,__application:null,__preloader:null,__renderers:null,__windows:null,addRenderer:function(a){var b=p(this,this.render);a.onRender.add(function(){b(a)});
var c=p(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=p(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)});this.__renderers.push(a)},addWindow:function(a){var b=p(this,this.onWindowActivate);a.onActivate.add(function(){b(a)});var c=p(this,this.__onWindowClose);a.onClose.add(function(){c(a)});var d=p(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=p(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=p(this,
this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var g=p(this,this.onWindowEnter);a.onEnter.add(function(){g(a)});var l=p(this,this.onWindowFocusIn);a.onFocusIn.add(function(){l(a)});var t=p(this,this.onWindowFocusOut);a.onFocusOut.add(function(){t(a)});var C=p(this,this.onWindowFullscreen);a.onFullscreen.add(function(){C(a)});var h=p(this,this.onKeyDown);a.onKeyDown.add(function(b,c){h(a,b,c)});var k=p(this,this.onKeyUp);a.onKeyUp.add(function(b,c){k(a,b,c)});var m=p(this,this.onWindowLeave);
a.onLeave.add(function(){m(a)});var Ha=p(this,this.onWindowMinimize);a.onMinimize.add(function(){Ha(a)});var n=p(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){n(a,b,c,d)});var q=p(this,this.onMouseMove);a.onMouseMove.add(function(b,c){q(a,b,c)});var v=p(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){v(a,b,c)});var r=p(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){r(a,b,c,d)});var u=p(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){u(a,b,c)});var y=
p(this,this.onWindowMove);a.onMove.add(function(b,c){y(a,b,c)});var w=p(this,this.onWindowResize);a.onResize.add(function(b,c){w(a,b,c)});var A=p(this,this.onWindowRestore);a.onRestore.add(function(){A(a)});var x=p(this,this.onTextEdit);a.onTextEdit.add(function(b,c,d){x(a,b,c,d)});var z=p(this,this.onTextInput);a.onTextInput.add(function(b){z(a,b)});if(-1<a.id)this.onWindowCreate(a);this.__windows.push(a)},registerModule:function(a){this.__application=a;a.onExit.add(p(this,this.onModuleExit),!1,
0);a.onUpdate.add(p(this,this.update));for(a=vb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}vb.onConnect.add(p(this,this.__onGamepadConnect));for(a=nb.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);nb.onConnect.add(p(this,this.__onJoystickConnect));bc.onStart.add(p(this,this.onTouchStart));bc.onMove.add(p(this,this.onTouchMove));bc.onEnd.add(p(this,this.onTouchEnd))},removeRenderer:function(a){null!=a&&-1<this.__renderers.indexOf(a)&&I.remove(this.__renderers,
a)},setPreloader:function(a){null!=this.__preloader&&(this.__preloader.onProgress.remove(p(this,this.onPreloadProgress)),this.__preloader.onComplete.remove(p(this,this.onPreloadComplete)));this.__preloader=a;if(null==a||a.complete)this.onPreloadComplete();else a.onProgress.add(p(this,this.onPreloadProgress)),a.onComplete.add(p(this,this.onPreloadComplete))},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},
onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},
onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},
onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=p(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=p(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=p(this,this.onGamepadDisconnect);
a.onDisconnect.add(function(){e(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=p(this,this.onJoystickAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onJoystickButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=p(this,this.onJoystickButtonUp);a.onButtonUp.add(function(b){d(a,b)});var e=p(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){e(a)});var f=p(this,this.onJoystickHatMove);a.onHatMove.add(function(b,c){f(a,b,c)});var g=p(this,this.onJoystickTrackballMove);
a.onTrackballMove.add(function(b,c){g(a,b,c)})},__onWindowClose:function(a){this.onWindowClose(a);I.remove(this.__windows,a)},__class__:ad};var yc=function(){this.onUpdate=new Td;ad.call(this);null==yc.current&&(yc.current=this);this.modules=[];this.windowByID=new Ib;this.backend=new Ag(this);this.registerModule(this)};h["lime.app.Application"]=yc;yc.__name__=["lime","app","Application"];yc.__super__=ad;yc.prototype=q(ad.prototype,{config:null,modules:null,onUpdate:null,window:null,backend:null,windowByID:null,
addModule:function(a){a.registerModule(this);this.modules.push(a);if(0<this.__renderers.length)for(var b=0,c=this.__renderers;b<c.length;){var d=c[b];++b;a.addRenderer(d)}if(0<this.__windows.length)for(b=0,c=this.__windows;b<c.length;)d=c[b],++b,a.addWindow(d);a.setPreloader(this.__preloader)},addRenderer:function(a){ad.prototype.addRenderer.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.addRenderer(a)}},createWindow:function(a){ad.prototype.addWindow.call(this,a);for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.addWindow(a)}null==a.renderer&&(b=new Hg(a),this.addRenderer(b));a.create(this);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){yc.current=this;return this.backend.exec()},onModuleExit:function(a){this.backend.exit()},onWindowClose:function(a){this.removeWindow(a)},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(I.remove(this.__windows,a),this.windowByID.remove(a.id),a.close(),null!=a.renderer&&this.removeRenderer(a.renderer),
this.__windows[0]==a&&(this.window=null))},setPreloader:function(a){ad.prototype.setPreloader.call(this,a);for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.setPreloader(a)}},__class__:yc});var $b=function(a,b){null==b&&(b=!1);if(null!=a)if(b){var c=new ic;c.future=this;Sb.queue({promise:c,work:a})}else try{this.value=a(),this.isComplete=!0}catch(d){d instanceof n&&(d=d.val),this.error=d,this.isError=!0}};h["lime.app.Future"]=$b;$b.__name__=["lime","app","Future"];$b.withValue=function(a){var b=
new $b;b.isComplete=!0;b.value=a;return b};$b.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));
return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new $b;b.onError(this.error);return b}var c=new ic;this.onError(p(c,c.error));this.onProgress(p(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(p(c,c.error));b.onComplete(p(c,c.complete))});return c.future},__class__:$b};var Sb=function(){};h["lime.app._Future.FutureWork"]=
Sb;Sb.__name__=["lime","app","_Future","FutureWork"];Sb.queue=function(a){null==Sb.threadPool&&(Sb.threadPool=new Ig,Sb.threadPool.doWork.add(Sb.threadPool_doWork),Sb.threadPool.onComplete.add(Sb.threadPool_onComplete),Sb.threadPool.onError.add(Sb.threadPool_onError));Sb.threadPool.queue(a)};Sb.threadPool_doWork=function(a){try{var b=a.work();Sb.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof n&&(c=c.val),Sb.threadPool.sendError({promise:a.promise,error:c})}};Sb.threadPool_onComplete=
function(a){a.promise.complete(a.result)};Sb.threadPool_onError=function(a){a.promise.error(a.error)};var zd=function(){this.onProgress=new sf;this.onComplete=new ub;this.libraries=[];this.onProgress.add(p(this,this.update))};h["lime.app.Preloader"]=zd;zd.__name__=["lime","app","Preloader"];zd.prototype={complete:null,onComplete:null,onProgress:null,libraries:null,loadedLibraries:null,addLibrary:function(a){this.libraries.push(a)},create:function(a){},load:function(){var a=this;this.loadedLibraries=
-1;for(var b=0,c=this.libraries;b<c.length;){var d=c[b];++b;d.load().onComplete(function(b){a.loadedLibraries++;a.updateProgress()})}this.loadedLibraries++;this.updateProgress()},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},updateProgress:function(){this.update(this.loadedLibraries,this.libraries.length);this.loadedLibraries==this.libraries.length&&this.start()},__class__:zd};var ic=function(){this.future=new $b};h["lime.app.Promise"]=ic;ic.__name__=["lime",
"app","Promise"];ic.prototype={future:null,complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;
d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var e=d[c];++c;e(a,b)}return this},__class__:ic};var xe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Dynamic_Void"]=xe;xe.__name__=["lime","app","_Event_Dynamic_Void"];xe.prototype={canceled:null,__repeat:null,__priorities:null,
add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,
dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:xe};var tf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Int_Void"]=tf;tf.__name__=["lime","app","_Event_Float_Float_Int_Void"];tf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b,c){this.canceled=!1;
for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?++f:this.remove(d[f]),!this.canceled););},__class__:tf};var Ud=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Void"]=Ud;Ud.__name__=["lime","app","_Event_Float_Float_Void"];Ud.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););
},__class__:Ud};var uf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Float_Void"]=uf;uf.__name__=["lime","app","_Event_Int_Float_Void"];uf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:uf};var sf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=
[];this.__repeat=[]};h["lime.app._Event_Int_Int_Void"]=sf;sf.__name__=["lime","app","_Event_Int_Int_Void"];sf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:sf};var Td=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Void"]=Td;Td.__name__=["lime","app",
"_Event_Int_Void"];Td.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Td};var Jg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=Jg;Jg.__name__=["lime","app","_Event_Int_lime_ui_JoystickHatPosition_Void"];Jg.prototype={canceled:null,
__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:Jg};var Kg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Int_Int_Void"]=
Kg;Kg.__name__=["lime","app","_Event_String_Int_Int_Void"];Kg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,__class__:Kg};var vf=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Void"]=vf;vf.__name__=["lime","app","_Event_String_Void"];vf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__listeners:null,
__class__:vf};var ub=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Void_Void"]=ub;ub.__name__=["lime","app","_Event_Void_Void"];ub.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:ub};var Lg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=
[]};h["lime.app._Event_lime_graphics_RenderContext_Void"]=Lg;Lg.__name__=["lime","app","_Event_lime_graphics_RenderContext_Void"];Lg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Lg};var Mg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Mg;Mg.__name__=
["lime","app","_Event_lime_ui_GamepadAxis_Float_Void"];Mg.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Mg};var wf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadButton_Void"]=wf;wf.__name__=["lime","app","_Event_lime_ui_GamepadButton_Void"];wf.prototype=
{canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:wf};var Ng=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Gamepad_Void"]=Ng;Ng.__name__=["lime","app","_Event_lime_ui_Gamepad_Void"];Ng.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=
0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Ng};var Og=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Joystick_Void"]=Og;Og.__name__=["lime","app","_Event_lime_ui_Joystick_Void"];Og.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>
this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&
(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Og};var xf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=xf;xf.__name__=["lime","app","_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"];xf.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),
d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:xf};var ye=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Touch_Void"]=ye;ye.__name__=["lime","app","_Event_lime_ui_Touch_Void"];ye.prototype={canceled:null,__repeat:null,__priorities:null,add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)la.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},__listeners:null,dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ye};var ki=function(){};
h["lime.audio.ALAudioContext"]=ki;ki.__name__=["lime","audio","ALAudioContext"];var li=function(){};h["lime.audio.ALCAudioContext"]=li;li.__name__=["lime","audio","ALCAudioContext"];var zb=function(){};h["lime.audio.AudioBuffer"]=zb;zb.__name__=["lime","audio","AudioBuffer"];zb.fromBytes=function(a){return null};zb.fromFile=function(a){if(null==a)return null;var b=new zb;b.__srcHowl=new Howl({src:[a]});return b};zb.fromFiles=function(a){var b=new zb;b.__srcHowl=new Howl({src:a});return b};zb.fromURL=
function(a,b){var c=new zb;c.__srcHowl=new Howl({src:[a]});c.__srcHowl.on("load",function(){b(c)});c.__srcHowl.on("loaderror",function(){b(null)});c.__srcHowl.load()};zb.loadFromFile=function(a){var b=new ic,c=zb.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};zb.loadFromFiles=function(a){var b=new ic,c=zb.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),
c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};zb.prototype={__srcHowl:null,__class__:zb};var Rc=h["lime.audio.AudioContext"]={__ename__:["lime","audio","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Rc.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=Rc;c.toString=B;return c};Rc.HTML5=function(a){a=["HTML5",1,a];a.__enum__=Rc;a.toString=B;return a};Rc.WEB=function(a){a=["WEB",2,a];a.__enum__=Rc;a.toString=
B;return a};Rc.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Rc;a.toString=B;return a};Rc.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=Rc;a.toString=B;return a};var Rd=function(){};h["lime.audio.AudioManager"]=Rd;Rd.__name__=["lime","audio","AudioManager"];Rd.init=function(a){if(null==Rd.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Rd.context=Rc.WEB(new AudioContext)}catch(b){Rd.context=Rc.HTML5(new Pg)}else Rd.context=a};var Qg=function(a,b,c,d){null==
d&&(d=0);null==b&&(b=0);this.onComplete=new ub;this.buffer=a;this.offset=b;this.backend=new Dg(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};h["lime.audio.AudioSource"]=Qg;Qg.__name__=["lime","audio","AudioSource"];Qg.prototype={onComplete:null,buffer:null,offset:null,backend:null,dispose:function(){this.backend.dispose()},init:function(){this.backend.init()},play:function(){this.backend.play()},stop:function(){this.backend.stop()},get_currentTime:function(){return this.backend.getCurrentTime()},
set_currentTime:function(a){return this.backend.setCurrentTime(a)},get_gain:function(){return this.backend.getGain()},set_gain:function(a){return this.backend.setGain(a)},set_length:function(a){return this.backend.setLength(a)},set_loops:function(a){return this.backend.setLoops(a)},get_position:function(){return this.backend.getPosition()},set_position:function(a){return this.backend.setPosition(a)},__class__:Qg,__properties__:{set_position:"set_position",get_position:"get_position",set_loops:"set_loops",
set_length:"set_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var mi=function(){};h["lime.audio.FlashAudioContext"]=mi;mi.__name__=["lime","audio","FlashAudioContext"];var Pg=function(){};h["lime.audio.HTML5AudioContext"]=Pg;Pg.__name__=["lime","audio","HTML5AudioContext"];Pg.prototype={__class__:Pg};var Gh=function(){};h["lime.graphics.ConsoleRenderContext"]=Gh;Gh.__name__=["lime","graphics","ConsoleRenderContext"];Gh.prototype=
{__class__:Gh};var ni=function(){};h["lime.graphics.FlashRenderContext"]=ni;ni.__name__=["lime","graphics","FlashRenderContext"];var ra=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;this.version=0;if(null==g)if(null!=yc.current&&null!=yc.current.__renderers[0]){switch(yc.current.__renderers[0].context[1]){case 1:case 2:b=Ua.CANVAS;break;case 3:b=Ua.FLASH;break;default:b=Ua.DATA}this.type=b}else this.type=
Ua.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new bd(null,d,e);S.createCanvas(this,d,e);null!=f&&this.fillRect(new Oc(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new Ec(a):null,this.buffer=new bd(a,d,e),null!=f&&this.fillRect(new Oc(0,0,d,e),f)}}else this.__fromImageBuffer(a)};h["lime.graphics.Image"]=ra;ra.__name__=["lime","graphics","Image"];ra.fromBase64=function(a,b,c){if(null==a)return null;var d=new ra;d.__fromBase64(a,b,c);return d};ra.fromBitmapData=
function(a){return null==a?null:a.image};ra.fromBytes=function(a,b){if(null==a)return null;var c=new ra;c.__fromBytes(a,b);return c};ra.fromCanvas=function(a){if(null==a)return null;var b=new bd(null,a.width,a.height);b.set_src(a);a=new ra(b);a.type=Ua.CANVAS;return a};ra.fromFile=function(a,b,c){if(null==a)return null;var d=new ra;d.__fromFile(a,b,c);return d};ra.fromImageElement=function(a){if(null==a)return null;var b=new bd(null,a.width,a.height);b.set_src(a);a=new ra(b);a.type=Ua.CANVAS;return a};
ra.loadFromBase64=function(a,b){var c=new ic;ra.fromBase64(a,b,function(a){c.complete(a)});return c.future};ra.loadFromBytes=function(a){var b=new ic;ra.fromBytes(a,function(a){b.complete(a)});return b.future};ra.loadFromFile=function(a){var b=new ic;ra.fromFile(a,function(a){b.complete(a)},function(){b.error("")});return b.future};ra.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==ra.__base64Encoder&&(ra.__base64Encoder=new zg(gb.ofString(ra.__base64Chars)));
return ra.__base64Encoder.encodeBytes(a).toString()+b};ra.__isJPG=function(a){return 255==a.b[0]?216==a.b[1]:!1};ra.__isPNG=function(a){return 137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};ra.__isGIF=function(a){if(71==a.b[0]&&73==a.b[1]&&70==a.b[2]&&56==a.b[3]){var b=a.b[4];if(55==b||57==b)return 97==a.b[5]}return!1};ra.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,type:null,version:null,width:null,clone:function(){if(null!=
this.buffer){this.type==Ua.CANVAS?S.convertToCanvas(this):S.convertToData(this);var a=new ra(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new ra(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.colorTransform(this,a,b);break;case 1:S.convertToData(this);rb.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,
this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),cb.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==Cb.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:S.copyChannel(this,a,b,c,d,e);break;case 1:S.convertToData(this);rb.copyChannel(this,a,b,c,d,e);break;case 2:var f;switch(d[1]){case 0:f=
1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}var g;switch(e[1]){case 0:g=1;break;case 1:g=2;break;case 2:g=4;break;case 3:g=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),f,g)}},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>
a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,b.y-=c.y,c.y=0),a==this&&(a=this.clone()),this.type[1]){case 0:S.convertToCanvas(this);S.copyPixels(this,a,b,c,d,e,f);break;case 1:S.convertToData(this);S.convertToData(a);rb.copyPixels(this,a,b,c,d,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,
this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,f)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.fillRect(this,a,b,c);break;case 1:S.convertToData(this);if(0==this.buffer.data.length)break;rb.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);
if(null==c)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},setPixel32:function(a,b,c,d){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:S.setPixel32(this,a,b,c,d);break;case 1:S.convertToData(this);rb.setPixel32(this,a,
b,c,d);break;case 2:if(null==d)c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255;else switch(d){case 1:break;case 2:c=(c&255)<<24|(c>>>8&255)<<16|(c>>>16&255)<<8|c>>>24&255;break;default:c=(c&255)<<24|(c>>>24&255)<<16|(c>>>16&255)<<8|c>>>8&255}this.buffer.__srcBitmapData.setPixel32(a+this.offsetX,b+this.offsetY,c)}},setPixels:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:S.setPixels(this,a,b,c);break;case 1:S.convertToData(this),rb.setPixels(this,
a,b,c)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new bd(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=
d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(ra.__isPNG(a))c="image/png";else if(ra.__isJPG(a))c="image/jpeg";else if(ra.__isGIF(a))c="image/gif";else throw new n("Image tried to read PNG/JPG Bytes, but found an invalid header.");this.__fromBase64(ra.__base64Encode(a),c,b)},__fromFile:function(a,b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.onload=function(a){d.buffer=new bd(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;
d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&S.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){this.buffer.format!=a&&1==this.type[1]&&rb.setFormat(this,a);return this.buffer.format=
a},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 0:case 1:S.convertToData(this),rb.multiplyAlpha(this)}else!a&&this.buffer.premultiplied&&1==this.type[1]&&(S.convertToData(this),rb.unmultiplyAlpha(this));return a},get_rect:function(){return new Oc(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&S.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==
this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:ra,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var bd=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;
this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};h["lime.graphics.ImageBuffer"]=bd;bd.__name__=["lime","graphics","ImageBuffer"];bd.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcImage:null,__srcImageData:null,clone:function(){var a=new bd(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,
b=null!=b?new Ec(b):null;a.data=b;b=this.data;b=null!=b?new Ec(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?
(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){w.__instanceof(a,
Image)?this.__srcImage=a:w.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:bd,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Cb=h["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};Cb.RED=["RED",0];Cb.RED.toString=B;Cb.RED.__enum__=Cb;Cb.GREEN=["GREEN",1];Cb.GREEN.toString=
B;Cb.GREEN.__enum__=Cb;Cb.BLUE=["BLUE",2];Cb.BLUE.toString=B;Cb.BLUE.__enum__=Cb;Cb.ALPHA=["ALPHA",3];Cb.ALPHA.toString=B;Cb.ALPHA.__enum__=Cb;var Ua=h["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Ua.CANVAS=["CANVAS",0];Ua.CANVAS.toString=B;Ua.CANVAS.__enum__=Ua;Ua.DATA=["DATA",1];Ua.DATA.toString=B;Ua.DATA.__enum__=Ua;Ua.FLASH=["FLASH",2];Ua.FLASH.toString=B;Ua.FLASH.__enum__=Ua;Ua.CUSTOM=["CUSTOM",3];Ua.CUSTOM.toString=
B;Ua.CUSTOM.__enum__=Ua;var Bb=h["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};Bb.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=Bb;a.toString=B;return a};Bb.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=Bb;a.toString=B;return a};Bb.DOM=function(a){a=["DOM",2,a];a.__enum__=Bb;a.toString=B;return a};Bb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Bb;a.toString=B;return a};Bb.CAIRO=function(a){a=
["CAIRO",4,a];a.__enum__=Bb;a.toString=B;return a};Bb.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=Bb;a.toString=B;return a};Bb.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=Bb;a.toString=B;return a};Bb.NONE=["NONE",7];Bb.NONE.toString=B;Bb.NONE.__enum__=Bb;var Hg=function(a){this.onRender=new ub;this.onContextRestored=new Lg;this.onContextLost=new ub;this.window=a;this.backend=new Gg(this);this.window.renderer=this};h["lime.graphics.Renderer"]=Hg;Hg.__name__=["lime","graphics","Renderer"];Hg.prototype=
{context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:Hg};var Xa=h["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};Xa.OPENGL=["OPENGL",0];Xa.OPENGL.toString=B;Xa.OPENGL.__enum__=Xa;Xa.CANVAS=["CANVAS",1];Xa.CANVAS.toString=B;Xa.CANVAS.__enum__=Xa;Xa.DOM=["DOM",
2];Xa.DOM.toString=B;Xa.DOM.__enum__=Xa;Xa.FLASH=["FLASH",3];Xa.FLASH.toString=B;Xa.FLASH.__enum__=Xa;Xa.CAIRO=["CAIRO",4];Xa.CAIRO.toString=B;Xa.CAIRO.__enum__=Xa;Xa.CONSOLE=["CONSOLE",5];Xa.CONSOLE.toString=B;Xa.CONSOLE.__enum__=Xa;Xa.CUSTOM=["CUSTOM",6];Xa.CUSTOM.toString=B;Xa.CUSTOM.__enum__=Xa;var Hh=function(){};h["lime.graphics.cairo.Cairo"]=Hh;Hh.__name__=["lime","graphics","cairo","Cairo"];Hh.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},identityMatrix:function(){},
lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},rectangle:function(a,b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:Hh,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};
var Ih={};h["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=Ih;Ih.__name__=["lime","graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"];Ih.fromImage=function(a){return null};var ze={};h["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=ze;ze.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"];ze.__properties__={set_filter:"set_filter"};ze.createForSurface=function(a){return 0};ze.set_filter=function(a,b){return b};var Jh={};h["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=
Jh;Jh.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"];Jh.flush=function(a){};var r=function(){};h["lime.graphics.opengl.GL"]=r;r.__name__=["lime","graphics","opengl","GL"];var S=function(){};h["lime.graphics.utils.ImageCanvasUtil"]=S;S.__name__=["lime","graphics","utils","ImageCanvasUtil"];S.colorTransform=function(a,b,c){S.convertToData(a);rb.colorTransform(a,b,c)};S.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(S.createCanvas(a,
c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),S.createCanvas(a,c.width,c.height),S.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==Ua.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=Ua.CANVAS};
S.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&S.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)S.createImageData(a),a.type==Ua.CANVAS&&(a.dirty=!1);else if(a.type==Ua.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)S.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer,d=null!=d?new Ec(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);
a.type=Ua.DATA};S.copyChannel=function(a,b,c,d,e,f){S.convertToData(b);S.convertToData(a);rb.copyChannel(a,b,c,d,e,f)};S.copyPixels=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==d||d.x>=a.width||d.y>=a.height||null==c||1>c.width||1>c.height||(null!=e&&e.get_transparent()&&(null==f&&(f=new gd),b=a.clone(),b.copyChannel(e,new Oc(f.x,f.y,c.width,c.height),new gd(c.x,c.y),Cb.ALPHA,Cb.ALPHA)),S.convertToCanvas(a,!0),g||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(d.x+a.offsetX,
d.y+a.offsetY,c.width+a.offsetX,c.height+a.offsetY),S.convertToCanvas(b),null!=b.buffer.get_src()&&a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,d.x+a.offsetX|0,d.y+a.offsetY|0,c.width|0,c.height|0),a.dirty=!0,a.version++)};S.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):
(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};S.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));
var b=a.__srcImageData.data.buffer,b=null!=b?new Ec(b):null;a.data=b}};S.fillRect=function(a,b,c,d){S.convertToCanvas(a);var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+
a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),a.dirty=!0,a.version++)};S.setPixel32=function(a,b,c,d,e){S.convertToData(a);rb.setPixel32(a,b,c,d,e)};S.setPixels=function(a,b,c,d){S.convertToData(a);rb.setPixels(a,b,c,d)};S.sync=function(a,b){null!=a&&(a.type==Ua.CANVAS?S.convertToCanvas(a,b):S.convertToData(a,b))};var rb=function(){};h["lime.graphics.utils.ImageDataUtil"]=rb;rb.__name__=["lime","graphics","utils","ImageDataUtil"];rb.colorTransform=function(a,b,c){var d=a.buffer.data;
if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Sc(a,b);var g=cb.getAlphaTable(c),l=cb.getRedTable(c),t=cb.getGreenTable(c);c=cb.getBlueTable(c);for(var C,h,k,p=0,m=b.height;p<m;){C=p++;C=b.offset+b.stride*C;for(var n=0,q=b.width;n<q;){h=n++;h=C+4*h;switch(e){case 0:k=(d[h]&255)<<24|(d[h+1]&255)<<16|(d[h+2]&255)<<8|d[h+3]&255;break;case 1:k=(d[h+1]&255)<<24|(d[h+2]&255)<<16|(d[h+3]&255)<<8|d[h]&255;break;case 2:k=(d[h+2]&255)<<24|(d[h+1]&255)<<16|(d[h]&255)<<8|d[h+3]&255}f&&0!=(k&
255)&&255!=(k&255)&&(y.unmult=255/(k&255),k=(y.__clamp[Math.round((k>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((k>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((k>>>8&255)*y.unmult)]&255)<<8|k&255);k=(l[k>>>24&255]&255)<<24|(t[k>>>16&255]&255)<<16|(c[k>>>8&255]&255)<<8|g[k&255]&255;f&&(0==(k&255)?0!=k&&(k=0):255!=(k&255)&&(y.a16=y.__alpha16[k&255],k=((k>>>24&255)*y.a16>>16&255)<<24|((k>>>16&255)*y.a16>>16&255)<<16|((k>>>8&255)*y.a16>>16&255)<<8|k&255));switch(e){case 0:d[h]=k>>>24&
255;d[h+1]=k>>>16&255;d[h+2]=k>>>8&255;d[h+3]=k&255;break;case 1:d[h]=k&255;d[h+1]=k>>>24&255;d[h+2]=k>>>16&255;d[h+3]=k>>>8&255;break;case 2:d[h]=k>>>8&255,d[h+1]=k>>>16&255,d[h+2]=k>>>24&255,d[h+3]=k&255}}}a.dirty=!0;a.version++}};rb.copyChannel=function(a,b,c,d,e,f){var g;switch(f[1]){case 0:g=0;break;case 1:g=1;break;case 2:g=2;break;case 3:g=3}var l;switch(e[1]){case 0:l=0;break;case 1:l=1;break;case 2:l=2;break;case 3:l=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&null!=f){c=new Sc(b,c);d=
new Sc(a,new Oc(d.x,d.y,c.width,c.height));var t=b.buffer.format,h=a.buffer.format;b=b.buffer.premultiplied;for(var k=a.buffer.premultiplied,D,p,m,n,q=0,v=0,r=d.height;v<r;){p=v++;D=c.offset+c.stride*p;p=d.offset+d.stride*p;for(var u=0,w=d.width;u<w;){u++;switch(t){case 0:m=(e[D]&255)<<24|(e[D+1]&255)<<16|(e[D+2]&255)<<8|e[D+3]&255;break;case 1:m=(e[D+1]&255)<<24|(e[D+2]&255)<<16|(e[D+3]&255)<<8|e[D]&255;break;case 2:m=(e[D+2]&255)<<24|(e[D+1]&255)<<16|(e[D]&255)<<8|e[D+3]&255}b&&0!=(m&255)&&255!=
(m&255)&&(y.unmult=255/(m&255),m=(y.__clamp[Math.round((m>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((m>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((m>>>8&255)*y.unmult)]&255)<<8|m&255);switch(h){case 0:n=(f[p]&255)<<24|(f[p+1]&255)<<16|(f[p+2]&255)<<8|f[p+3]&255;break;case 1:n=(f[p+1]&255)<<24|(f[p+2]&255)<<16|(f[p+3]&255)<<8|f[p]&255;break;case 2:n=(f[p+2]&255)<<24|(f[p+1]&255)<<16|(f[p]&255)<<8|f[p+3]&255}k&&0!=(n&255)&&255!=(n&255)&&(y.unmult=255/(n&255),n=(y.__clamp[Math.round((n>>>
24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((n>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((n>>>8&255)*y.unmult)]&255)<<8|n&255);switch(l){case 0:q=m>>>24&255;break;case 1:q=m>>>16&255;break;case 2:q=m>>>8&255;break;case 3:q=m&255}switch(g){case 0:n=(q&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|n&255;break;case 1:n=(n>>>24&255)<<24|(q&255)<<16|(n>>>8&255)<<8|n&255;break;case 2:n=(n>>>24&255)<<24|(n>>>16&255)<<16|(q&255)<<8|n&255;break;case 3:n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&
255)<<8|q&255}k&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(y.a16=y.__alpha16[n&255],n=((n>>>24&255)*y.a16>>16&255)<<24|((n>>>16&255)*y.a16>>16&255)<<16|((n>>>8&255)*y.a16>>16&255)<<8|n&255));switch(h){case 0:f[p]=n>>>24&255;f[p+1]=n>>>16&255;f[p+2]=n>>>8&255;f[p+3]=n&255;break;case 1:f[p]=n&255;f[p+1]=n>>>24&255;f[p+2]=n>>>16&255;f[p+3]=n>>>8&255;break;case 2:f[p]=n>>>8&255,f[p+1]=n>>>16&255,f[p+2]=n>>>24&255,f[p+3]=n&255}D+=4;p+=4}}a.dirty=!0;a.version++}};rb.copyPixels=function(a,b,c,d,e,f,g){null==
g&&(g=!1);var l=b.buffer.data,t=a.buffer.data;if(null!=l&&null!=t){c=new Sc(b,c);d=new Sc(a,new Oc(d.x,d.y,c.width,c.height));var h=b.buffer.format,k=a.buffer.format,D=b.buffer.premultiplied,p=a.buffer.premultiplied,n;if(g&&b.get_transparent()){var m,q,v;if(null==e)for(var r=0,u=d.height;r<u;){f=r++;e=c.offset+c.stride*f;f=d.offset+d.stride*f;for(var w=0,A=d.width;w<A;){w++;switch(h){case 0:n=(l[e]&255)<<24|(l[e+1]&255)<<16|(l[e+2]&255)<<8|l[e+3]&255;break;case 1:n=(l[e+1]&255)<<24|(l[e+2]&255)<<
16|(l[e+3]&255)<<8|l[e]&255;break;case 2:n=(l[e+2]&255)<<24|(l[e+1]&255)<<16|(l[e]&255)<<8|l[e+3]&255}D&&0!=(n&255)&&255!=(n&255)&&(y.unmult=255/(n&255),n=(y.__clamp[Math.round((n>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((n>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((n>>>8&255)*y.unmult)]&255)<<8|n&255);switch(k){case 0:v=(t[f]&255)<<24|(t[f+1]&255)<<16|(t[f+2]&255)<<8|t[f+3]&255;break;case 1:v=(t[f+1]&255)<<24|(t[f+2]&255)<<16|(t[f+3]&255)<<8|t[f]&255;break;case 2:v=(t[f+2]&255)<<
24|(t[f+1]&255)<<16|(t[f]&255)<<8|t[f+3]&255}p&&0!=(v&255)&&255!=(v&255)&&(y.unmult=255/(v&255),v=(y.__clamp[Math.round((v>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((v>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((v>>>8&255)*y.unmult)]&255)<<8|v&255);g=(n&255)/255;m=(v&255)/255;q=1-g;b=g+m*q;if(0==b)v=0;else{v=(y.__clamp[Math.round(((n>>>24&255)*g+(v>>>24&255)*m*q)/b)]&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|v&255;var x=y.__clamp[Math.round(((n>>>16&255)*g+(v>>>16&255)*m*q)/b)];
v=(v>>>24&255)<<24|(x&255)<<16|(v>>>8&255)<<8|v&255;g=y.__clamp[Math.round(((n>>>8&255)*g+(v>>>8&255)*m*q)/b)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(g&255)<<8|v&255;b=y.__clamp[Math.round(255*b)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|b&255}p&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(y.a16=y.__alpha16[v&255],v=((v>>>24&255)*y.a16>>16&255)<<24|((v>>>16&255)*y.a16>>16&255)<<16|((v>>>8&255)*y.a16>>16&255)<<8|v&255));switch(k){case 0:t[f]=v>>>24&255;t[f+1]=v>>>16&255;t[f+2]=v>>>8&255;t[f+3]=
v&255;break;case 1:t[f]=v&255;t[f+1]=v>>>24&255;t[f+2]=v>>>16&255;t[f+3]=v>>>8&255;break;case 2:t[f]=v>>>8&255,t[f+1]=v>>>16&255,t[f+2]=v>>>24&255,t[f+3]=v&255}e+=4;f+=4}}else{null==f&&(f=new gd);for(var u=e.buffer.data,w=e.buffer.format,A=e.buffer.premultiplied,x=new Sc(e,new Oc(f.x,f.y,d.width,d.height)),z,B=0,E=x.height;B<E;){b=B++;e=c.offset+c.stride*b;f=d.offset+d.stride*b;z=x.offset+x.stride*b;for(var F=0,G=x.width;F<G;){F++;switch(h){case 0:n=(l[e]&255)<<24|(l[e+1]&255)<<16|(l[e+2]&255)<<8|
l[e+3]&255;break;case 1:n=(l[e+1]&255)<<24|(l[e+2]&255)<<16|(l[e+3]&255)<<8|l[e]&255;break;case 2:n=(l[e+2]&255)<<24|(l[e+1]&255)<<16|(l[e]&255)<<8|l[e+3]&255}D&&0!=(n&255)&&255!=(n&255)&&(y.unmult=255/(n&255),n=(y.__clamp[Math.round((n>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((n>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((n>>>8&255)*y.unmult)]&255)<<8|n&255);switch(k){case 0:v=(t[f]&255)<<24|(t[f+1]&255)<<16|(t[f+2]&255)<<8|t[f+3]&255;break;case 1:v=(t[f+1]&255)<<24|(t[f+2]&255)<<
16|(t[f+3]&255)<<8|t[f]&255;break;case 2:v=(t[f+2]&255)<<24|(t[f+1]&255)<<16|(t[f]&255)<<8|t[f+3]&255}p&&0!=(v&255)&&255!=(v&255)&&(y.unmult=255/(v&255),v=(y.__clamp[Math.round((v>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((v>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((v>>>8&255)*y.unmult)]&255)<<8|v&255);switch(w){case 0:r=(u[z]&255)<<24|(u[z+1]&255)<<16|(u[z+2]&255)<<8|u[z+3]&255;break;case 1:r=(u[z+1]&255)<<24|(u[z+2]&255)<<16|(u[z+3]&255)<<8|u[z]&255;break;case 2:r=(u[z+2]&255)<<
24|(u[z+1]&255)<<16|(u[z]&255)<<8|u[z+3]&255}A&&0!=(r&255)&&255!=(r&255)&&(y.unmult=255/(r&255),r=(y.__clamp[Math.round((r>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((r>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((r>>>8&255)*y.unmult)]&255)<<8|r&255);g=(r&255)/255;m=(v&255)/255;q=1-g;b=g+m*q;if(0==b)v=0;else{v=(y.__clamp[Math.round(((n>>>24&255)*g+(v>>>24&255)*m*q)/b)]&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|v&255;var H=y.__clamp[Math.round(((n>>>16&255)*g+(v>>>16&255)*m*q)/b)];
v=(v>>>24&255)<<24|(H&255)<<16|(v>>>8&255)<<8|v&255;g=y.__clamp[Math.round(((n>>>8&255)*g+(v>>>8&255)*m*q)/b)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(g&255)<<8|v&255;b=y.__clamp[Math.round(255*b)];v=(v>>>24&255)<<24|(v>>>16&255)<<16|(v>>>8&255)<<8|b&255}p&&(0==(v&255)?0!=v&&(v=0):255!=(v&255)&&(y.a16=y.__alpha16[v&255],v=((v>>>24&255)*y.a16>>16&255)<<24|((v>>>16&255)*y.a16>>16&255)<<16|((v>>>8&255)*y.a16>>16&255)<<8|v&255));switch(k){case 0:t[f]=v>>>24&255;t[f+1]=v>>>16&255;t[f+2]=v>>>8&255;t[f+3]=
v&255;break;case 1:t[f]=v&255;t[f+1]=v>>>24&255;t[f+2]=v>>>16&255;t[f+3]=v>>>8&255;break;case 2:t[f]=v>>>8&255,t[f+1]=v>>>16&255,t[f+2]=v>>>24&255,t[f+3]=v&255}e+=4;f+=4}}}}else for(v=0,r=d.height;v<r;)for(f=v++,e=c.offset+c.stride*f,f=d.offset+d.stride*f,b=0,g=d.width;b<g;){b++;switch(h){case 0:n=(l[e]&255)<<24|(l[e+1]&255)<<16|(l[e+2]&255)<<8|l[e+3]&255;break;case 1:n=(l[e+1]&255)<<24|(l[e+2]&255)<<16|(l[e+3]&255)<<8|l[e]&255;break;case 2:n=(l[e+2]&255)<<24|(l[e+1]&255)<<16|(l[e]&255)<<8|l[e+3]&
255}D&&0!=(n&255)&&255!=(n&255)&&(y.unmult=255/(n&255),n=(y.__clamp[Math.round((n>>>24&255)*y.unmult)]&255)<<24|(y.__clamp[Math.round((n>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((n>>>8&255)*y.unmult)]&255)<<8|n&255);p&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(y.a16=y.__alpha16[n&255],n=((n>>>24&255)*y.a16>>16&255)<<24|((n>>>16&255)*y.a16>>16&255)<<16|((n>>>8&255)*y.a16>>16&255)<<8|n&255));switch(k){case 0:t[f]=n>>>24&255;t[f+1]=n>>>16&255;t[f+2]=n>>>8&255;t[f+3]=n&255;break;case 1:t[f]=n&
255;t[f+1]=n>>>24&255;t[f+2]=n>>>16&255;t[f+3]=n>>>8&255;break;case 2:t[f]=n>>>8&255,t[f+1]=n>>>16&255,t[f+2]=n>>>24&255,t[f+3]=n&255}e+=4;f+=4}a.dirty=!0;a.version++}};rb.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255);d=a.buffer.data;if(null!=d){var e=a.buffer.format;a.buffer.premultiplied&&
(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(y.a16=y.__alpha16[c&255],c=((c>>>24&255)*y.a16>>16&255)<<24|((c>>>16&255)*y.a16>>16&255)<<16|((c>>>8&255)*y.a16>>16&255)<<8|c&255));b=new Sc(a,b);for(var f,g=0,l=b.height;g<l;){f=g++;f=b.offset+b.stride*f;for(var t=0,h=b.width;t<h;){var k=t++,k=f+4*k;switch(e){case 0:d[k]=c>>>24&255;d[k+1]=c>>>16&255;d[k+2]=c>>>8&255;d[k+3]=c&255;break;case 1:d[k]=c&255;d[k+1]=c>>>24&255;d[k+2]=c>>>16&255;d[k+3]=c>>>8&255;break;case 2:d[k]=c>>>8&255,d[k+1]=c>>>16&255,d[k+2]=
c>>>24&255,d[k+3]=c&255}}}a.dirty=!0;a.version++}};rb.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var g=e++,l=4*g;switch(c){case 0:d=(b[l]&255)<<24|(b[l+1]&255)<<16|(b[l+2]&255)<<8|b[l+3]&255;break;case 1:d=(b[l+1]&255)<<24|(b[l+2]&255)<<16|(b[l+3]&255)<<8|b[l]&255;break;case 2:d=(b[l+2]&255)<<24|(b[l+1]&255)<<16|(b[l]&255)<<8|b[l+3]&255}g*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(y.a16=y.__alpha16[d&255],d=((d>>>
24&255)*y.a16>>16&255)<<24|((d>>>16&255)*y.a16>>16&255)<<16|((d>>>8&255)*y.a16>>16&255)<<8|d&255);switch(c){case 0:b[g]=d>>>24&255;b[g+1]=d>>>16&255;b[g+2]=d>>>8&255;b[g+3]=d&255;break;case 1:b[g]=d&255;b[g+1]=d>>>24&255;b[g+2]=d>>>16&255;b[g+3]=d>>>8&255;break;case 2:b[g]=d>>>8&255,b[g+1]=d>>>16&255,b[g+2]=d>>>24&255,b[g+3]=d&255}}a.buffer.premultiplied=!0;a.dirty=!0;a.version++}};rb.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,g,l,t,h,k,n,p,m,q,r,v;switch(a.get_format()){case 0:f=
0;g=1;l=2;t=3;break;case 1:f=1;g=2;l=3;t=0;break;case 2:f=2,g=1,l=0,t=3}switch(b){case 0:h=0;k=1;n=2;p=3;break;case 1:h=1;k=2;n=3;p=0;break;case 2:h=2,k=1,n=0,p=3}for(var u=0;u<e;)d=4*u++,m=c[d+f],q=c[d+g],r=c[d+l],v=c[d+t],c[d+h]=m,c[d+k]=q,c[d+n]=r,c[d+p]=v;a.buffer.format=b;a.dirty=!0;a.version++}};rb.setPixel32=function(a,b,c,d,e){switch(e){case 1:d=(d>>>16&255)<<24|(d>>>8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255;break}a.get_transparent()||
(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255);e=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(y.a16=y.__alpha16[d&255],d=((d>>>24&255)*y.a16>>16&255)<<24|((d>>>16&255)*y.a16>>16&255)<<16|((d>>>8&255)*y.a16>>16&255)<<8|d&255));switch(a.buffer.format){case 0:e[b]=d>>>24&255;e[b+1]=d>>>16&255;e[b+2]=d>>>8&255;e[b+3]=d&255;break;case 1:e[b]=d&255;e[b+1]=d>>>24&255;e[b+2]=d>>>16&255;e[b+3]=d>>>8&255;break;case 2:e[b]=
d>>>8&255,e[b+1]=d>>>16&255,e[b+2]=d>>>24&255,e[b+3]=d&255}a.dirty=!0;a.version++};rb.setPixels=function(a,b,c,d){if(null!=a.buffer.data){var e=a.buffer.data,f=a.buffer.format,g=a.buffer.premultiplied;b=new Sc(a,b);for(var l,t,h=a.get_transparent(),k=0,n=0,p=b.height;n<p;){l=n++;l=b.offset+b.stride*l;for(var m=0,q=b.width;m<q;){var r=m++;t=c.b[k+3]|c.b[k+2]<<8|c.b[k+1]<<16|c.b[k]<<24;k+=4;switch(d){case 1:var v=0;t=v=(t>>>16&255)<<24|(t>>>8&255)<<16|(t&255)<<8|t>>>24&255;break;case 2:v=0;t=v=(t>>>
8&255)<<24|(t>>>16&255)<<16|(t>>>24&255)<<8|t&255;break}h||(t=(t>>>24&255)<<24|(t>>>16&255)<<16|(t>>>8&255)<<8|255);r=l+4*r;g&&(0==(t&255)?0!=t&&(t=0):255!=(t&255)&&(y.a16=y.__alpha16[t&255],t=((t>>>24&255)*y.a16>>16&255)<<24|((t>>>16&255)*y.a16>>16&255)<<16|((t>>>8&255)*y.a16>>16&255)<<8|t&255));switch(f){case 0:e[r]=t>>>24&255;e[r+1]=t>>>16&255;e[r+2]=t>>>8&255;e[r+3]=t&255;break;case 1:e[r]=t&255;e[r+1]=t>>>24&255;e[r+2]=t>>>16&255;e[r+3]=t>>>8&255;break;case 2:e[r]=t>>>8&255,e[r+1]=t>>>16&255,
e[r+2]=t>>>24&255,e[r+3]=t&255}}}a.dirty=!0;a.version++}};rb.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d,e=0,f=b.length/4|0;e<f;){var g=e++,l=4*g;switch(c){case 0:d=(b[l]&255)<<24|(b[l+1]&255)<<16|(b[l+2]&255)<<8|b[l+3]&255;break;case 1:d=(b[l+1]&255)<<24|(b[l+2]&255)<<16|(b[l+3]&255)<<8|b[l]&255;break;case 2:d=(b[l+2]&255)<<24|(b[l+1]&255)<<16|(b[l]&255)<<8|b[l+3]&255}0!=(d&255)&&255!=(d&255)&&(y.unmult=255/(d&255),d=(y.__clamp[Math.round((d>>>24&255)*
y.unmult)]&255)<<24|(y.__clamp[Math.round((d>>>16&255)*y.unmult)]&255)<<16|(y.__clamp[Math.round((d>>>8&255)*y.unmult)]&255)<<8|d&255);g*=4;switch(c){case 0:b[g]=d>>>24&255;b[g+1]=d>>>16&255;b[g+2]=d>>>8&255;b[g+3]=d&255;break;case 1:b[g]=d&255;b[g+1]=d>>>24&255;b[g+2]=d>>>16&255;b[g+3]=d>>>8&255;break;case 2:b[g]=d>>>8&255,b[g+1]=d>>>16&255,b[g+2]=d>>>24&255,b[g+3]=d&255}}a.buffer.premultiplied=!1;a.dirty=!0;a.version++}};var Sc=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=
0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};h["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Sc;Sc.__name__=["lime","graphics","utils",
"_ImageDataUtil","ImageDataView"];Sc.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,rect:null,stride:null,__class__:Sc};var cb={};h["lime.math._ColorMatrix.ColorMatrix_Impl_"]=cb;cb.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"];cb.getAlphaTable=function(a){if(null==cb.__alphaTable){var b=new Ec(256);cb.__alphaTable=b}cb.__alphaTable[0]=0;for(var c=1;256>c;){var d=c++,b=Math.floor(d*a[18]+255*a[19]);255<b&&(b=255);0>b&&(b=0);cb.__alphaTable[d]=b}return cb.__alphaTable};
cb.getBlueTable=function(a){if(null==cb.__blueTable){var b=new Ec(256);cb.__blueTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[12]+255*a[14]);255<b&&(b=255);0>b&&(b=0);cb.__blueTable[d]=b}return cb.__blueTable};cb.getGreenTable=function(a){if(null==cb.__greenTable){var b=new Ec(256);cb.__greenTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[6]+255*a[9]);255<b&&(b=255);0>b&&(b=0);cb.__greenTable[d]=b}return cb.__greenTable};cb.getRedTable=function(a){if(null==cb.__redTable){var b=new Ec(256);
cb.__redTable=b}for(var c=0;256>c;){var d=c++,b=Math.floor(d*a[0]+255*a[4]);255<b&&(b=255);0>b&&(b=0);cb.__redTable[d]=b}return cb.__redTable};cb.__toFlashColorTransform=function(a){return null};var Ea={};h["lime.math._Matrix4.Matrix4_Impl_"]=Ea;Ea.__name__=["lime","math","_Matrix4","Matrix4_Impl_"];Ea._new=function(a){if(null==a||16!=a.length)a=Ea.__identity,a=null!=a?new zc(a):null;return a};Ea.append=function(a,b){var c=a[0],d=a[4],e=a[8],f=a[12],g=a[1],l=a[5],t=a[9],h=a[13],k=a[2],n=a[6],p=a[10],
m=a[14],q=a[3],r=a[7],v=a[11],u=a[15],w=Ea.get(b,0),y=Ea.get(b,4),z=Ea.get(b,8),A=Ea.get(b,12),x=Ea.get(b,1),B=Ea.get(b,5),E=Ea.get(b,9),F=Ea.get(b,13),G=Ea.get(b,2),H=Ea.get(b,6),I=Ea.get(b,10),J=Ea.get(b,14),K=Ea.get(b,3),O=Ea.get(b,7),P=Ea.get(b,11),L=Ea.get(b,15);a[0]=c*w+g*y+k*z+q*A;a[1]=c*x+g*B+k*E+q*F;a[2]=c*G+g*H+k*I+q*J;a[3]=c*K+g*O+k*P+q*L;a[4]=d*w+l*y+n*z+r*A;a[5]=d*x+l*B+n*E+r*F;a[6]=d*G+l*H+n*I+r*J;a[7]=d*K+l*O+n*P+r*L;a[8]=e*w+t*y+p*z+v*A;a[9]=e*x+t*B+p*E+v*F;a[10]=e*G+t*H+p*I+v*J;a[11]=
e*K+t*O+p*P+v*L;a[12]=f*w+h*y+m*z+u*A;a[13]=f*x+h*B+m*E+u*F;a[14]=f*G+h*H+m*I+u*J;a[15]=f*K+h*O+m*P+u*L};Ea.createOrtho=function(a,b,c,d,e,f){var g=1/(b-a),l=1/(d-c),t=1/(f-e);a=[2*g,0,0,0,0,2*l,0,0,0,0,-2*t,0,-(a+b)*g,-(c+d)*l,-(e+f)*t,1];a=null!=a?new zc(a):null;return Ea._new(a)};Ea.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1};Ea.get=function(a,b){return a[b]};Ea.set=function(a,b,c){return a[b]=c};var Oc=
function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["lime.math.Rectangle"]=Oc;Oc.__name__=["lime","math","Rectangle"];Oc.prototype={height:null,width:null,x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__toFlashRectangle:function(){return null},__class__:Oc};var gd=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["lime.math.Vector2"]=
gd;gd.__name__=["lime","math","Vector2"];gd.prototype={x:null,y:null,offset:function(a,b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:gd};var Cg=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["lime.math.Vector4"]=Cg;Cg.__name__=["lime","math","Vector4"];Cg.prototype={w:null,x:null,y:null,z:null,__class__:Cg};var y={};h["lime.math.color._RGBA.RGBA_Impl_"]=y;y.__name__=["lime","math","color","_RGBA","RGBA_Impl_"];
var Rg=function(){};h["lime.net._IHTTPRequest"]=Rg;Rg.__name__=["lime","net","_IHTTPRequest"];Rg.prototype={contentType:null,data:null,enableResponseHeaders:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,__class__:Rg};var Ad=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.formData=new T;this.headers=[];this.method="GET";this.timeout=3E4;this.backend=new Eg;this.backend.init(this)};h["lime.net._HTTPRequest.AbstractHTTPRequest"]=
Ad;Ad.__name__=["lime","net","_HTTPRequest","AbstractHTTPRequest"];Ad.__interfaces__=[Rg];Ad.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,backend:null,__class__:Ad};var Ae=function(a){Ad.call(this,a)};h["lime.net._HTTPRequest_Bytes"]=Ae;Ae.__name__=["lime","net","_HTTPRequest_Bytes"];Ae.__super__=Ad;Ae.prototype=q(Ad.prototype,{fromBytes:function(a){return a},
load:function(a){var b=this;null!=a&&(this.uri=a);var c=new ic;a=this.backend.loadData(this.uri);a.onProgress(p(c,c.progress));a.onError(p(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});return c.future},__class__:Ae});var Fg=function(a,b){null==b&&(b="");this.name=a;this.value=b};h["lime.net.HTTPRequestHeader"]=Fg;Fg.__name__=["lime","net","HTTPRequestHeader"];Fg.prototype={name:null,value:null,__class__:Fg};var yf=function(a){Ad.call(this,a)};h["lime.net._HTTPRequest_lime_utils_Bytes"]=
yf;yf.__name__=["lime","net","_HTTPRequest_lime_utils_Bytes"];yf.__super__=Ae;yf.prototype=q(Ae.prototype,{fromBytes:function(a){return fd.fromBytes(a)},__class__:yf});var Kh=function(){};h["lime.system.System"]=Kh;Kh.__name__=["lime","system","System"];Kh.getTimer=function(){return(new Date).getTime()};var Ig=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new xe;this.onComplete=new xe;this.doWork=new xe;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};h["lime.system.ThreadPool"]=
Ig;Ig.__name__=["lime","system","ThreadPool"];Ig.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:Ig};var vb=function(a){this.onDisconnect=new ub;this.onButtonUp=new wf;this.onButtonDown=new wf;this.onAxisMove=new Mg;this.id=a;this.connected=!0};h["lime.ui.Gamepad"]=vb;vb.__name__=["lime","ui",
"Gamepad"];vb.__connect=function(a){if(!vb.devices.h.hasOwnProperty(a)){var b=new vb(a);vb.devices.h[a]=b;vb.onConnect.dispatch(b)}};vb.__disconnect=function(a){var b=vb.devices.h[a];null!=b&&(b.connected=!1);vb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};vb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,__class__:vb};var nb=function(a){this.onTrackballMove=new uf;this.onHatMove=new Jg;this.onDisconnect=new ub;this.onButtonUp=new Td;
this.onButtonDown=new Td;this.onAxisMove=new uf;this.id=a;this.connected=!0};h["lime.ui.Joystick"]=nb;nb.__name__=["lime","ui","Joystick"];nb.__connect=function(a){if(!nb.devices.h.hasOwnProperty(a)){var b=new nb(a);nb.devices.h[a]=b;nb.onConnect.dispatch(b)}};nb.__disconnect=function(a){var b=nb.devices.h[a];null!=b&&(b.connected=!1);nb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};nb.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?
navigator.webkitGetGamepads():null};nb.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,__class__:nb};var Mb={};h["lime.ui._KeyModifier.KeyModifier_Impl_"]=Mb;Mb.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"];Mb.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};Mb.get_altKey=function(a){return 0>=(a&256)?0<(a&512):!0};Mb.get_ctrlKey=
function(a){return 0>=(a&64)?0<(a&128):!0};Mb.get_metaKey=function(a){return 0>=(a&1024)?0<(a&2048):!0};Mb.get_shiftKey=function(a){return 0>=(a&1)?0<(a&2):!0};var zf=function(){};h["lime.ui.Mouse"]=zf;zf.__name__=["lime","ui","Mouse"];zf.__properties__={set_cursor:"set_cursor"};zf.set_cursor=function(a){return Sd.set_cursor(a)};var U=h["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};
U.ARROW=["ARROW",0];U.ARROW.toString=B;U.ARROW.__enum__=U;U.CROSSHAIR=["CROSSHAIR",1];U.CROSSHAIR.toString=B;U.CROSSHAIR.__enum__=U;U.DEFAULT=["DEFAULT",2];U.DEFAULT.toString=B;U.DEFAULT.__enum__=U;U.MOVE=["MOVE",3];U.MOVE.toString=B;U.MOVE.__enum__=U;U.POINTER=["POINTER",4];U.POINTER.toString=B;U.POINTER.__enum__=U;U.RESIZE_NESW=["RESIZE_NESW",5];U.RESIZE_NESW.toString=B;U.RESIZE_NESW.__enum__=U;U.RESIZE_NS=["RESIZE_NS",6];U.RESIZE_NS.toString=B;U.RESIZE_NS.__enum__=U;U.RESIZE_NWSE=["RESIZE_NWSE",
7];U.RESIZE_NWSE.toString=B;U.RESIZE_NWSE.__enum__=U;U.RESIZE_WE=["RESIZE_WE",8];U.RESIZE_WE.toString=B;U.RESIZE_WE.__enum__=U;U.TEXT=["TEXT",9];U.TEXT.toString=B;U.TEXT.__enum__=U;U.WAIT=["WAIT",10];U.WAIT.toString=B;U.WAIT.__enum__=U;U.WAIT_ARROW=["WAIT_ARROW",11];U.WAIT_ARROW.toString=B;U.WAIT_ARROW.__enum__=U;U.CUSTOM=["CUSTOM",12];U.CUSTOM.toString=B;U.CUSTOM.__enum__=U;var bc=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};h["lime.ui.Touch"]=
bc;bc.__name__=["lime","ui","Touch"];bc.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:bc};var Vd=function(a){this.onTextInput=new vf;this.onTextEdit=new Kg;this.onRestore=new ub;this.onResize=new sf;this.onMove=new Ud;this.onMouseWheel=new Ud;this.onMouseUp=new tf;this.onMouseMoveRelative=new Ud;this.onMouseMove=new Ud;this.onMouseDown=new tf;this.onMinimize=new ub;this.onLeave=new ub;this.onKeyUp=new xf;this.onKeyDown=new xf;this.onFullscreen=new ub;this.onFocusOut=
new ub;this.onFocusIn=new ub;this.onEnter=new ub;this.onDropFile=new vf;this.onDeactivate=new ub;this.onCreate=new ub;this.onClose=new ub;this.onActivate=new ub;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),
Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new we(this)};h["lime.ui.Window"]=Vd;Vd.__name__=["lime","ui","Window"];Vd.prototype={application:null,
config:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__resizable:null,__scale:null,__title:null,
__width:null,__x:null,__y:null,close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:Vd,__properties__:{set_width:"set_width",
set_height:"set_height",set_fullscreen:"set_fullscreen"}};var Sg=function(){this.enabled=!0;this.audio=new T;this.font=new T;this.image=new T;this.version=627940};h["lime.utils.AssetCache"]=Sg;Sg.__name__=["lime","utils","AssetCache"];Sg.prototype={audio:null,enabled:null,image:null,font:null,version:null,set:function(a,b,c){switch(b){case "FONT":this.font.set(a,c);break;case "IMAGE":if(!w.__instanceof(c,ra))throw new n("Cannot cache non-Image asset: "+E.string(c)+" as Image");this.image.set(a,c);
break;case "MUSIC":case "SOUND":if(!w.__instanceof(c,zb))throw new n("Cannot cache non-AudioBuffer asset: "+E.string(c)+" as AudioBuffer");this.audio.set(a,c);break;default:throw new n(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new T,this.font=new T,this.image=new T;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();ba.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),ba.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=
b.next(),ba.startsWith(c,a)&&this.image.remove(c)}},__class__:Sg};var va=function(){};h["lime.utils.Assets"]=va;va.__name__=["lime","utils","Assets"];va.getAsset=function(a,b,c){if(c&&va.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=va.cache.font.get(a);if(null!=d)return d;break;case "IMAGE":d=va.cache.image.get(a);if(va.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=va.cache.audio.get(a);if(va.isValidAudio(d))return d;break;case "TEMPLATE":throw new n("Not sure how to get template: "+
a);}var e,f;e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);f=va.getLibrary(d);if(null!=f)if(f.exists(e,b)){if(f.isLocal(e,b))return d=f.getAsset(e,b),c&&va.cache.enabled&&va.cache.set(a,b,d),d;lc.info(b+' asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:145,className:"lime.utils.Assets",methodName:"getAsset"})}else lc.info("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:151,className:"lime.utils.Assets",methodName:"getAsset"});
else lc.info('There is no asset library named "'+d+'"',{fileName:"Assets.hx",lineNumber:157,className:"lime.utils.Assets",methodName:"getAsset"});return null};va.getAudioBuffer=function(a,b){null==b&&(b=!0);return va.getAsset(a,"SOUND",b)};va.getImage=function(a,b){null==b&&(b=!0);return va.getAsset(a,"IMAGE",b)};va.getLibrary=function(a){if(null==a||""==a)a="default";var b=va.libraries;return null!=m[a]?b.getReserved(a):b.h[a]};va.getText=function(a){return va.getAsset(a,"TEXT",!1)};va.isValidAudio=
function(a){return null!=a};va.isValidImage=function(a){return null!=a};va.registerLibrary=function(a,b){var c=va.libraries;if(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){c=va.libraries;if((null!=m[a]?c.getReserved(a):c.h[a])==b)return;va.unloadLibrary(a)}null!=b&&b.onChange.add(va.library_onChange);c=va.libraries;null!=m[a]?c.setReserved(a,b):c.h[a]=b};va.unloadLibrary=function(a){var b=va.libraries,b=null!=m[a]?b.getReserved(a):b.h[a];null!=b&&(va.cache.clear(a+":"),b.onChange.remove(va.library_onChange),
b.unload());va.libraries.remove(a)};va.library_onChange=function(){va.cache.clear();va.onChange.dispatch()};var fd={};h["lime.utils._Bytes.Bytes_Impl_"]=fd;fd.__name__=["lime","utils","_Bytes","Bytes_Impl_"];fd._new=function(a,b){return new gb(b)};fd.fromBytes=function(a){return fd._new(a.length,a.b.bufferValue)};fd.fromFile=function(a){return null};fd.loadFromFile=function(a){return(new yf).load(a)};var Be=function(){};h["lime.utils.GLUtils"]=Be;Be.__name__=["lime","utils","GLUtils"];Be.compileShader=
function(a,b){var c=r.context.createShader(b);r.context.shaderSource(c,a);r.context.compileShader(c);if(0==r.context.getShaderParameter(c,35713)){var d;switch(b){case 35632:d="Error compiling fragment shader";break;case 35633:d="Error compiling vertex shader";break;default:d="Error compiling unknown shader type"}d+="\n"+r.context.getShaderInfoLog(c);lc.error(d,{fileName:"GLUtils.hx",lineNumber:35,className:"lime.utils.GLUtils",methodName:"compileShader"})}return c};Be.createProgram=function(a,b){var c=
Be.compileShader(a,35633),d=Be.compileShader(b,35632),e=r.context.createProgram();r.context.attachShader(e,c);r.context.attachShader(e,d);r.context.linkProgram(e);0==r.context.getProgramParameter(e,35714)&&lc.error("Unable to initialize the shader program",{fileName:"GLUtils.hx",lineNumber:56,className:"lime.utils.GLUtils",methodName:"createProgram"});return e};var lc=function(){};h["lime.utils.Log"]=lc;lc.__name__=["lime","utils","Log"];lc.error=function(a,b){1<=lc.level&&console.log("["+b.className+
"] ERROR: "+a)};lc.info=function(a,b){3<=lc.level&&console.log("["+b.className+"] "+a)};lc.warn=function(a,b){2<=lc.level&&console.log("["+b.className+"] WARNING: "+a)};var Lh=function(){};h["lime.utils.compress.Deflate"]=Lh;Lh.__name__=["lime","utils","compress","Deflate"];Lh.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return gb.ofData(a)};var Mh=function(){};h["lime.utils.compress.LZMA"]=Mh;Mh.__name__=["lime","utils","compress","LZMA"];Mh.decompress=function(a){return null};var Nh=
function(){};h["lime.utils.compress.Zlib"]=Nh;Nh.__name__=["lime","utils","compress","Zlib"];Nh.decompress=function(a){a=pako.inflate(a.b.bufferValue);return gb.ofData(a)};var Tg=function(){};h["openfl.IAssetCache"]=Tg;Tg.__name__=["openfl","IAssetCache"];Tg.prototype={get_enabled:null,getBitmapData:null,getSound:null,hasBitmapData:null,hasSound:null,removeBitmapData:null,setBitmapData:null,setSound:null,__class__:Tg,__properties__:{get_enabled:"get_enabled"}};var Af=function(){this.__enabled=!0;
this.bitmapData=new T;this.font=new T;this.sound=new T};h["openfl.AssetCache"]=Af;Af.__name__=["openfl","AssetCache"];Af.__interfaces__=[Tg];Af.prototype={bitmapData:null,font:null,sound:null,__enabled:null,getBitmapData:function(a){var b=this.bitmapData;return null!=m[a]?b.getReserved(a):b.h[a]},getSound:function(a){var b=this.sound;return null!=m[a]?b.getReserved(a):b.h[a]},hasBitmapData:function(a){var b=this.bitmapData;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},hasSound:function(a){var b=
this.sound;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},removeBitmapData:function(a){va.cache.image.remove(a);return this.bitmapData.remove(a)},setBitmapData:function(a,b){var c=this.bitmapData;null!=m[a]?c.setReserved(a,b):c.h[a]=b},setSound:function(a,b){var c=this.sound;null!=m[a]?c.setReserved(a,b):c.h[a]=b},get_enabled:function(){return this.__enabled},__class__:Af,__properties__:{get_enabled:"get_enabled"}};var $a=function(){};h["openfl.Assets"]=$a;$a.__name__=["openfl","Assets"];
$a.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&$a.cache.get_enabled()&&$a.cache.hasBitmapData(a)){var c=$a.cache.getBitmapData(a);if($a.isValidBitmapData(c))return c}c=va.getImage(a,!1);return null!=c?(c=La.fromImage(c),b&&$a.cache.get_enabled()&&$a.cache.setBitmapData(a,c),c):null};$a.getSound=function(a,b){null==b&&(b=!0);if(b&&$a.cache.get_enabled()&&$a.cache.hasSound(a)){var c=$a.cache.getSound(a);if($a.isValidSound(c))return c}c=va.getAudioBuffer(a,!1);return null!=c?(c=ld.fromAudioBuffer(c),
b&&$a.cache.get_enabled()&&$a.cache.setSound(a,c),c):null};$a.getText=function(a){return va.getText(a)};$a.isValidBitmapData=function(a){return null!=a&&null!=a.image};$a.isValidSound=function(a){return!0};var Bd=function(){$c.call(this)};h["openfl.AssetLibrary"]=Bd;Bd.__name__=["openfl","AssetLibrary"];Bd.__super__=$c;Bd.prototype=q($c.prototype,{__class__:Bd});var Gc=function(){Gb.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0;null!=Gc.__initSymbol&&
(this.__swf=Gc.__initSWF,this.__symbol=Gc.__initSymbol,Gc.__initSWF=null,Gc.__initSymbol=null,this.__fromSymbol(this.__swf,this.__symbol))};h["openfl.display.MovieClip"]=Gc;Gc.__name__=["openfl","display","MovieClip"];Gc.__super__=Gb;Gc.prototype=q(Gb.prototype,{enabled:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__frameTime:null,__lastUpdate:null,__objectDepths:null,__objects:null,__playing:null,__swf:null,__symbol:null,__timeElapsed:null,
__totalFrames:null,__zeroSymbol:null,play:function(){null!=this.__symbol&&!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__frameTime=1E3/this.__swf.frameRate|0,this.__timeElapsed=0)},__enterFrame:function(a){if(null!=this.__symbol&&this.__playing){this.__timeElapsed+=a;var b=Math.floor(this.__timeElapsed/this.__frameTime);this.__timeElapsed%=this.__frameTime;if(null!=this.__frameScripts)for(var c=0;c<b&&(c++,this.__currentFrame++,this.__currentFrame>this.__totalFrames&&(this.__currentFrame=
1),!this.__frameScripts.h.hasOwnProperty(this.__currentFrame-1)||(this.__frameScripts.h[this.__currentFrame-1](),this.__playing)););else for(this.__currentFrame+=b;this.__currentFrame>this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}Gb.prototype.__enterFrame.call(this,a)},__fromSymbol:function(a,b){if(null==this.__objects){this.__swf=a;this.__symbol=b;this.__lastUpdate=-1;this.__objectDepths=[];this.__objects=new Ib;this.__zeroSymbol=-1;this.__currentFrame=1;this.__totalFrames=
this.__symbol.frames.length;for(var c=0,d=this.__symbol.frames.length;c<d;){var e=c++;null!=this.__symbol.frames[e].label&&this.__currentLabels.push(new Bf(this.__symbol.frames[e].label,e+1))}this.__updateFrame();c=0;for(d=ea.getInstanceFields(w.getClass(this));c<d.length;){e=d[c];++c;for(var f=0,g=this.__children;f<g.length;){var l=g[f];++f;l.get_name()==e&&(this[e]=l)}}1<this.__totalFrames&&this.play()}},__placeObject:function(a,b){null!=b.name&&a.set_name(b.name);null!=b.matrix&&a.get_transform().set_matrix(b.matrix);
null!=b.colorTransform&&a.get_transform().set_colorTransform(b.colorTransform);if(null!=b.filters){for(var c=[],d=0,e=b.filters;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:c.push(new Cd(f[2],f[3],f[4]));break;case 1:c.push(new Dd(f[2]));break;case 2:c.push(new Cf(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12]));break;case 3:c.push(new Ed(f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]))}}a.set_filters(c)}a.set_visible(b.visible)},__renderFrame:function(a){var b=this.__lastUpdate-1;if(b>a){for(var c,
d,e=0;e<this.__objectDepths.length;){c=this.__objectDepths[e];d=!1;for(var b=0,f=this.__symbol.frames[0].objects;b<f.length;){var g=f[b];++b;if(g.id==c.id){d=!0;break}}d?++e:(c.displayObject.parent==this&&this.removeChild(c.displayObject),this.__objectDepths.splice(e,1))}b=0}var l;d=c=null;e=!1;for(a+=1;b<a;)if(f=b++,!(0>f))for(var g=this.__symbol.frames[f],f=0,t=g.objects;f<t.length;){var h=t[f];++f;h.type!=Kc.DESTROY?(0==h.id&&h.symbol!=this.__zeroSymbol&&(g=this.__objects.h[0],null!=g&&g.displayObject.parent==
this&&this.removeChild(g.displayObject),I.remove(this.__objectDepths,this.__objects.h[0]),this.__zeroSymbol=h.symbol),l=null,this.__objects.h.hasOwnProperty(h.id)?(g=this.__objects.h[h.id],l=g.displayObject,null==g.displayObject.parent&&(this.__objectDepths.push(g),e=!0)):(this.__swf.symbols.h.hasOwnProperty(h.symbol)&&(g=this.__swf.symbols.h[h.symbol],l=g.__createObject(this.__swf)),null!=l&&(g=new Ug(h.id,h.depth,l),this.__objectDepths.push(g),e=!0,this.__objects.h[h.id]=g)),null!=l&&(this.__placeObject(l,
h),null!=c?c.clipDepth<h.depth?c=null:l.set_mask(d):l.set_mask(null),0!=h.clipDepth&&(c=h,l.set_visible(!1),d=l))):this.__objects.h.hasOwnProperty(h.id)&&(g=this.__objects.h[h.id],null!=g&&g.displayObject.parent==this&&this.removeChild(g.displayObject),I.remove(this.__objectDepths,g),e=!0)}if(e)for(this.__objectDepths.sort(p(this,this.__sortTimelineDepth)),c=this.__objectDepths.length-1;0<=c;)g=this.__objectDepths[c],this.addChildAt(g.displayObject,0),--c},__sortTimelineDepth:function(a,b){return a.depth-
b.depth},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var a=this.__currentFrame-1;if(-1<a){this.__currentFrameLabel=this.__symbol.frames.length>a&&null!=this.__symbol.frames[a]?this.__symbol.frames[a].label:null;if(null!=this.__currentFrameLabel)this.__currentLabel=this.__currentFrameLabel;else if(this.__currentFrame!=this.__lastUpdate+1){this.__currentLabel=null;for(var b=0,c=this.__currentLabels;b<c.length;){var d=c[b];++b;if(d.get_frame()<=this.__currentFrame)this.__currentLabel=
d.get_name();else break}}this.__renderFrame(a)}this.__renderDirty=!0;L.__worldRenderDirty++}this.__lastUpdate=this.__currentFrame},__class__:Gc});var Eb=function(a,b,c,d,e,f,g,l){null==l&&(l=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=l};h["openfl.geom.ColorTransform"]=Eb;Eb.__name__=
["openfl","geom","ColorTransform"];Eb.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,__clone:function(){return new Eb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__equals:function(a,b){null==b&&(b=!1);return null==a||this.redMultiplier!=a.redMultiplier||this.greenMultiplier!=a.greenMultiplier||
this.blueMultiplier!=a.blueMultiplier||!b&&this.alphaMultiplier!=a.alphaMultiplier||this.redOffset!=a.redOffset||this.greenOffset!=a.greenOffset||this.blueOffset!=a.blueOffset?!1:this.alphaOffset==a.alphaOffset},__toLimeColorMatrix:function(){if(null==Eb.__limeColorMatrix){var a=new zc(20);Eb.__limeColorMatrix=a}Eb.__limeColorMatrix[0]=this.redMultiplier;Eb.__limeColorMatrix[4]=this.redOffset/255;Eb.__limeColorMatrix[6]=this.greenMultiplier;Eb.__limeColorMatrix[9]=this.greenOffset/255;Eb.__limeColorMatrix[12]=
this.blueMultiplier;Eb.__limeColorMatrix[14]=this.blueOffset/255;Eb.__limeColorMatrix[18]=this.alphaMultiplier;Eb.__limeColorMatrix[19]=this.alphaOffset/255;return Eb.__limeColorMatrix},__class__:Eb};var oa=function(){};h["openfl.Lib"]=oa;oa.__name__=["openfl","Lib"];oa.getTimer=function(){return Kh.getTimer()};var Ce=function(){};h["openfl._Vector.IVector"]=Ce;Ce.__name__=["openfl","_Vector","IVector"];Ce.prototype={get_length:null,get:null,__class__:Ce,__properties__:{get_length:"get_length"}};
var se=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.FloatVector"]=se;se.__name__=["openfl","_Vector","FloatVector"];se.__interfaces__=[Ce];se.prototype={fixed:null,__array:null,copy:function(){return new se(null,this.fixed,this.__array.slice())},get:function(a){return this.__array[a]},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=
b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:se,__properties__:{set_length:"set_length",get_length:"get_length"}};var cf=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.IntVector"]=cf;cf.__name__=["openfl","_Vector","IntVector"];
cf.__interfaces__=[Ce];cf.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},set:function(a,b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;){var c=b++;this.__array[c]=0}else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:cf,__properties__:{set_length:"set_length",get_length:"get_length"}};
var te=function(a,b,c){null==c&&(c=[]);this.__array=c;null!=a&&this.set_length(a);this.fixed=1==b};h["openfl._Vector.ObjectVector"]=te;te.__name__=["openfl","_Vector","ObjectVector"];te.__interfaces__=[Ce];te.prototype={fixed:null,__array:null,get:function(a){return this.__array[a]},indexOf:function(a,b){null==b&&(b=0);for(var c=b,d=this.__array.length;c<d;){var e=c++;if(this.__array[e]==a)return e}return-1},push:function(a){return this.fixed?this.__array.length:this.__array.push(a)},set:function(a,
b){return!this.fixed||a<this.__array.length?this.__array[a]=b:b},splice:function(a,b){return new te(null,null,this.__array.splice(a,b))},get_length:function(){return this.__array.length},set_length:function(a){if(!this.fixed){var b=this.__array.length;0>a&&(a=0);if(a>b)for(;b<a;)b++,this.__array.push(null);else for(;this.__array.length>a;)this.__array.pop()}return this.__array.length},__class__:te,__properties__:{set_length:"set_length",get_length:"get_length"}};var Df=function(){};h["openfl._internal.renderer.AbstractBlendModeManager"]=
Df;Df.__name__=["openfl","_internal","renderer","AbstractBlendModeManager"];Df.prototype={setBlendMode:function(a){},__class__:Df};var Ef=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractFilterManager"]=Ef;Ef.__name__=["openfl","_internal","renderer","AbstractFilterManager"];Ef.prototype={renderSession:null,pushObject:function(a){return null},popObject:function(a){},__class__:Ef};var Tc=function(a){this.renderSession=a};h["openfl._internal.renderer.AbstractMaskManager"]=Tc;Tc.__name__=
["openfl","_internal","renderer","AbstractMaskManager"];Tc.prototype={renderSession:null,pushMask:function(a){},pushObject:function(a,b){},pushRect:function(a,b){},popMask:function(){},popObject:function(a,b){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Tc};var mc=function(a){this.stage=a;this.width=a.stageWidth;this.height=a.stageHeight};h["openfl._internal.renderer.AbstractRenderer"]=mc;mc.__name__=["openfl","_internal","renderer","AbstractRenderer"];mc.prototype=
{height:null,width:null,renderSession:null,stage:null,clear:function(){},render:function(){},resize:function(a,b){this.width=a;this.height=b},__class__:mc};var Ff=function(){};h["openfl._internal.renderer.AbstractShaderManager"]=Ff;Ff.__name__=["openfl","_internal","renderer","AbstractShaderManager"];Ff.prototype={currentShader:null,defaultShader:null,setShader:function(a){},__class__:Ff};var Tb=function(){null==Tb.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],
this.copyOnWrite=!0):this.clear()};h["openfl._internal.renderer.DrawCommandBuffer"]=Tb;Tb.__name__=["openfl","_internal","renderer","DrawCommandBuffer"];Tb.prototype={types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,append:function(a){if(0==this.get_length())return this.types=a.types,this.b=a.b,this.i=a.i,this.f=a.f,this.o=a.o,this.ff=a.ff,this.ii=a.ii,this.copyOnWrite=a.copyOnWrite=!0,a;for(var b=new md(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();
this.beginBitmapFill(Na.get_bitmap(e),Na.get_matrix(e),Na.get_repeat(e),Na.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(xb.get_color(e),xb.get_alpha(e));break;case 2:e=b.readBeginGradientFill();this.beginGradientFill(ga.get_type(e),ga.get_colors(e),ga.get_alphas(e),ga.get_ratios(e),ga.get_matrix(e),ga.get_spreadMethod(e),ga.get_interpolationMethod(e),ga.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(ca.get_controlX1(e),ca.get_controlY1(e),ca.get_controlX2(e),
ca.get_controlY2(e),ca.get_anchorX(e),ca.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(xa.get_controlX(e),xa.get_controlY(e),xa.get_anchorX(e),xa.get_anchorY(e));break;case 5:e=b.readDrawCircle();this.drawCircle(Oa.get_x(e),Oa.get_y(e),Oa.get_radius(e));break;case 6:e=b.readDrawEllipse();this.drawEllipse(Da.get_x(e),Da.get_y(e),Da.get_width(e),Da.get_height(e));break;case 7:e=b.readDrawRect();this.drawRect(ia.get_x(e),ia.get_y(e),ia.get_width(e),ia.get_height(e));break;case 8:e=b.readDrawRoundRect();
this.drawRoundRect(ha.get_x(e),ha.get_y(e),ha.get_width(e),ha.get_height(e),ha.get_ellipseWidth(e),ha.get_ellipseHeight(e));break;case 10:e=b.readDrawTriangles();this.drawTriangles(cc.get_vertices(e),cc.get_indices(e),cc.get_uvtData(e),cc.get_culling(e));break;case 11:b.readEndFill();this.endFill();break;case 12:e=b.readLineBitmapStyle();this.lineBitmapStyle(sb.get_bitmap(e),sb.get_matrix(e),sb.get_repeat(e),sb.get_smooth(e));break;case 13:e=b.readLineGradientStyle();this.lineGradientStyle(ya.get_type(e),
ya.get_colors(e),ya.get_alphas(e),ya.get_ratios(e),ya.get_matrix(e),ya.get_spreadMethod(e),ya.get_interpolationMethod(e),ya.get_focalPointRatio(e));break;case 14:e=b.readLineStyle();this.lineStyle(ma.get_thickness(e),ma.get_color(e),ma.get_alpha(e),ma.get_pixelHinting(e),ma.get_scaleMode(e),ma.get_caps(e),ma.get_joints(e),ma.get_miterLimit(e));break;case 15:e=b.readLineTo();this.lineTo(db.get_x(e),db.get_y(e));break;case 16:e=b.readMoveTo();this.moveTo(ab.get_x(e),ab.get_y(e));break;case 17:e=b.readOverrideMatrix(),
this.overrideMatrix(De.get_matrix(e))}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.prepareWrite();this.types.push(A.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.prepareWrite();this.types.push(A.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,l){this.prepareWrite();this.types.push(A.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);
this.o.push(g);this.f.push(l)},clear:function(){this.types=Tb.empty.types;this.b=Tb.empty.b;this.i=Tb.empty.i;this.f=Tb.empty.f;this.o=Tb.empty.o;this.ff=Tb.empty.ff;this.ii=Tb.empty.ii;this.copyOnWrite=!0},copy:function(){var a=new Tb;a.append(this);return a},cubicCurveTo:function(a,b,c,d,e,f){this.prepareWrite();this.types.push(A.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.prepareWrite();this.types.push(A.CURVE_TO);
this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.prepareWrite();this.types.push(A.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.prepareWrite();this.types.push(A.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRect:function(a,b,c,d){this.prepareWrite();this.types.push(A.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.prepareWrite();
this.types.push(A.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTriangles:function(a,b,c,d){this.prepareWrite();this.types.push(A.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.prepareWrite();this.types.push(A.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.prepareWrite();this.types.push(A.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,
b,c,d,e,f,g,l){this.prepareWrite();this.types.push(A.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(l)},lineStyle:function(a,b,c,d,e,f,g,l){this.prepareWrite();this.types.push(A.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(l)},lineTo:function(a,b){this.prepareWrite();this.types.push(A.LINE_TO);this.f.push(a);this.f.push(b)},
moveTo:function(a,b){this.prepareWrite();this.types.push(A.MOVE_TO);this.f.push(a);this.f.push(b)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideMatrix:function(a){this.prepareWrite();this.types.push(A.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:Tb,__properties__:{get_length:"get_length"}};
var md=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=A.UNKNOWN};h["openfl._internal.renderer.DrawCommandReader"]=md;md.__name__=["openfl","_internal","renderer","DrawCommandReader"];md.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=
2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.fPos+=4;break;case 8:this.fPos+=5;this.oPos+=1;break;case 10:this.oPos+=4;break;case 12:this.oPos+=2;this.bPos+=2;break;case 13:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 14:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 15:this.fPos+=2;break;case 16:this.fPos+=2;break;case 17:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+
a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+a]},readBeginBitmapFill:function(){this.advance();this.prev=A.BEGIN_BITMAP_FILL;return Na._new(this)},readBeginFill:function(){this.advance();this.prev=A.BEGIN_FILL;return xb._new(this)},
readBeginGradientFill:function(){this.advance();this.prev=A.BEGIN_GRADIENT_FILL;return ga._new(this)},readCubicCurveTo:function(){this.advance();this.prev=A.CUBIC_CURVE_TO;return ca._new(this)},readCurveTo:function(){this.advance();this.prev=A.CURVE_TO;return xa._new(this)},readDrawCircle:function(){this.advance();this.prev=A.DRAW_CIRCLE;return Oa._new(this)},readDrawEllipse:function(){this.advance();this.prev=A.DRAW_ELLIPSE;return Da._new(this)},readDrawRect:function(){this.advance();this.prev=A.DRAW_RECT;
return ia._new(this)},readDrawRoundRect:function(){this.advance();this.prev=A.DRAW_ROUND_RECT;return ha._new(this)},readDrawTriangles:function(){this.advance();this.prev=A.DRAW_TRIANGLES;return cc._new(this)},readEndFill:function(){this.advance();this.prev=A.END_FILL;return Oh._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=A.LINE_BITMAP_STYLE;return sb._new(this)},readLineGradientStyle:function(){this.advance();this.prev=A.LINE_GRADIENT_STYLE;return ya._new(this)},readLineStyle:function(){this.advance();
this.prev=A.LINE_STYLE;return ma._new(this)},readLineTo:function(){this.advance();this.prev=A.LINE_TO;return db._new(this)},readMoveTo:function(){this.advance();this.prev=A.MOVE_TO;return ab._new(this)},readOverrideMatrix:function(){this.advance();this.prev=A.OVERRIDE_MATRIX;return De._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},__class__:md};var Na={};h["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=
Na;Na.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"];Na.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Na._new=function(a){return a};Na.get_bitmap=function(a){return a.obj(0)};Na.get_matrix=function(a){return a.obj(1)};Na.get_repeat=function(a){return a.bool(0)};Na.get_smooth=function(a){return a.bool(1)};var xb={};h["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=xb;
xb.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"];xb.__properties__={get_alpha:"get_alpha",get_color:"get_color"};xb._new=function(a){return a};xb.get_color=function(a){return a["int"](0)};xb.get_alpha=function(a){return a["float"](0)};var ga={};h["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=ga;ga.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"];ga.__properties__={get_focalPointRatio:"get_focalPointRatio",
get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};ga._new=function(a){return a};ga.get_type=function(a){return a.obj(0)};ga.get_colors=function(a){return a.iArr(0)};ga.get_alphas=function(a){return a.fArr(0)};ga.get_ratios=function(a){return a.iArr(1)};ga.get_matrix=function(a){return a.obj(1)};ga.get_spreadMethod=function(a){return a.obj(2)};ga.get_interpolationMethod=
function(a){return a.obj(3)};ga.get_focalPointRatio=function(a){return a["float"](0)};var ca={};h["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=ca;ca.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"];ca.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};ca._new=function(a){return a};ca.get_controlX1=
function(a){return a["float"](0)};ca.get_controlY1=function(a){return a["float"](1)};ca.get_controlX2=function(a){return a["float"](2)};ca.get_controlY2=function(a){return a["float"](3)};ca.get_anchorX=function(a){return a["float"](4)};ca.get_anchorY=function(a){return a["float"](5)};var xa={};h["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=xa;xa.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"];xa.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",
get_controlY:"get_controlY",get_controlX:"get_controlX"};xa._new=function(a){return a};xa.get_controlX=function(a){return a["float"](0)};xa.get_controlY=function(a){return a["float"](1)};xa.get_anchorX=function(a){return a["float"](2)};xa.get_anchorY=function(a){return a["float"](3)};var Oa={};h["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Oa;Oa.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"];Oa.__properties__={get_radius:"get_radius",
get_y:"get_y",get_x:"get_x"};Oa._new=function(a){return a};Oa.get_x=function(a){return a["float"](0)};Oa.get_y=function(a){return a["float"](1)};Oa.get_radius=function(a){return a["float"](2)};var Da={};h["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Da;Da.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"];Da.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Da._new=function(a){return a};Da.get_x=
function(a){return a["float"](0)};Da.get_y=function(a){return a["float"](1)};Da.get_width=function(a){return a["float"](2)};Da.get_height=function(a){return a["float"](3)};var ia={};h["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=ia;ia.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"];ia.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};ia._new=function(a){return a};ia.get_x=function(a){return a["float"](0)};
ia.get_y=function(a){return a["float"](1)};ia.get_width=function(a){return a["float"](2)};ia.get_height=function(a){return a["float"](3)};var ha={};h["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=ha;ha.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"];ha.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};ha._new=function(a){return a};
ha.get_x=function(a){return a["float"](0)};ha.get_y=function(a){return a["float"](1)};ha.get_width=function(a){return a["float"](2)};ha.get_height=function(a){return a["float"](3)};ha.get_ellipseWidth=function(a){return a["float"](4)};ha.get_ellipseHeight=function(a){return a.obj(0)};var cc={};h["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=cc;cc.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"];cc.__properties__={get_culling:"get_culling",
get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"};cc._new=function(a){return a};cc.get_vertices=function(a){return a.obj(0)};cc.get_indices=function(a){return a.obj(1)};cc.get_uvtData=function(a){return a.obj(2)};cc.get_culling=function(a){return a.obj(3)};var Oh={};h["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=Oh;Oh.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"];Oh._new=function(a){return a};var sb={};h["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=
sb;sb.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"];sb.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};sb._new=function(a){return a};sb.get_bitmap=function(a){return a.obj(0)};sb.get_matrix=function(a){return a.obj(1)};sb.get_repeat=function(a){return a.bool(0)};sb.get_smooth=function(a){return a.bool(1)};var ya={};h["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=
ya;ya.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"];ya.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};ya._new=function(a){return a};ya.get_type=function(a){return a.obj(0)};ya.get_colors=function(a){return a.iArr(0)};ya.get_alphas=function(a){return a.fArr(0)};
ya.get_ratios=function(a){return a.iArr(1)};ya.get_matrix=function(a){return a.obj(1)};ya.get_spreadMethod=function(a){return a.obj(2)};ya.get_interpolationMethod=function(a){return a.obj(3)};ya.get_focalPointRatio=function(a){return a["float"](0)};var ma={};h["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=ma;ma.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"];ma.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",
get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};ma._new=function(a){return a};ma.get_thickness=function(a){return a.obj(0)};ma.get_color=function(a){return a["int"](0)};ma.get_alpha=function(a){return a["float"](0)};ma.get_pixelHinting=function(a){return a.bool(0)};ma.get_scaleMode=function(a){return a.obj(1)};ma.get_caps=function(a){return a.obj(2)};ma.get_joints=function(a){return a.obj(3)};ma.get_miterLimit=
function(a){return a["float"](1)};var db={};h["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=db;db.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"];db.__properties__={get_y:"get_y",get_x:"get_x"};db._new=function(a){return a};db.get_x=function(a){return a["float"](0)};db.get_y=function(a){return a["float"](1)};var ab={};h["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=ab;ab.__name__=["openfl","_internal","renderer","_DrawCommandReader",
"MoveToView_Impl_"];ab.__properties__={get_y:"get_y",get_x:"get_x"};ab._new=function(a){return a};ab.get_x=function(a){return a["float"](0)};ab.get_y=function(a){return a["float"](1)};var De={};h["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=De;De.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"];De.__properties__={get_matrix:"get_matrix"};De._new=function(a){return a};De.get_matrix=function(a){return a.obj(0)};var A=h["openfl._internal.renderer.DrawCommandType"]=
{__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};A.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];A.BEGIN_BITMAP_FILL.toString=B;A.BEGIN_BITMAP_FILL.__enum__=A;A.BEGIN_FILL=["BEGIN_FILL",1];A.BEGIN_FILL.toString=B;A.BEGIN_FILL.__enum__=
A;A.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];A.BEGIN_GRADIENT_FILL.toString=B;A.BEGIN_GRADIENT_FILL.__enum__=A;A.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];A.CUBIC_CURVE_TO.toString=B;A.CUBIC_CURVE_TO.__enum__=A;A.CURVE_TO=["CURVE_TO",4];A.CURVE_TO.toString=B;A.CURVE_TO.__enum__=A;A.DRAW_CIRCLE=["DRAW_CIRCLE",5];A.DRAW_CIRCLE.toString=B;A.DRAW_CIRCLE.__enum__=A;A.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];A.DRAW_ELLIPSE.toString=B;A.DRAW_ELLIPSE.__enum__=A;A.DRAW_RECT=["DRAW_RECT",7];A.DRAW_RECT.toString=B;A.DRAW_RECT.__enum__=
A;A.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",8];A.DRAW_ROUND_RECT.toString=B;A.DRAW_ROUND_RECT.__enum__=A;A.DRAW_TILES=["DRAW_TILES",9];A.DRAW_TILES.toString=B;A.DRAW_TILES.__enum__=A;A.DRAW_TRIANGLES=["DRAW_TRIANGLES",10];A.DRAW_TRIANGLES.toString=B;A.DRAW_TRIANGLES.__enum__=A;A.END_FILL=["END_FILL",11];A.END_FILL.toString=B;A.END_FILL.__enum__=A;A.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",12];A.LINE_BITMAP_STYLE.toString=B;A.LINE_BITMAP_STYLE.__enum__=A;A.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",13];A.LINE_GRADIENT_STYLE.toString=
B;A.LINE_GRADIENT_STYLE.__enum__=A;A.LINE_STYLE=["LINE_STYLE",14];A.LINE_STYLE.toString=B;A.LINE_STYLE.__enum__=A;A.LINE_TO=["LINE_TO",15];A.LINE_TO.toString=B;A.LINE_TO.__enum__=A;A.MOVE_TO=["MOVE_TO",16];A.MOVE_TO.toString=B;A.MOVE_TO.__enum__=A;A.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",17];A.OVERRIDE_MATRIX.toString=B;A.OVERRIDE_MATRIX.__enum__=A;A.UNKNOWN=["UNKNOWN",18];A.UNKNOWN.toString=B;A.UNKNOWN.__enum__=A;var Wd=function(){this.allowSmoothing=!0};h["openfl._internal.renderer.RenderSession"]=
Wd;Wd.__name__=["openfl","_internal","renderer","RenderSession"];Wd.prototype={allowSmoothing:null,cairo:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,upscaled:null,vendorPrefix:null,z:null,blendModeManager:null,filterManager:null,maskManager:null,shaderManager:null,__class__:Wd};var Ah=function(){};h["openfl._internal.renderer.cairo.CairoDisplayObject"]=Ah;Ah.__name__=["openfl","_internal","renderer","cairo","CairoDisplayObject"];
Ah.render=function(a,b){};var Wa=function(){};h["openfl._internal.renderer.cairo.CairoGraphics"]=Wa;Wa.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"];Wa.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*Wa.SIN45,l=-e+e*Wa.TAN22,t=-f+f*Wa.SIN45,h=-f+f*Wa.TAN22;Wa.cairo.moveTo(c,d-f);Wa.quadraticCurveTo(c,d+h,c+g,d+t);Wa.quadraticCurveTo(c+l,d,c-e,d);Wa.cairo.lineTo(a+e,d);Wa.quadraticCurveTo(a-l,d,a-g,d+t);Wa.quadraticCurveTo(a,
d+h,a,d-f);Wa.cairo.lineTo(a,b+f);Wa.quadraticCurveTo(a,b-h,a-g,b-t);Wa.quadraticCurveTo(a-l,b,a+e,b);Wa.cairo.lineTo(c-e,b);Wa.quadraticCurveTo(c+l,b,c+g,b-t);Wa.quadraticCurveTo(c,b-h,c,b+f);Wa.cairo.lineTo(c,d-f)};Wa.quadraticCurveTo=function(a,b,c,d){var e=null;Wa.cairo.get_hasCurrentPoint()?e=Wa.cairo.get_currentPoint():(Wa.cairo.moveTo(a,b),e=new gd(a,b));Wa.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};Wa.renderMask=
function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new md(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 3:g=d.readCubicCurveTo();c.curveTo(ca.get_controlX1(g)-0,ca.get_controlY1(g)-0,ca.get_controlX2(g)-0,ca.get_controlY2(g)-0,ca.get_anchorX(g)-0,ca.get_anchorY(g)-0);ca.get_anchorX(g);ca.get_anchorX(g);break;case 4:g=d.readCurveTo();Wa.quadraticCurveTo(xa.get_controlX(g)-0,xa.get_controlY(g)-0,xa.get_anchorX(g)-0,xa.get_anchorY(g)-0);xa.get_anchorX(g);
xa.get_anchorY(g);break;case 5:g=d.readDrawCircle();c.arc(Oa.get_x(g)-0,Oa.get_y(g)-0,Oa.get_radius(g),0,2*Math.PI);break;case 6:var l=d.readDrawEllipse(),g=Da.get_x(l),t=Da.get_y(l),h=Da.get_width(l),k=Da.get_height(l),g=g-0,t=t-0,l=h/2*.5522848,n=k/2*.5522848,p=g+h,m=t+k,h=g+h/2,k=t+k/2;c.moveTo(g,k);c.curveTo(g,k-n,h-l,t,h,t);c.curveTo(h+l,t,p,k-n,p,k);c.curveTo(p,k+n,h+l,m,h,m);c.curveTo(h-l,m,g,k+n,g,k);break;case 7:g=d.readDrawRect();c.rectangle(ia.get_x(g)-0,ia.get_y(g)-0,ia.get_width(g),ia.get_height(g));
break;case 8:g=d.readDrawRoundRect();Wa.drawRoundRect(ha.get_x(g)-0,ha.get_y(g)-0,ha.get_width(g),ha.get_height(g),ha.get_ellipseWidth(g),ha.get_ellipseHeight(g));break;case 15:g=d.readLineTo();c.lineTo(db.get_x(g)-0,db.get_y(g)-0);db.get_x(g);db.get_y(g);break;case 16:g=d.readMoveTo();c.moveTo(ab.get_x(g)-0,ab.get_y(g)-0);ab.get_x(g);ab.get_y(g);break;default:d.skip(g)}}d.destroy()}};var Vg=function(a){this.renderSession=a};h["openfl._internal.renderer.cairo.CairoMaskManager"]=Vg;Vg.__name__=["openfl",
"_internal","renderer","cairo","CairoMaskManager"];Vg.__super__=Tc;Vg.prototype=q(Tc.prototype,{pushMask:function(a){var b=this.renderSession.cairo;b.save();var c=a.__getRenderTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new bf(b.a,
b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.cairo.restore()},__class__:Vg});var Gf=function(){};h["openfl._internal.renderer.cairo.CairoRenderer"]=Gf;Gf.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"];Gf.__super__=mc;Gf.prototype=q(mc.prototype,
{cairo:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCairo(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.cairo.identityMatrix();this.stage.__clearBeforeRender&&(this.cairo.setSourceRGB(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2]),this.cairo.paint());this.stage.__renderCairo(this.renderSession)},__class__:Gf});var Ph=function(){};h["openfl._internal.renderer.cairo.CairoTextField"]=
Ph;Ph.__name__=["openfl","_internal","renderer","cairo","CairoTextField"];Ph.render=function(a,b,c){};var k=function(){};h["openfl._internal.renderer.canvas.CanvasGraphics"]=k;k.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"];k.closePath=function(a){null==a&&(a=!1);null!=k.context.strokeStyle&&(a||k.context.closePath(),k.context.stroke(),a&&k.context.closePath(),k.context.beginPath())};k.createBitmapFill=function(a,b,c){S.convertToCanvas(a.image);k.setSmoothing(c);return k.context.createPattern(a.image.get_src(),
b?"repeat":"no-repeat")};k.createGradientPattern=function(a,b,c,d,e,f,g,l){f=null;switch(a){case 0:e=null!=e?e:new fa;f=e.transformPoint(new X(-819.2,0));e=e.transformPoint(new X(819.2,0));f=k.context.createLinearGradient(f.x,f.y,e.x,e.y);break;case 1:null==e&&(e=new fa),f=e.transformPoint(new X(1638.4,0)),f=k.context.createRadialGradient(e.tx,e.ty,0,e.tx,e.ty,Math.abs((f.x-e.tx)/2))}e=0;for(a=b.length;e<a;){var h=e++,C=b[h];g=c[h];l=(C&16711680)>>>16;var n=(C&65280)>>>8,C=C&255,h=d[h]/255;0>h&&(h=
0);1<h&&(h=1);f.addColorStop(h,"rgba("+l+", "+n+", "+C+", "+g+")")}return f};k.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=d;a=a.image.get_src();f.fillStyle=f.createPattern(a,b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();k.hitTesting||f.fill();return e};k.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&
(f=d/2);c=a+c;d=b+d;var g=-e+e*k.SIN45,l=-e+e*k.TAN22,h=-f+f*k.SIN45,C=-f+f*k.TAN22;k.context.moveTo(c,d-f);k.context.quadraticCurveTo(c,d+C,c+g,d+h);k.context.quadraticCurveTo(c+l,d,c-e,d);k.context.lineTo(a+e,d);k.context.quadraticCurveTo(a-l,d,a-g,d+h);k.context.quadraticCurveTo(a,d+C,a,d-f);k.context.lineTo(a,b+f);k.context.quadraticCurveTo(a,b-C,a-g,b-h);k.context.quadraticCurveTo(a-l,b,a+e,b);k.context.lineTo(c-e,b);k.context.quadraticCurveTo(c+l,b,c+g,b-h);k.context.quadraticCurveTo(c,b-C,
c,b+f);k.context.lineTo(c,d-f)};k.endFill=function(){k.context.beginPath();k.playCommands(k.fillCommands,!1);k.fillCommands.clear()};k.endStroke=function(){k.context.beginPath();k.playCommands(k.strokeCommands,!0);k.context.closePath();k.strokeCommands.clear()};k.hitTest=function(a,b,c){k.bounds=a.__bounds;k.graphics=a;if(!(0==a.__commands.get_length()||null==k.bounds||0>=k.bounds.width||0>=k.bounds.height)){k.hitTesting=!0;var d=a.__renderTransform,e=b*d.b+c*d.d+d.ty;b=b*d.a+c*d.c+d.tx;b-=k.bounds.x*
d.a+k.bounds.y*d.c+d.tx;c=e-(k.bounds.x*d.b+k.bounds.y*d.d+d.ty);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));k.context=a.__context;k.context.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=!1;k.bitmapFill=null;k.bitmapRepeat=!1;d=new md(a.__commands);e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 0:case 1:case 2:k.endFill();k.endStroke();if(k.hasFill&&
k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;f==A.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),k.fillCommands.beginBitmapFill(Na.get_bitmap(f),Na.get_matrix(f),Na.get_repeat(f),Na.get_smooth(f)),k.strokeCommands.beginBitmapFill(Na.get_bitmap(f),Na.get_matrix(f),Na.get_repeat(f),Na.get_smooth(f))):f==A.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),k.fillCommands.beginGradientFill(ga.get_type(f),ga.get_colors(f),ga.get_alphas(f),ga.get_ratios(f),
ga.get_matrix(f),ga.get_spreadMethod(f),ga.get_interpolationMethod(f),ga.get_focalPointRatio(f)),k.strokeCommands.beginGradientFill(ga.get_type(f),ga.get_colors(f),ga.get_alphas(f),ga.get_ratios(f),ga.get_matrix(f),ga.get_spreadMethod(f),ga.get_interpolationMethod(f),ga.get_focalPointRatio(f))):(f=d.readBeginFill(),k.fillCommands.beginFill(xb.get_color(f),1),k.strokeCommands.beginFill(xb.get_color(f),1));break;case 3:f=d.readCubicCurveTo();k.fillCommands.cubicCurveTo(ca.get_controlX1(f),ca.get_controlY1(f),
ca.get_controlX2(f),ca.get_controlY2(f),ca.get_anchorX(f),ca.get_anchorY(f));k.strokeCommands.cubicCurveTo(ca.get_controlX1(f),ca.get_controlY1(f),ca.get_controlX2(f),ca.get_controlY2(f),ca.get_anchorX(f),ca.get_anchorY(f));break;case 4:f=d.readCurveTo();k.fillCommands.curveTo(xa.get_controlX(f),xa.get_controlY(f),xa.get_anchorX(f),xa.get_anchorY(f));k.strokeCommands.curveTo(xa.get_controlX(f),xa.get_controlY(f),xa.get_anchorX(f),xa.get_anchorY(f));break;case 5:f=d.readDrawCircle();k.fillCommands.drawCircle(Oa.get_x(f),
Oa.get_y(f),Oa.get_radius(f));k.strokeCommands.drawCircle(Oa.get_x(f),Oa.get_y(f),Oa.get_radius(f));break;case 6:f=d.readDrawEllipse();k.fillCommands.drawEllipse(Da.get_x(f),Da.get_y(f),Da.get_width(f),Da.get_height(f));k.strokeCommands.drawEllipse(Da.get_x(f),Da.get_y(f),Da.get_width(f),Da.get_height(f));break;case 7:f=d.readDrawRect();k.fillCommands.drawRect(ia.get_x(f),ia.get_y(f),ia.get_width(f),ia.get_height(f));k.strokeCommands.drawRect(ia.get_x(f),ia.get_y(f),ia.get_width(f),ia.get_height(f));
break;case 8:f=d.readDrawRoundRect();k.fillCommands.drawRoundRect(ha.get_x(f),ha.get_y(f),ha.get_width(f),ha.get_height(f),ha.get_ellipseWidth(f),ha.get_ellipseHeight(f));k.strokeCommands.drawRoundRect(ha.get_x(f),ha.get_y(f),ha.get_width(f),ha.get_height(f),ha.get_ellipseWidth(f),ha.get_ellipseHeight(f));break;case 11:d.readEndFill();k.endFill();k.endStroke();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&k.context.isPointInStroke(b,c))return d.destroy(),!0;k.hasFill=!1;k.bitmapFill=null;
break;case 12:f=d.readLineBitmapStyle();k.strokeCommands.lineBitmapStyle(sb.get_bitmap(f),sb.get_matrix(f),sb.get_repeat(f),sb.get_smooth(f));break;case 13:f=d.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ya.get_type(f),ya.get_colors(f),ya.get_alphas(f),ya.get_ratios(f),ya.get_matrix(f),ya.get_spreadMethod(f),ya.get_interpolationMethod(f),ya.get_focalPointRatio(f));break;case 14:f=d.readLineStyle();k.strokeCommands.lineStyle(ma.get_thickness(f),ma.get_color(f),1,ma.get_pixelHinting(f),
ma.get_scaleMode(f),ma.get_caps(f),ma.get_joints(f),ma.get_miterLimit(f));break;case 15:f=d.readLineTo();k.fillCommands.lineTo(db.get_x(f),db.get_y(f));k.strokeCommands.lineTo(db.get_x(f),db.get_y(f));break;case 16:f=d.readMoveTo();k.fillCommands.moveTo(ab.get_x(f),ab.get_y(f));k.strokeCommands.moveTo(ab.get_x(f),ab.get_y(f));break;default:d.skip(f)}}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&k.endStroke();d.destroy();if(k.hasFill&&k.context.isPointInPath(b,c)||k.hasStroke&&
k.context.isPointInStroke(b,c))return!0}return!1};k.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.get_length(),f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.get(d-1),c<d&&(c=d));if(!b)return{max:c,uvt:a};f=qa.toFloatVector(null);g=1;for(e+=1;g<e;)d=g++,b&&0==d%3||f.push(a.get(d-1));return{max:c,uvt:f}};k.playCommands=function(a,b){null==b&&(b=!1);k.bounds=k.graphics.__bounds;var c=k.bounds.x,d=k.bounds.y,e=0,f=0,g=!1,l=0,h=0;k.setSmoothing(!0);for(var C=new md(a),n=0,p=a.types;n<
p.length;){var m=p[n];++n;switch(m[1]){case 0:m=C.readBeginBitmapFill();k.bitmapFill=Na.get_bitmap(m);var q=Na.get_bitmap(m),r=Na.get_smooth(m);k.context.fillStyle=k.createBitmapFill(q,!0,r);k.hasFill=!0;null!=Na.get_matrix(m)?(k.pendingMatrix=Na.get_matrix(m),k.inversePendingMatrix=Na.get_matrix(m).clone(),k.inversePendingMatrix.invert()):(k.pendingMatrix=null,k.inversePendingMatrix=null);break;case 1:m=C.readBeginFill();if(.005>xb.get_alpha(m))k.hasFill=!1;else{if(1==xb.get_alpha(m))m=ba.hex(xb.get_color(m),
6),k.context.fillStyle="#"+m;else{var q=(xb.get_color(m)&16711680)>>>16,r=(xb.get_color(m)&65280)>>>8,u=xb.get_color(m)&255,m="rgba("+q+", "+r+", "+u+", "+xb.get_alpha(m);k.context.fillStyle=m+")"}k.bitmapFill=null;k.setSmoothing(!0);k.hasFill=!0}break;case 2:var v=C.readBeginGradientFill(),m=ga.get_type(v),q=ga.get_colors(v),r=ga.get_alphas(v),u=ga.get_ratios(v),w=ga.get_matrix(v),y=ga.get_spreadMethod(v),z=ga.get_interpolationMethod(v),v=ga.get_focalPointRatio(v);k.context.fillStyle=k.createGradientPattern(m,
q,r,u,w,y,z,v);k.bitmapFill=null;k.setSmoothing(!0);k.hasFill=!0;break;case 3:m=C.readCubicCurveTo();k.context.bezierCurveTo(ca.get_controlX1(m)-c,ca.get_controlY1(m)-d,ca.get_controlX2(m)-c,ca.get_controlY2(m)-d,ca.get_anchorX(m)-c,ca.get_anchorY(m)-d);break;case 4:m=C.readCurveTo();k.context.quadraticCurveTo(xa.get_controlX(m)-c,xa.get_controlY(m)-d,xa.get_anchorX(m)-c,xa.get_anchorY(m)-d);break;case 5:m=C.readDrawCircle();k.context.moveTo(Oa.get_x(m)-c+Oa.get_radius(m),Oa.get_y(m)-d);k.context.arc(Oa.get_x(m)-
c,Oa.get_y(m)-d,Oa.get_radius(m),0,2*Math.PI,!0);break;case 6:r=C.readDrawEllipse();m=Da.get_x(r);q=Da.get_y(r);z=Da.get_width(r);v=Da.get_height(r);m-=c;q-=d;r=z/2*.5522848;u=v/2*.5522848;w=m+z;y=q+v;z=m+z/2;v=q+v/2;k.context.moveTo(m,v);k.context.bezierCurveTo(m,v-u,z-r,q,z,q);k.context.bezierCurveTo(z+r,q,w,v-u,w,v);k.context.bezierCurveTo(w,v+u,z+r,y,z,y);k.context.bezierCurveTo(z-r,y,m,v+u,m,v);break;case 7:m=C.readDrawRect();q=!1;null==k.bitmapFill||k.hitTesting||(y=w=z=r=0,u=!0,null!=k.pendingMatrix?
0!=k.pendingMatrix.b||0!=k.pendingMatrix.c?u=!1:(w=k.inversePendingMatrix.transformPoint(new X(ia.get_x(m),ia.get_y(m))),z=k.inversePendingMatrix.transformPoint(new X(ia.get_x(m)+ia.get_width(m),ia.get_y(m)+ia.get_height(m))),r=w.y,y=w.x,w=z.y,z=z.x):(r=ia.get_y(m),y=ia.get_x(m),w=ia.get_y(m)+ia.get_height(m),z=ia.get_x(m)+ia.get_width(m)),u&&0<=r&&0<=y&&z<=k.bitmapFill.width&&w<=k.bitmapFill.height&&(q=!0,k.hitTesting||k.context.drawImage(k.bitmapFill.image.get_src(),y,r,z-y,w-r,ia.get_x(m)-c,ia.get_y(m)-
d,ia.get_width(m),ia.get_height(m))));q||k.context.rect(ia.get_x(m)-c,ia.get_y(m)-d,ia.get_width(m),ia.get_height(m));break;case 8:m=C.readDrawRoundRect();k.drawRoundRect(ha.get_x(m)-c,ha.get_y(m)-d,ha.get_width(m),ha.get_height(m),ha.get_ellipseWidth(m),ha.get_ellipseHeight(m));break;case 12:r=C.readLineBitmapStyle();b&&k.hasStroke&&k.closePath();k.context.moveTo(e-c,f-d);m=sb.get_bitmap(r);q=sb.get_repeat(r);r=sb.get_smooth(r);k.context.strokeStyle=k.createBitmapFill(m,q,r);k.hasStroke=!0;break;
case 13:v=C.readLineGradientStyle();b&&k.hasStroke&&k.closePath();k.context.moveTo(e-c,f-d);m=ya.get_type(v);q=ya.get_colors(v);r=ya.get_alphas(v);u=ya.get_ratios(v);w=ya.get_matrix(v);y=ya.get_spreadMethod(v);z=ya.get_interpolationMethod(v);v=ya.get_focalPointRatio(v);k.context.strokeStyle=k.createGradientPattern(m,q,r,u,w,y,z,v);k.setSmoothing(!0);k.hasStroke=!0;break;case 14:m=C.readLineStyle();b&&k.hasStroke&&k.closePath(null==ma.get_thickness(m));k.context.moveTo(e-c,f-d);null==ma.get_thickness(m)?
k.hasStroke=!1:(q=0<ma.get_thickness(m)?ma.get_thickness(m):1,k.context.lineWidth=q,q=null==ma.get_joints(m)?"round":Qh.toString(ma.get_joints(m)).toLowerCase(),k.context.lineJoin=q,q=null==ma.get_caps(m)?"round":0==ma.get_caps(m)?"butt":Rh.toString(ma.get_caps(m)).toLowerCase(),k.context.lineCap=q,k.context.miterLimit=ma.get_miterLimit(m),1==ma.get_alpha(m)?(m=ba.hex(ma.get_color(m)&16777215,6),k.context.strokeStyle="#"+m):(q=(ma.get_color(m)&16711680)>>>16,r=(ma.get_color(m)&65280)>>>8,u=ma.get_color(m)&
255,m="rgba("+q+", "+r+", "+u+", "+ma.get_alpha(m),k.context.strokeStyle=m+")"),k.setSmoothing(!0),k.hasStroke=!0);break;case 15:f=C.readLineTo();k.context.lineTo(db.get_x(f)-c,db.get_y(f)-d);e=db.get_x(f);f=db.get_y(f);break;case 16:h=C.readMoveTo();k.context.moveTo(ab.get_x(h)-c,ab.get_y(h)-d);e=ab.get_x(h);f=ab.get_y(h);g=!0;l=ab.get_x(h);h=ab.get_y(h);break;default:C.skip(m)}}C.destroy();b&&k.hasStroke&&(k.hasFill&&g?k.context.lineTo(l-c,h-d):g&&e==l&&f==h&&k.closePath(!0),k.hitTesting||k.context.stroke());
b||!k.hasFill&&null==k.bitmapFill||(k.context.translate(-k.bounds.x,-k.bounds.y),null!=k.pendingMatrix?(k.context.transform(k.pendingMatrix.a,k.pendingMatrix.b,k.pendingMatrix.c,k.pendingMatrix.d,k.pendingMatrix.tx,k.pendingMatrix.ty),k.hitTesting||k.context.fill(),k.context.transform(k.inversePendingMatrix.a,k.inversePendingMatrix.b,k.inversePendingMatrix.c,k.inversePendingMatrix.d,k.inversePendingMatrix.tx,k.inversePendingMatrix.ty)):k.hitTesting||k.context.fill(),k.context.translate(k.bounds.x,
k.bounds.y),k.context.closePath())};k.render=function(a,b,c){a.__update();if(a.__dirty){k.hitTesting=!1;k.graphics=a;k.allowSmoothing=b.allowSmoothing;k.bounds=a.__bounds;b=a.__width;c=a.__height;if(!a.__visible||0==a.__commands.get_length()||null==k.bounds||1>b||1>c)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));k.context=a.__context;a.__canvas.width=b;a.__canvas.height=c;b=a.__renderTransform;
k.context.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);k.fillCommands.clear();k.strokeCommands.clear();k.hasFill=!1;k.hasStroke=!1;k.bitmapFill=null;k.bitmapRepeat=!1;b=new md(a.__commands);c=0;var d=a.__commands.types;try{for(;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:case 1:case 2:k.endFill();k.endStroke();if(e==A.BEGIN_BITMAP_FILL){var f=b.readBeginBitmapFill();k.fillCommands.beginBitmapFill(Na.get_bitmap(f),Na.get_matrix(f),Na.get_repeat(f),Na.get_smooth(f));k.strokeCommands.beginBitmapFill(Na.get_bitmap(f),
Na.get_matrix(f),Na.get_repeat(f),Na.get_smooth(f))}else if(e==A.BEGIN_GRADIENT_FILL){var g=b.readBeginGradientFill();k.fillCommands.beginGradientFill(ga.get_type(g),ga.get_colors(g),ga.get_alphas(g),ga.get_ratios(g),ga.get_matrix(g),ga.get_spreadMethod(g),ga.get_interpolationMethod(g),ga.get_focalPointRatio(g));k.strokeCommands.beginGradientFill(ga.get_type(g),ga.get_colors(g),ga.get_alphas(g),ga.get_ratios(g),ga.get_matrix(g),ga.get_spreadMethod(g),ga.get_interpolationMethod(g),ga.get_focalPointRatio(g))}else{var l=
b.readBeginFill();k.fillCommands.beginFill(xb.get_color(l),xb.get_alpha(l));k.strokeCommands.beginFill(xb.get_color(l),xb.get_alpha(l))}break;case 3:var h=b.readCubicCurveTo();k.fillCommands.cubicCurveTo(ca.get_controlX1(h),ca.get_controlY1(h),ca.get_controlX2(h),ca.get_controlY2(h),ca.get_anchorX(h),ca.get_anchorY(h));k.strokeCommands.cubicCurveTo(ca.get_controlX1(h),ca.get_controlY1(h),ca.get_controlX2(h),ca.get_controlY2(h),ca.get_anchorX(h),ca.get_anchorY(h));break;case 4:var C=b.readCurveTo();
k.fillCommands.curveTo(xa.get_controlX(C),xa.get_controlY(C),xa.get_anchorX(C),xa.get_anchorY(C));k.strokeCommands.curveTo(xa.get_controlX(C),xa.get_controlY(C),xa.get_anchorX(C),xa.get_anchorY(C));break;case 5:var m=b.readDrawCircle();k.fillCommands.drawCircle(Oa.get_x(m),Oa.get_y(m),Oa.get_radius(m));k.strokeCommands.drawCircle(Oa.get_x(m),Oa.get_y(m),Oa.get_radius(m));break;case 6:var n=b.readDrawEllipse();k.fillCommands.drawEllipse(Da.get_x(n),Da.get_y(n),Da.get_width(n),Da.get_height(n));k.strokeCommands.drawEllipse(Da.get_x(n),
Da.get_y(n),Da.get_width(n),Da.get_height(n));break;case 7:var p=b.readDrawRect();k.fillCommands.drawRect(ia.get_x(p),ia.get_y(p),ia.get_width(p),ia.get_height(p));k.strokeCommands.drawRect(ia.get_x(p),ia.get_y(p),ia.get_width(p),ia.get_height(p));break;case 8:var q=b.readDrawRoundRect();k.fillCommands.drawRoundRect(ha.get_x(q),ha.get_y(q),ha.get_width(q),ha.get_height(q),ha.get_ellipseWidth(q),ha.get_ellipseHeight(q));k.strokeCommands.drawRoundRect(ha.get_x(q),ha.get_y(q),ha.get_width(q),ha.get_height(q),
ha.get_ellipseWidth(q),ha.get_ellipseHeight(q));break;case 10:k.endFill();k.endStroke();var r=b.readDrawTriangles(),u=cc.get_vertices(r),v=cc.get_indices(r),w=cc.get_uvtData(r),y=null,z=null==k.bitmapFill;if(z&&null!=w)throw"__break__";if(!z){if(null==w)for(var w=qa.toFloatVector(null),x=0,B=u.get_length()/2|0;x<B;){var E=x++;w.push(u.get(2*E)/k.bitmapFill.width);w.push(u.get(2*E+1)/k.bitmapFill.height)}var F=w.get_length()!=u.get_length(),G=k.normalizeUVT(w,F),H=G.max,w=G.uvt,y=1<H?k.createTempPatternCanvas(k.bitmapFill,
k.bitmapRepeat,k.bounds.width|0,k.bounds.height|0):k.createTempPatternCanvas(k.bitmapFill,k.bitmapRepeat,k.bitmapFill.width,k.bitmapFill.height)}for(var x=0,I=v.get_length(),J,K,O,P,L,M,N,V,Q,R,S,T,U,W,X,da,ea,Y,Z,aa,ba,fa,la,na,ra,sa,ua,va;x<I;){J=x;K=x+1;O=x+2;P=2*v.get(J);L=2*v.get(J)+1;M=2*v.get(K);N=2*v.get(K)+1;V=2*v.get(O);Q=2*v.get(O)+1;R=u.get(P);S=u.get(L);T=u.get(M);U=u.get(N);W=u.get(V);X=u.get(Q);switch(cc.get_culling(r)){case 0:if(0>(T-R)*(X-S)-(U-S)*(W-R)){x+=3;continue}break;case 2:if(!(0>
(T-R)*(X-S)-(U-S)*(W-R))){x+=3;continue}}z?(k.context.beginPath(),k.context.moveTo(R,S),k.context.lineTo(T,U),k.context.lineTo(W,X),k.context.closePath(),k.hitTesting||k.context.fill()):(k.context.save(),k.context.beginPath(),k.context.moveTo(R,S),k.context.lineTo(T,U),k.context.lineTo(W,X),k.context.closePath(),k.context.clip(),da=w.get(P)*y.width,Y=w.get(M)*y.width,aa=w.get(V)*y.width,ea=w.get(L)*y.height,Z=w.get(N)*y.height,ba=w.get(Q)*y.height,fa=da*(ba-Z)-Y*ba+aa*Z+(Y-aa)*ea,0!=fa&&(la=-(ea*
(W-T)-Z*W+ba*T+(Z-ba)*R)/fa,na=(Z*X+ea*(U-X)-ba*U+(ba-Z)*S)/fa,ra=(da*(W-T)-Y*W+aa*T+(Y-aa)*R)/fa,sa=-(Y*X+da*(U-X)-aa*U+(aa-Y)*S)/fa,ua=(da*(ba*T-Z*W)+ea*(Y*W-aa*T)+(aa*Z-Y*ba)*R)/fa,va=(da*(ba*U-Z*X)+ea*(Y*X-aa*U)+(aa*Z-Y*ba)*S)/fa,k.context.transform(la,na,ra,sa,ua,va),k.context.drawImage(y,0,0),k.context.restore()));x+=3}break;case 11:b.readEndFill();k.endFill();k.endStroke();k.hasFill=!1;k.bitmapFill=null;break;case 12:var oa=b.readLineBitmapStyle();k.strokeCommands.lineBitmapStyle(sb.get_bitmap(oa),
sb.get_matrix(oa),sb.get_repeat(oa),sb.get_smooth(oa));break;case 13:var ja=b.readLineGradientStyle();k.strokeCommands.lineGradientStyle(ya.get_type(ja),ya.get_colors(ja),ya.get_alphas(ja),ya.get_ratios(ja),ya.get_matrix(ja),ya.get_spreadMethod(ja),ya.get_interpolationMethod(ja),ya.get_focalPointRatio(ja));break;case 14:var ka=b.readLineStyle();k.strokeCommands.lineStyle(ma.get_thickness(ka),ma.get_color(ka),ma.get_alpha(ka),ma.get_pixelHinting(ka),ma.get_scaleMode(ka),ma.get_caps(ka),ma.get_joints(ka),
ma.get_miterLimit(ka));break;case 15:var pa=b.readLineTo();k.fillCommands.lineTo(db.get_x(pa),db.get_y(pa));k.strokeCommands.lineTo(db.get_x(pa),db.get_y(pa));break;case 16:var ta=b.readMoveTo();k.fillCommands.moveTo(ab.get_x(ta),ab.get_y(ta));k.strokeCommands.moveTo(ab.get_x(ta),ab.get_y(ta));break;default:b.skip(e)}}}catch(wa){if("__break__"!=wa)throw wa;}0<k.fillCommands.get_length()&&k.endFill();0<k.strokeCommands.get_length()&&k.endStroke();b.destroy();a.__bitmap=La.fromCanvas(a.__canvas)}a.set___dirty(!1)}};
k.renderMask=function(a,b){if(0!=a.__commands.get_length()){k.context=b.context;for(var c=new md(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();k.context.bezierCurveTo(ca.get_controlX1(f)-0,ca.get_controlY1(f)-0,ca.get_controlX2(f)-0,ca.get_controlY2(f)-0,ca.get_anchorX(f)-0,ca.get_anchorY(f)-0);ca.get_anchorX(f);ca.get_anchorY(f);break;case 4:f=c.readCurveTo();k.context.quadraticCurveTo(xa.get_controlX(f)-0,xa.get_controlY(f)-0,xa.get_anchorX(f)-
0,xa.get_anchorY(f)-0);xa.get_anchorX(f);xa.get_anchorY(f);break;case 5:f=c.readDrawCircle();k.context.arc(Oa.get_x(f)-0,Oa.get_y(f)-0,Oa.get_radius(f),0,2*Math.PI,!0);break;case 6:var g=c.readDrawEllipse(),f=Da.get_x(g),l=Da.get_y(g),h=Da.get_width(g),C=Da.get_height(g),f=f-0,l=l-0,g=h/2*.5522848,m=C/2*.5522848,n=f+h,p=l+C,h=f+h/2,C=l+C/2;k.context.moveTo(f,C);k.context.bezierCurveTo(f,C-m,h-g,l,h,l);k.context.bezierCurveTo(h+g,l,n,C-m,n,C);k.context.bezierCurveTo(n,C+m,h+g,p,h,p);k.context.bezierCurveTo(h-
g,p,f,C+m,f,C);break;case 7:f=c.readDrawRect();k.context.rect(ia.get_x(f)-0,ia.get_y(f)-0,ia.get_width(f),ia.get_height(f));break;case 8:f=c.readDrawRoundRect();k.drawRoundRect(ha.get_x(f)-0,ha.get_y(f)-0,ha.get_width(f),ha.get_height(f),ha.get_ellipseWidth(f),ha.get_ellipseHeight(f));break;case 15:f=c.readLineTo();k.context.lineTo(db.get_x(f)-0,db.get_y(f)-0);db.get_x(f);db.get_y(f);break;case 16:f=c.readMoveTo();k.context.moveTo(ab.get_x(f)-0,ab.get_y(f)-0);ab.get_x(f);ab.get_y(f);break;default:c.skip(f)}}c.destroy()}};
k.setSmoothing=function(a){k.allowSmoothing||(a=!1);k.context.imageSmoothingEnabled!=a&&(k.context.mozImageSmoothingEnabled=a,k.context.msImageSmoothingEnabled=a,k.context.imageSmoothingEnabled=a)};var Ee=function(a){this.renderSession=a};h["openfl._internal.renderer.canvas.CanvasMaskManager"]=Ee;Ee.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"];Ee.__super__=Tc;Ee.prototype=q(Tc.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getRenderTransform();
b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popObject:function(a,
b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){this.renderSession.context.restore()},__class__:Ee});var Hf=function(a,b){mc.call(this,a);this.context=b;this.renderSession=new Wd;this.renderSession.context=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Ee(this.renderSession)};h["openfl._internal.renderer.canvas.CanvasRenderer"]=Hf;Hf.__name__=["openfl","_internal","renderer","canvas",
"CanvasRenderer"];Hf.__super__=mc;Hf.prototype=q(mc.prototype,{context:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderCanvas(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!this.stage.__transparent&&this.stage.__clearBeforeRender?(this.context.fillStyle=this.stage.__colorString,this.context.fillRect(0,0,this.stage.stageWidth,
this.stage.stageHeight)):this.stage.__transparent&&this.stage.__clearBeforeRender&&this.context.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);this.stage.__renderCanvas(this.renderSession)},__class__:Hf});var M=function(){};h["openfl._internal.renderer.canvas.CanvasTextField"]=M;M.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"];var If=function(){};h["openfl._internal.renderer.dom.DOMBitmap"]=If;If.__name__=["openfl","_internal","renderer","dom","DOMBitmap"];If.renderCanvas=
function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),a.__imageVersion=-1,b.allowSmoothing&&a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),yb.initializeElement(a,a.__canvas,b));a.__imageVersion!=a.bitmapData.image.version&&(S.convertToCanvas(a.bitmapData.image),a.__canvas.width=a.bitmapData.width,
a.__canvas.height=a.bitmapData.height,a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0),a.__imageVersion=a.bitmapData.image.version);yb.updateClip(a,b);yb.applyStyle(a,b,!0,!0,!0)};If.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,yb.initializeElement(a,a.__image,b));yb.updateClip(a,b);yb.applyStyle(a,b,!0,!0,!0)};var Jf=
function(a){this.renderSession=a;this.clipRects=[];this.numClipRects=0};h["openfl._internal.renderer.dom.DOMMaskManager"]=Jf;Jf.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"];Jf.__super__=Tc;Jf.prototype=q(Tc.prototype,{currentClipRect:null,clipRects:null,numClipRects:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&
this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new O);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.currentClipRect=c;this.numClipRects++},popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=
a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,this.currentClipRect=0<this.numClipRects?this.clipRects[this.numClipRects-1]:null)},updateClip:function(a){if(null==this.currentClipRect)a.__worldClipChanged=null!=a.__worldClip,a.__worldClip=null;else{null==a.__worldClip&&(a.__worldClip=new O);var b=O.__temp,c=fa.__temp;c.copyFrom(a.__renderTransform);c.invert();this.currentClipRect.__transform(b,c);b.equals(a.__worldClip)?a.__worldClipChanged=!1:(a.__worldClip.copyFrom(b),
a.__worldClipChanged=!0)}},__class__:Jf});var yb=function(a,b){mc.call(this,a);this.element=b;this.renderSession=new Wd;this.renderSession.element=b;this.renderSession.roundPixels=!0;var c=window.getComputedStyle(document.documentElement,""),c=(Array.prototype.slice.call(c).join("").match(/-(moz|webkit|ms)-/)||""===c.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+c+")","i"));c[0].toUpperCase();c.substr(1);this.renderSession.vendorPrefix=c;this.renderSession.transformProperty="webkit"==
c?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==c?"-webkit-transform-origin":"transform-origin";this.renderSession.maskManager=new Jf(this.renderSession);this.renderSession.renderer=this};h["openfl._internal.renderer.dom.DOMRenderer"]=yb;yb.__name__=["openfl","_internal","renderer","dom","DOMRenderer"];yb.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__renderTransformChanged&&(c=a.__renderTransform,f.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+
c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+(c.tx|0)+", "+(c.ty|0)+", 0, 1)":"matrix3d("+c.a+", "+c.b+", 0, 0, "+c.c+", "+c.d+", 0, 0, 0, 0, 1, 0, "+c.tx+", "+c.ty+", 0, 1)",null));a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):
(a=a.__worldClip,f.setProperty("clip","rect("+a.y+"px, "+a.get_right()+"px, "+a.get_bottom()+"px, "+a.x+"px)",null)))};yb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__renderTransformChanged=!0;a.__worldVisibleChanged=!0;a.__worldClipChanged=!0;a.__worldClip=null;a.__worldZ=-1};
yb.updateClip=function(a,b){b.maskManager.updateClip(a)};yb.__super__=mc;yb.prototype=q(mc.prototype,{element:null,clear:function(){for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderDOM(this.stage,this.renderSession)}},render:function(){this.renderSession.allowSmoothing=2!=this.stage.quality;this.element.style.background=this.stage.__transparent?"none":this.stage.__colorString;this.renderSession.z=1;this.stage.__renderDOM(this.renderSession)},__class__:yb});var Kf=
function(a){this.gl=a;this.setBlendMode(10);a.enable(a.BLEND)};h["openfl._internal.renderer.opengl.GLBlendModeManager"]=Kf;Kf.__name__=["openfl","_internal","renderer","opengl","GLBlendModeManager"];Kf.__super__=Df;Kf.prototype=q(Df.prototype,{currentBlendMode:null,gl:null,setBlendMode:function(a){if(this.currentBlendMode!=a)switch(this.currentBlendMode=a,a){case 0:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;case 9:this.gl.blendEquation(this.gl.FUNC_ADD);
this.gl.blendFunc(this.gl.DST_COLOR,this.gl.ONE_MINUS_SRC_ALPHA);break;case 12:this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_COLOR);break;case 14:this.gl.blendEquation(this.gl.FUNC_REVERSE_SUBTRACT);this.gl.blendFunc(this.gl.ONE,this.gl.ONE);break;default:this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}},__class__:Kf});var Lf=function(a,b){this.renderSession=b;this.renderer=a;this.gl=b.gl;this.filterDepth=
0;this.matrix=new fa};h["openfl._internal.renderer.opengl.GLFilterManager"]=Lf;Lf.__name__=["openfl","_internal","renderer","opengl","GLFilterManager"];Lf.__super__=Ef;Lf.prototype=q(Ef.prototype,{filterDepth:null,gl:null,matrix:null,renderer:null,pushObject:function(a){if(null!=a.__filters&&0<a.__filters.length){if(1==a.__filters.length&&0==a.__filters[0].__numPasses)return a.__filters[0].__initShader(this.renderSession,0);this.renderer.getRenderTarget(!0);this.filterDepth++}return this.renderSession.shaderManager.defaultShader},
popObject:function(a){if(null!=a.__filters&&0<a.__filters.length){var b=a.__filters[0],c;if(1<a.__filters.length||0<b.__numPasses){for(var d=0,e=b.__numPasses;d<e;)c=d++,a=this.renderer.currentRenderTarget,this.renderer.getRenderTarget(!0),c=b.__initShader(this.renderSession,c),this.renderPass(a,c);this.filterDepth--;this.renderer.getRenderTarget(0<this.filterDepth);this.renderPass(this.renderer.currentRenderTarget,this.renderSession.shaderManager.defaultShader)}else this.filterDepth--}},renderPass:function(a,
b){b.get_data().uImage0.input=a;var c=this.renderSession.allowSmoothing&&this.renderSession.upscaled;b.get_data().uImage0.smoothing=c;b.get_data().uMatrix.value=this.renderer.getMatrix(this.matrix);this.renderSession.shaderManager.setShader(b);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.getBuffer(this.gl,1));this.gl.vertexAttribPointer(b.get_data().aPosition.index,3,this.gl.FLOAT,!1,24,0);this.gl.vertexAttribPointer(b.get_data().aTexCoord.index,2,this.gl.FLOAT,!1,24,12);this.gl.vertexAttribPointer(b.get_data().aAlpha.index,
1,this.gl.FLOAT,!1,24,20);this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},__class__:Lf});var Mf=function(a){this.renderSession=a;this.gl=a.gl;this.clipRects=[];this.numClipRects=0;this.tempRect=new O};h["openfl._internal.renderer.opengl.GLMaskManager"]=Mf;Mf.__name__=["openfl","_internal","renderer","opengl","GLMaskManager"];Mf.__super__=Tc;Mf.prototype=q(Tc.prototype,{clipRects:null,gl:null,numClipRects:null,tempRect:null,pushMask:function(a){this.pushRect(a.getBounds(a),a.__getRenderTransform())},
pushObject:function(a,b){null==b&&(b=!0);b&&null!=a.__scrollRect&&this.pushRect(a.__scrollRect,a.__renderTransform);null!=a.__mask&&this.pushMask(a.__mask)},pushRect:function(a,b){this.numClipRects==this.clipRects.length&&(this.clipRects[this.numClipRects]=new O);var c=this.clipRects[this.numClipRects];a.__transform(c,b);if(0<this.numClipRects){var d=this.clipRects[this.numClipRects-1];c.__contract(d.x,d.y,d.width,d.height)}0>c.height&&(c.height=0);0>c.width&&(c.width=0);this.scissorRect(c);this.numClipRects++},
popMask:function(){this.popRect()},popObject:function(a,b){null==b&&(b=!0);null!=a.__mask&&this.popMask();b&&null!=a.__scrollRect&&this.popRect()},popRect:function(){0<this.numClipRects&&(this.numClipRects--,0<this.numClipRects?this.scissorRect(this.clipRects[this.numClipRects-1]):this.scissorRect())},scissorRect:function(a){if(null!=a){var b=this.renderSession.renderer;this.gl.enable(this.gl.SCISSOR_TEST);var c=this.tempRect;a.__transform(c,b.displayMatrix);a=Math.floor(c.x);var b=Math.floor(b.height-
c.y-c.height),d=Math.ceil(c.width),c=Math.ceil(c.height);0>d&&(d=0);0>c&&(c=0);this.gl.scissor(a,b,d,c)}else this.gl.disable(this.gl.SCISSOR_TEST)},__class__:Mf});var Xd=function(a,b,c){null==c&&(c=!0);mc.call(this,a);this.gl=b;this.flipped=c;this.matrix=Ea._new();this.values=[];this.renderSession=new Wd;this.renderSession.gl=b;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.blendModeManager=new Kf(b);this.renderSession.filterManager=new Lf(this,this.renderSession);
this.renderSession.shaderManager=new Nf(b);this.renderSession.maskManager=new Mf(this.renderSession);null!=a.window&&(null==a.stage3Ds.get(0).context3D&&a.stage3Ds.get(0).__createContext(a,this.renderSession),this.resize(Math.ceil(a.window.__width*a.window.__scale),Math.ceil(a.window.__height*a.window.__scale)))};h["openfl._internal.renderer.opengl.GLRenderer"]=Xd;Xd.__name__=["openfl","_internal","renderer","opengl","GLRenderer"];Xd.__super__=mc;Xd.prototype=q(mc.prototype,{projection:null,projectionFlipped:null,
currentRenderTarget:null,displayHeight:null,displayMatrix:null,displayWidth:null,flipped:null,gl:null,matrix:null,renderTargetA:null,renderTargetB:null,offsetX:null,offsetY:null,values:null,clear:function(){this.stage.__transparent?this.gl.clearColor(0,0,0,0):this.gl.clearColor(this.stage.__colorSplit[0],this.stage.__colorSplit[1],this.stage.__colorSplit[2],1);this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var a=0,b=this.stage.stage3Ds;a<b.get_length();){var c=b.get(a);++a;c.__renderGL(this.stage,this.renderSession)}},
getMatrix:function(a){var b=fa.__temp;b.copyFrom(a);b.concat(this.displayMatrix);this.renderSession.roundPixels&&(b.tx=Math.round(b.tx),b.ty=Math.round(b.ty));Ea.identity(this.matrix);Ea.set(this.matrix,0,b.a);Ea.set(this.matrix,1,b.b);Ea.set(this.matrix,4,b.c);Ea.set(this.matrix,5,b.d);Ea.set(this.matrix,12,b.tx);Ea.set(this.matrix,13,b.ty);Ea.append(this.matrix,this.flipped?this.projectionFlipped:this.projection);for(a=0;16>a;)b=a++,this.values[b]=Ea.get(this.matrix,b);return this.values},getRenderTarget:function(a){a?
(null==this.renderTargetA&&(this.renderTargetA=La.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,this.height,1,!0)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.renderTargetA.getTexture(this.gl)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)),null==this.renderTargetB&&(this.renderTargetB=La.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(this.width,
this.height,1,!0)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.renderTargetB.getTexture(this.gl)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE)),this.currentRenderTarget=this.currentRenderTarget==this.renderTargetA?this.renderTargetB:this.renderTargetA,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.currentRenderTarget.__getFramebuffer(this.gl)),this.gl.viewport(0,0,this.width,
this.height),this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.flipped=!1):(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.flipped=!0)},render:function(){this.gl.viewport(this.offsetX,this.offsetY,this.displayWidth,this.displayHeight);this.renderSession.allowSmoothing=2!=this.stage.quality;this.renderSession.upscaled=1!=this.displayMatrix.a||1!=this.displayMatrix.d;this.stage.__renderGL(this.renderSession);if(0<this.offsetX||0<this.offsetY)this.gl.clearColor(0,0,0,1),
this.gl.enable(this.gl.SCISSOR_TEST),0<this.offsetX&&(this.gl.scissor(0,0,this.offsetX,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.scissor(this.offsetX+this.displayWidth,0,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),0<this.offsetY&&(this.gl.scissor(0,0,this.width,this.offsetY),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.scissor(0,this.offsetY+this.displayHeight,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT)),this.gl.disable(this.gl.SCISSOR_TEST)},
resize:function(a,b){mc.prototype.resize.call(this,a,b);null==this.renderTargetA||this.renderTargetA.width==a&&this.renderTargetA.height==b||(this.renderTargetA=La.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.renderTargetA.getTexture(this.gl)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));
null==this.renderTargetB||this.renderTargetB.width==a&&this.renderTargetB.height==b||(this.renderTargetB=La.fromTexture(this.stage.stage3Ds.get(0).context3D.createRectangleTexture(a,b,1,!0)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.renderTargetB.getTexture(this.gl)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));var c=this.displayMatrix=this.stage.__displayMatrix;this.offsetX=
Math.round(0*c.a+0*c.c+c.tx);c=this.displayMatrix;this.offsetY=Math.round(0*c.b+0*c.d+c.ty);c=this.displayMatrix;this.displayWidth=Math.round(a*c.a+0*c.c+c.tx-this.offsetX);c=this.displayMatrix;this.displayHeight=Math.round(0*c.b+b*c.d+c.ty-this.offsetY);this.projection=Ea.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.offsetY,this.displayHeight+this.offsetY,-1E3,1E3);this.projectionFlipped=Ea.createOrtho(this.offsetX,this.displayWidth+this.offsetX,this.displayHeight+this.offsetY,this.offsetY,
-1E3,1E3)},__class__:Xd});var Nf=function(a){this.gl=a;this.defaultShader=new nc;this.defaultShader.gl=a;this.defaultShader.__init()};h["openfl._internal.renderer.opengl.GLShaderManager"]=Nf;Nf.__name__=["openfl","_internal","renderer","opengl","GLShaderManager"];Nf.__super__=Ff;Nf.prototype=q(Ff.prototype,{gl:null,setShader:function(a){this.currentShader==a?null!=this.currentShader&&this.currentShader.__update():(null!=this.currentShader&&this.currentShader.__disable(),null==a?(this.currentShader=
null,this.gl.useProgram(null)):(this.currentShader=a,null==this.currentShader.gl&&(this.currentShader.gl=this.gl,this.currentShader.__init()),this.gl.useProgram(a.glProgram),this.currentShader.__enable(),this.currentShader.__update()))},__class__:Nf});var Nb=function(){};h["openfl._internal.stage3D.AGALConverter"]=Nb;Nb.__name__=["openfl","_internal","stage3D","AGALConverter"];Nb.prefixFromType=function(a,b){switch(a){case 0:return"va";case 1:return b==dc.VERTEX?"vc":"fc";case 2:return b==dc.VERTEX?
"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new n(new Ba("Invalid data!"));}};Nb.readUInt64=function(a){var b=a.readInt();a=a.readInt();return new K(a,b)};Nb.convertToGLSL=function(a,b){a.position=0;a.__endian=1;var c=a.readByte()&255;if(176==c)return a.readUTF();if(160!=c)throw new n(new Ba("Magic value must be 0xA0, may not be AGAL"));if(1!=a.readInt())throw new n(new Ba("Version must be 1"));if(161!=(a.readByte()&255))throw new n(new Ba("Shader type ID must be 0xA1"));
for(var c=0==(a.readByte()&255)?dc.VERTEX:dc.FRAGMENT,d=new Wg,e="";a.position<Sa.get_length(a);){var f=a.readInt(),g=a.readUnsignedInt(),l=Nb.readUInt64(a),h=Nb.readUInt64(a),g=Fe.parse(g,c),l=Yd.parse(l,c,g.mask),k=Yd.parse(h,c,g.mask),e=e+"\t";switch(f){case 0:e+=E.string(g.toGLSL()+" = "+l.toGLSL()+"; // mov");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 1:e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" + "+k.toGLSL()+"; // add");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);
break;case 2:e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" - "+k.toGLSL()+"; // sub");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 3:e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" * "+k.toGLSL()+"; // mul");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 4:e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" / "+k.toGLSL()+"; // div");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 5:e+=E.string(g.toGLSL()+" = vec4(1) / "+l.toGLSL()+
", "+k.toGLSL()+"; // rcp (untested)");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 6:e+=E.string(g.toGLSL()+" = min("+l.toGLSL()+", "+k.toGLSL()+"); // min");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 7:e+=E.string(g.toGLSL()+" = max("+l.toGLSL()+", "+k.toGLSL()+"); // max");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 8:e+=E.string(g.toGLSL()+" = fract("+l.toGLSL()+"); // frc");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);
break;case 9:e+=E.string(g.toGLSL()+" = sqrt("+l.toGLSL()+"); // sqrt");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 10:e+=E.string(g.toGLSL()+" = inversesqrt("+l.toGLSL()+"); // rsq");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 11:e+=E.string(g.toGLSL()+" = pow("+l.toGLSL()+", "+k.toGLSL()+"); // pow");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 12:e+=E.string(g.toGLSL()+" = log2("+l.toGLSL()+"); // log");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);
break;case 13:e+=E.string(g.toGLSL()+" = exp2("+l.toGLSL()+"); // exp");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 14:e+=E.string(g.toGLSL()+" = normalize("+l.toGLSL()+"); // normalize");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 15:e+=E.string(g.toGLSL()+" = sin("+l.toGLSL()+"); // sin");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 16:e+=E.string(g.toGLSL()+" = cos("+l.toGLSL()+"); // cos");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 17:l.sourceMask=k.sourceMask=
7;e+=E.string(g.toGLSL()+" = cross(vec3("+l.toGLSL()+"), vec3("+k.toGLSL()+")); // crs");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 18:l.sourceMask=k.sourceMask=7;e+=E.string(g.toGLSL()+" = vec4(dot(vec3("+l.toGLSL()+"), vec3("+k.toGLSL()+")))"+g.getWriteMask()+"; // dp3");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 19:l.sourceMask=k.sourceMask=15;e+=E.string(g.toGLSL()+" = vec4(dot(vec4("+l.toGLSL()+"), vec4("+k.toGLSL()+")))"+g.getWriteMask()+
"; // dp4");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 20:e+=E.string(g.toGLSL()+" = abs("+l.toGLSL()+"); // abs");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 21:e+=E.string(g.toGLSL()+" = -"+l.toGLSL()+"; // neg");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 22:e+=E.string(g.toGLSL()+" = clamp("+l.toGLSL()+", 0.0, 1.0); // saturate");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);break;case 23:f=d.getRegisterUsage(k);f!=u.VECTOR_4&&f!=u.VECTOR_4_ARRAY?
(e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" * mat3("+k.toGLSL(!1)+"); // m33"),d.addDR(g,u.VECTOR_4),d.addSR(l,u.VECTOR_4),d.addSR(k,u.MATRIX_4_4)):(l.sourceMask=k.sourceMask=7,e+=E.string(g.toGLSL()+" = vec3(dot("+l.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+l.toGLSL(!0)+","+k.toGLSL(!0,1)+"),dot("+l.toGLSL(!0)+","+k.toGLSL(!0,2)+")); // m33"),d.addDR(g,u.VECTOR_4),d.addSR(l,u.VECTOR_4),d.addSR(k,u.VECTOR_4,0),d.addSR(k,u.VECTOR_4,1),d.addSR(k,u.VECTOR_4,2));break;case 24:f=d.getRegisterUsage(k);f!=
u.VECTOR_4&&f!=u.VECTOR_4_ARRAY?(e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" * "+k.toGLSL(!1)+"; // m44"),d.addDR(g,u.VECTOR_4),d.addSR(l,u.VECTOR_4),d.addSR(k,u.MATRIX_4_4)):(l.sourceMask=k.sourceMask=15,e+=E.string(g.toGLSL()+" = vec4(dot("+l.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+l.toGLSL(!0)+","+k.toGLSL(!0,1)+"), dot("+l.toGLSL(!0)+","+k.toGLSL(!0,2)+"), dot("+l.toGLSL(!0)+","+k.toGLSL(!0,3)+")); // m44"),d.addDR(g,u.VECTOR_4),d.addSR(l,u.VECTOR_4),d.addSR(k,u.VECTOR_4,0),d.addSR(k,u.VECTOR_4,
1),d.addSR(k,u.VECTOR_4,2),d.addSR(k,u.VECTOR_4,3));break;case 25:g.mask&=7;f=d.getRegisterUsage(k);f!=u.VECTOR_4&&f!=u.VECTOR_4_ARRAY?(e+=E.string(g.toGLSL()+" = "+l.toGLSL()+" * "+k.toGLSL(!1)+"; // m34"),d.addDR(g,u.VECTOR_4),d.addSR(l,u.VECTOR_4),d.addSR(k,u.MATRIX_4_4)):(l.sourceMask=k.sourceMask=15,e+=E.string(g.toGLSL()+" = vec3(dot("+l.toGLSL(!0)+","+k.toGLSL(!0,0)+"), dot("+l.toGLSL(!0)+","+k.toGLSL(!0,1)+"),dot("+l.toGLSL(!0)+","+k.toGLSL(!0,2)+")); // m34"),d.addDR(g,u.VECTOR_4),d.addSR(l,
u.VECTOR_4),d.addSR(k,u.VECTOR_4,0),d.addSR(k,u.VECTOR_4,1),d.addSR(k,u.VECTOR_4,2));break;case 39:l.sourceMask=15;e+=E.string("if (any(lessThan("+l.toGLSL()+", vec4(0)))) discard;");d.addSR(l,u.VECTOR_4);break;case 40:k=Ge.parse(h,c);switch(k.d){case 0:l.sourceMask=3;d.addSaR(k,u.SAMPLER_2D);e+=E.string(g.toGLSL()+" = texture2D("+k.toGLSL()+", "+l.toGLSL()+"); // tex");break;case 1:l.sourceMask=7,e+=E.string(g.toGLSL()+" = textureCube("+k.toGLSL()+", "+l.toGLSL()+"); // tex"),d.addSaR(k,u.SAMPLER_CUBE)}d.addDR(g,
u.VECTOR_4);d.addSR(l,u.VECTOR_4);null!=b&&(b[k.n]=k.toSamplerState());break;case 41:l.sourceMask=k.sourceMask=15;e+=E.string(g.toGLSL()+" = vec4(greaterThanEqual("+l.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // ste");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 42:l.sourceMask=k.sourceMask=15;e+=E.string(g.toGLSL()+" = vec4(lessThan("+l.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // slt");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);
break;case 44:l.sourceMask=k.sourceMask=15;e+=E.string(g.toGLSL()+" = vec4(equal("+l.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // seq");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;case 45:l.sourceMask=k.sourceMask=15;e+=E.string(g.toGLSL()+" = vec4(notEqual("+l.toGLSL()+", "+k.toGLSL()+"))"+g.getWriteMask()+"; // sne");d.addDR(g,u.VECTOR_4);d.addSR(l,u.VECTOR_4);d.addSR(k,u.VECTOR_4);break;default:throw new n(new Ba("Opcode "+f));}e+="\n"}null==Nb.limitedProfile&&
(g=r.context.getParameter(7938),Nb.limitedProfile=-1<g.indexOf("OpenGL ES")||-1<g.indexOf("WebGL"));g=""+E.string("// AGAL "+(c==dc.VERTEX?"vertex":"fragment")+" shader\n");Nb.limitedProfile&&(g+=E.string("#version 100\n"),g+="precision highp float;\n");g+=E.string(d.toGLSL(!1));c==dc.VERTEX&&(g+="uniform vec4 vcPositionScale;\n");g=g+"void main() {\n"+E.string(d.toGLSL(!0));g+=E.string(e);c==dc.VERTEX&&(g+="\tgl_Position *= vcPositionScale;\n");return g+="}\n"};var Fe=function(){};h["openfl._internal.stage3D._AGALConverter.DestRegister"]=
Fe;Fe.__name__=["openfl","_internal","stage3D","_AGALConverter","DestRegister"];Fe.parse=function(a,b){var c=new Fe;c.programType=b;c.type=a>>>24&15;c.mask=a>>>16&15;c.n=a&65535;return c};Fe.prototype={mask:null,n:null,programType:null,type:null,getWriteMask:function(){var a=".";0!=(this.mask&1)&&(a+="x");0!=(this.mask&2)&&(a+="y");0!=(this.mask&4)&&(a+="z");0!=(this.mask&8)&&(a+="w");return a},toGLSL:function(a){null==a&&(a=!0);var b;b=3==this.type?this.programType==dc.VERTEX?"gl_Position":"gl_FragColor":
Nb.prefixFromType(this.type,this.programType)+this.n;a&&15!=this.mask&&(b+=this.getWriteMask());return b},__class__:Fe};var dc=h["openfl._internal.stage3D._AGALConverter.ProgramType"]={__ename__:["openfl","_internal","stage3D","_AGALConverter","ProgramType"],__constructs__:["VERTEX","FRAGMENT"]};dc.VERTEX=["VERTEX",0];dc.VERTEX.toString=B;dc.VERTEX.__enum__=dc;dc.FRAGMENT=["FRAGMENT",1];dc.FRAGMENT.toString=B;dc.FRAGMENT.__enum__=dc;var Wg=function(){this.mEntries=[]};h["openfl._internal.stage3D.RegisterMap"]=
Wg;Wg.__name__=["openfl","_internal","stage3D","RegisterMap"];Wg.prototype={mEntries:null,add:function(a,b,c,d){for(var e=0,f=this.mEntries;e<f.length;){var g=f[e];++e;if(g.type==a&&g.name==b&&g.number==c){if(g.usage!=d)throw new n(new Ba("Cannot use register in multiple ways yet (mat4/vec4)"));return}}e=new Xg;e.type=a;e.name=b;e.number=c;e.usage=d;this.mEntries.push(e)},addDR:function(a,b){this.add(a.type,a.toGLSL(!1),a.n,b)},addSaR:function(a,b){this.add(a.type,a.toGLSL(),a.n,b)},addSR:function(a,
b,c){null==c&&(c=0);0!=a.d?(this.add(a.itype,Nb.prefixFromType(a.itype,a.programType)+a.n,a.n,u.VECTOR_4),this.add(a.type,Nb.prefixFromType(a.type,a.programType)+a.o,a.o,u.VECTOR_4_ARRAY)):this.add(a.type,a.toGLSL(!1,c),a.n+c,b)},getRegisterUsage:function(a){return 0!=a.d?u.VECTOR_4_ARRAY:this.getUsage(a.type,a.toGLSL(!1),a.n)},getUsage:function(a,b,c){for(var d=0,e=this.mEntries;d<e.length;){var f=e[d];++d;if(f.type==a&&f.name==b&&f.number==c)return f.usage}return u.UNUSED},toGLSL:function(a){this.mEntries.sort(function(a,
b){return a.type!=b.type?w.__cast(a.type,gi)-w.__cast(b.type,gi):a.number-b.number});for(var b="",c=0,d=this.mEntries.length;c<d;){var e=c++,f=this.mEntries[e];if(!(a&&2!=f.type||!a&&2==f.type)&&3!=f.type){switch(f.type){case 0:b+="attribute ";break;case 1:b+="uniform ";break;case 2:b+="\t";break;case 3:break;case 4:b+="varying ";break;case 5:b+="uniform ";break;default:throw new n(new Ba);}switch(f.usage[1]){case 0:hb.trace("Missing switch patten: RegisterUsage.UNUSED",{fileName:"AGALConverter.hx",
lineNumber:765,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"});break;case 1:b+="vec4 ";break;case 2:b+="mat4 ";break;case 3:b+="sampler2D ";break;case 4:hb.trace("Missing switch patten: RegisterUsage.SAMPLER_2D_ALPHA",{fileName:"AGALConverter.hx",lineNumber:769,className:"openfl._internal.stage3D.RegisterMap",methodName:"toGLSL"});break;case 5:b+="samplerCube ";break;case 6:b+="vec4 "}if(f.usage==u.SAMPLER_2D_ALPHA)b+="sampler2D ",b+=E.string(f.name),b+=";\n",b+="uniform ",
b+="sampler2D ",b+=E.string(f.name+"_alpha");else if(f.usage==u.VECTOR_4_ARRAY){var g=128;e<this.mEntries.length-1&&(g=this.mEntries[e+1].number-f.number);b+=E.string(f.name+"["+g+"]")}else b+=E.string(f.name);b+=";\n"}}return b},__class__:Wg};var Xg=function(){};h["openfl._internal.stage3D._AGALConverter.RegisterMapEntry"]=Xg;Xg.__name__=["openfl","_internal","stage3D","_AGALConverter","RegisterMapEntry"];Xg.prototype={name:null,number:null,type:null,usage:null,__class__:Xg};var u=h["openfl._internal.stage3D._AGALConverter.RegisterUsage"]=
{__ename__:["openfl","_internal","stage3D","_AGALConverter","RegisterUsage"],__constructs__:"UNUSED VECTOR_4 MATRIX_4_4 SAMPLER_2D SAMPLER_2D_ALPHA SAMPLER_CUBE VECTOR_4_ARRAY".split(" ")};u.UNUSED=["UNUSED",0];u.UNUSED.toString=B;u.UNUSED.__enum__=u;u.VECTOR_4=["VECTOR_4",1];u.VECTOR_4.toString=B;u.VECTOR_4.__enum__=u;u.MATRIX_4_4=["MATRIX_4_4",2];u.MATRIX_4_4.toString=B;u.MATRIX_4_4.__enum__=u;u.SAMPLER_2D=["SAMPLER_2D",3];u.SAMPLER_2D.toString=B;u.SAMPLER_2D.__enum__=u;u.SAMPLER_2D_ALPHA=["SAMPLER_2D_ALPHA",
4];u.SAMPLER_2D_ALPHA.toString=B;u.SAMPLER_2D_ALPHA.__enum__=u;u.SAMPLER_CUBE=["SAMPLER_CUBE",5];u.SAMPLER_CUBE.toString=B;u.SAMPLER_CUBE.__enum__=u;u.VECTOR_4_ARRAY=["VECTOR_4_ARRAY",6];u.VECTOR_4_ARRAY.toString=B;u.VECTOR_4_ARRAY.__enum__=u;var Ge=function(){};h["openfl._internal.stage3D._AGALConverter.SamplerRegister"]=Ge;Ge.__name__=["openfl","_internal","stage3D","_AGALConverter","SamplerRegister"];Ge.parse=function(a,b){var c=new Ge;c.programType=b;var d;d=60;d=0==d?new K(a.high,a.low):32>d?
new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);var e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.f=d.low;d=56;d=0==d?new K(a.high,a.low):32>d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.m=d.low;d=52;d=0==d?new K(a.high,a.low):32>d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.w=d.low;d=48;d=0==d?new K(a.high,a.low):32>
d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.s=d.low;d=44;d=0==d?new K(a.high,a.low):32>d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.d=d.low;d=40;d=0==d?new K(a.high,a.low):32>d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.t=d.low;d=32;d=0==d?new K(a.high,a.low):32>
d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,15);d=new K(d.high&e.high,d.low&e.low);c.type=d.low;d=16;d=0==d?new K(a.high,a.low):32>d?new K(a.high>>d,a.high<<32-d|a.low>>>d):new K(a.high>>31,a.high>>d-32);e=new K(0,255);d=new K(d.high&e.high,d.low&e.low);c.b=d.low;d=new K(0,65535);d=new K(a.high&d.high,a.low&d.low);c.n=d.low;return c};Ge.prototype={b:null,d:null,f:null,m:null,n:null,programType:null,s:null,t:null,type:null,w:null,toGLSL:function(){return Nb.prefixFromType(this.type,
this.programType)+this.n},toSamplerState:function(){var a=0,b=0,c=0,d=0;switch(this.f){case 0:a=9728;break;case 1:a=9729;break;default:throw new n(new Ba);}switch(this.m){case 0:b=0!=this.f?9729:9728;break;case 1:b=0!=this.f?9986:9984;break;case 2:b=0!=this.f?9987:9985;break;default:throw new n(new Ba);}switch(this.w){case 0:d=c=33071;break;case 1:d=c=10497;break;default:throw new n(new Ba);}return new Of(b,a,c,d,(this.b<<24>>24)/8,0,4==(this.s&4),1==(this.s&1))},__class__:Ge};var Yd=function(){};
h["openfl._internal.stage3D._AGALConverter.SourceRegister"]=Yd;Yd.__name__=["openfl","_internal","stage3D","_AGALConverter","SourceRegister"];Yd.parse=function(a,b,c){var d=new Yd;d.programType=b;b=63;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);var e=new K(0,1);b=new K(b.high&e.high,b.low&e.low);d.d=b.low;b=48;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);e=new K(0,3);b=new K(b.high&
e.high,b.low&e.low);d.q=b.low;b=40;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);e=new K(0,15);b=new K(b.high&e.high,b.low&e.low);d.itype=b.low;b=32;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);e=new K(0,15);b=new K(b.high&e.high,b.low&e.low);d.type=b.low;b=24;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);e=new K(0,255);b=new K(b.high&
e.high,b.low&e.low);d.s=b.low;b=16;b=0==b?new K(a.high,a.low):32>b?new K(a.high>>b,a.high<<32-b|a.low>>>b):new K(a.high>>31,a.high>>b-32);e=new K(0,255);b=new K(b.high&e.high,b.low&e.low);d.o=b.low;b=new K(0,65535);a=new K(a.high&b.high,a.low&b.low);d.n=a.low;d.sourceMask=c;return d};Yd.prototype={d:null,itype:null,n:null,o:null,programType:null,q:null,s:null,sourceMask:null,type:null,toGLSL:function(a,b){null==b&&(b=0);null==a&&(a=!0);if(3==this.type)return this.programType==dc.VERTEX?"gl_Position":
"gl_FragColor";var c=228==this.s&&15==this.sourceMask,d="";if(5!=this.type&&!c)for(c=0;4>c;){var e=c++;if(0!=(this.sourceMask&1<<e))switch(this.s>>2*e&3){case 0:d+="x";break;case 1:d+="y";break;case 2:d+="z";break;case 3:d+="w"}}c=Nb.prefixFromType(this.type,this.programType);0==this.d?c+=this.n+b:(c+=this.o,e=String.fromCharCode(I.cca("x",0)+this.q),e=Nb.prefixFromType(this.itype,this.programType)+this.n+"."+e,c+="[ int("+e+") +"+b+"]");a&&""!=d&&(c+="."+d);return c},__class__:Yd};var Yg=function(){this._registers=
qa.toFloatVector(null,4096);this.clearSettings()};h["openfl._internal.stage3D.Context3DStateCache"]=Yg;Yg.__name__=["openfl","_internal","stage3D","Context3DStateCache"];Yg.prototype={_activeTexture:null,_activeVertexArray:null,_cullingMode:null,_depthTestCompareMode:null,_depthTestEnabled:null,_depthTestMask:null,_destBlendFactor:null,_program:null,_registers:null,_srcBlendFactor:null,_viewportHeight:null,_viewportOriginX:null,_viewportOriginY:null,_viewportWidth:null,clearRegisters:function(){for(var a=
0;4096>a;){var b=a++;this._registers.set(b,-999999999)}},clearSettings:function(){this._destBlendFactor=this._srcBlendFactor=null;this._depthTestMask=this._depthTestEnabled=!1;this._cullingMode=this._program=this._depthTestCompareMode=null;this._viewportHeight=this._viewportWidth=this._viewportOriginY=this._viewportOriginX=this._activeVertexArray=this._activeTexture=-1;this.clearRegisters()},updateActiveTextureSample:function(a){this._activeTexture=a;return!0},updateBlendDestFactor:function(a){this._destBlendFactor=
a;return!0},updateBlendSrcFactor:function(a){this._srcBlendFactor=a;return!0},updateCullingMode:function(a){this._cullingMode=a;return!0},updateDepthCompareMode:function(a){this._depthTestCompareMode=a;return!0},updateDepthTestEnabled:function(a){this._depthTestEnabled=a;return!0},updateDepthTestMask:function(a){this._depthTestMask=a;return!0},updateProgram3D:function(a){this._program=a;return!0},updateViewport:function(a,b,c,d){this._viewportOriginX=a;this._viewportOriginY=b;this._viewportWidth=
c;this._viewportHeight=d;return!0},__class__:Yg};var G=function(){};h["openfl._internal.stage3D.GLUtils"]=G;G.__name__=["openfl","_internal","stage3D","GLUtils"];G.CheckGLError=function(){if(G.debug){var a=r.context.getError();if(0!=a)throw new n(new Ba("Error calling openGL api. Error: "+a+"\n"));}};var Of=function(a,b,c,d,e,f,g,l){null==l&&(l=!1);null==g&&(g=!1);null==f&&(f=0);null==e&&(e=0);this.minFilter=a;this.magFilter=b;this.wrapModeS=c;this.wrapModeT=d;this.lodBias=e;this.maxAniso=f;this.ignoreSampler=
g;this.centroid=l};h["openfl._internal.stage3D.SamplerState"]=Of;Of.__name__=["openfl","_internal","stage3D","SamplerState"];Of.prototype={centroid:null,ignoreSampler:null,lodBias:null,magFilter:null,maxAniso:null,minFilter:null,wrapModeS:null,wrapModeT:null,copyFrom:function(a){null==a||a.ignoreSampler||(this.minFilter=a.minFilter,this.magFilter=a.magFilter,this.wrapModeS=a.wrapModeS,this.wrapModeT=a.wrapModeT,this.lodBias=a.lodBias,this.maxAniso=a.maxAniso,this.centroid=a.centroid)},equals:function(a){return this==
a?!0:null==a?!1:this.minFilter==a.minFilter&&this.magFilter==a.magFilter&&this.wrapModeS==a.wrapModeS&&this.wrapModeT==a.wrapModeT&&this.lodBias==a.lodBias?this.maxAniso==a.maxAniso:!1},__class__:Of};var Pf=function(){};h["openfl._internal.stage3D.assembler.FS"]=Pf;Pf.__name__=["openfl","_internal","stage3D","assembler","FS"];Pf.prototype={format:null,size:null,__class__:Pf};var Zg=function(){};h["openfl._internal.stage3D.assembler.Flags"]=Zg;Zg.__name__=["openfl","_internal","stage3D","assembler",
"Flags"];Zg.prototype={fragonly:null,horizontal:null,matrix:null,simple:null,__class__:Zg};var Ia=function(a,b,c,d,e,f,g,l,h,k){null==k&&(k=!1);null==h&&(h=!1);null==l&&(l=!1);this.a=new Pf;this.b=new Pf;this.flags=new Zg;this.dest=a;this.a.format=b;this.a.size=c;this.b.format=d;this.b.size=e;this.opcode=f;this.flags.simple=g;this.flags.horizontal=l;this.flags.fragonly=h;this.flags.matrix=k};h["openfl._internal.stage3D.assembler.Opcode"]=Ia;Ia.__name__=["openfl","_internal","stage3D","assembler",
"Opcode"];Ia.prototype={a:null,b:null,dest:null,flags:null,opcode:null,__class__:Ia};var Aa=function(){};h["openfl._internal.stage3D.assembler.OpcodeMap"]=Aa;Aa.__name__=["openfl","_internal","stage3D","assembler","OpcodeMap"];Aa.__properties__={get_map:"get_map"};Aa.get_map=function(){if(null==Aa._map){Aa._map=new T;var a=Aa._map,b=new Ia("vector","vector",4,"none",0,0,!0,!1,!1,!1);null!=m.mov?a.setReserved("mov",b):a.h.mov=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,1,!0,!1,!1,!1);null!=
m.add?a.setReserved("add",b):a.h.add=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,2,!0,!1,!1,!1);null!=m.sub?a.setReserved("sub",b):a.h.sub=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,3,!0,!1,!1,!1);null!=m.mul?a.setReserved("mul",b):a.h.mul=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,4,!0,!1,!1,!1);null!=m.div?a.setReserved("div",b):a.h.div=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,5,!0,!1,!1,!1);null!=m.rcp?a.setReserved("rcp",b):a.h.rcp=b;a=Aa._map;b=new Ia("vector",
"vector",4,"vector",4,6,!0,!1,!1,!1);null!=m.min?a.setReserved("min",b):a.h.min=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,7,!0,!1,!1,!1);null!=m.max?a.setReserved("max",b):a.h.max=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,8,!0,!1,!1,!1);null!=m.frc?a.setReserved("frc",b):a.h.frc=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,9,!0,!1,!1,!1);null!=m.sqt?a.setReserved("sqt",b):a.h.sqt=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,10,!0,!1,!1,!1);null!=m.rsq?a.setReserved("rsq",
b):a.h.rsq=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,11,!0,!1,!1,!1);null!=m.pow?a.setReserved("pow",b):a.h.pow=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,12,!0,!1,!1,!1);null!=m.log?a.setReserved("log",b):a.h.log=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,13,!0,!1,!1,!1);null!=m.exp?a.setReserved("exp",b):a.h.exp=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,14,!0,!1,!1,!1);null!=m.nrm?a.setReserved("nrm",b):a.h.nrm=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,15,
!0,!1,!1,!1);null!=m.sin?a.setReserved("sin",b):a.h.sin=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,16,!0,!1,!1,!1);null!=m.cos?a.setReserved("cos",b):a.h.cos=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,17,!0,!0,!1,!1);null!=m.crs?a.setReserved("crs",b):a.h.crs=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,18,!0,!0,!1,!1);null!=m.dp3?a.setReserved("dp3",b):a.h.dp3=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,19,!0,!0,!1,!1);null!=m.dp4?a.setReserved("dp4",b):a.h.dp4=b;a=
Aa._map;b=new Ia("vector","vector",4,"none",0,20,!0,!1,!1,!1);null!=m.abs?a.setReserved("abs",b):a.h.abs=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,21,!0,!1,!1,!1);null!=m.neg?a.setReserved("neg",b):a.h.neg=b;a=Aa._map;b=new Ia("vector","vector",4,"none",0,22,!0,!1,!1,!1);null!=m.sat?a.setReserved("sat",b):a.h.sat=b;a=Aa._map;b=new Ia("vector","vector",4,"sampler",1,38,!0,!1,!0,!1);null!=m.ted?a.setReserved("ted",b):a.h.ted=b;a=Aa._map;b=new Ia("none","scalar",1,"none",0,39,!0,!1,!0,!1);null!=
m.kil?a.setReserved("kil",b):a.h.kil=b;a=Aa._map;b=new Ia("vector","vector",4,"sampler",1,40,!0,!1,!0,!1);null!=m.tex?a.setReserved("tex",b):a.h.tex=b;a=Aa._map;b=new Ia("vector","matrix",3,"vector",3,23,!0,!1,!1,!0);null!=m.m33?a.setReserved("m33",b):a.h.m33=b;a=Aa._map;b=new Ia("vector","matrix",4,"vector",4,24,!0,!1,!1,!0);null!=m.m44?a.setReserved("m44",b):a.h.m44=b;a=Aa._map;b=new Ia("vector","matrix",3,"vector",4,25,!0,!1,!1,!0);null!=m.m43?a.setReserved("m43",b):a.h.m43=b;a=Aa._map;b=new Ia("vector",
"vector",4,"vector",4,41,!0,!1,!1,!1);null!=m.sge?a.setReserved("sge",b):a.h.sge=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,42,!0,!1,!1,!1);null!=m.slt?a.setReserved("slt",b):a.h.slt=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,43,!0,!1,!1,!1);null!=m.sgn?a.setReserved("sgn",b):a.h.sgn=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,44,!0,!1,!1,!1);null!=m.seq?a.setReserved("seq",b):a.h.seq=b;a=Aa._map;b=new Ia("vector","vector",4,"vector",4,45,!0,!1,!1,!1);null!=m.sne?a.setReserved("sne",
b):a.h.sne=b}return Aa._map};var Qf=function(a,b){null==b&&(b=0);null==a&&(a="");this.name=a;this.version=b;this.data=new Lc(0);this.data.__endian=1};h["openfl._internal.stage3D.assembler.Part"]=Qf;Qf.__name__=["openfl","_internal","stage3D","assembler","Part"];Qf.prototype={data:null,name:null,version:null,__class__:Qf};var Ub=function(a,b){this.code=a;this.desc=b};h["openfl._internal.stage3D.assembler.Reg"]=Ub;Ub.__name__=["openfl","_internal","stage3D","assembler","Reg"];Ub.prototype={code:null,
desc:null,__class__:Ub};var kb=function(){};h["openfl._internal.stage3D.assembler.RegMap"]=kb;kb.__name__=["openfl","_internal","stage3D","assembler","RegMap"];kb.__properties__={get_map:"get_map"};kb.get_map=function(){if(null==kb._map){kb._map=new T;var a=kb._map,b=new Ub(0,"vertex attribute");null!=m.va?a.setReserved("va",b):a.h.va=b;a=kb._map;b=new Ub(1,"fragment constant");null!=m.fc?a.setReserved("fc",b):a.h.fc=b;a=kb._map;b=new Ub(1,"vertex constant");null!=m.vc?a.setReserved("vc",b):a.h.vc=
b;a=kb._map;b=new Ub(2,"fragment temporary");null!=m.ft?a.setReserved("ft",b):a.h.ft=b;a=kb._map;b=new Ub(2,"vertex temporary");null!=m.vt?a.setReserved("vt",b):a.h.vt=b;a=kb._map;b=new Ub(3,"vertex output");null!=m.vo?a.setReserved("vo",b):a.h.vo=b;a=kb._map;b=new Ub(3,"vertex output");null!=m.op?a.setReserved("op",b):a.h.op=b;a=kb._map;b=new Ub(3,"fragment depth output");null!=m.fd?a.setReserved("fd",b):a.h.fd=b;a=kb._map;b=new Ub(3,"fragment output");null!=m.fo?a.setReserved("fo",b):a.h.fo=b;a=
kb._map;b=new Ub(3,"fragment output");null!=m.oc?a.setReserved("oc",b):a.h.oc=b;a=kb._map;b=new Ub(4,"varying");null!=m.v?a.setReserved("v",b):a.h.v=b;a=kb._map;b=new Ub(4,"varying output");null!=m.vi?a.setReserved("vi",b):a.h.vi=b;a=kb._map;b=new Ub(4,"varying input");null!=m.fi?a.setReserved("fi",b):a.h.fi=b;a=kb._map;b=new Ub(5,"sampler");null!=m.fs?a.setReserved("fs",b):a.h.fs=b}return kb._map};var ob=function(a,b,c){this.shift=a;this.mask=b;this.value=c};h["openfl._internal.stage3D.assembler.Sampler"]=
ob;ob.__name__=["openfl","_internal","stage3D","assembler","Sampler"];ob.prototype={mask:null,shift:null,value:null,__class__:ob};var eb=function(){};h["openfl._internal.stage3D.assembler.SamplerMap"]=eb;eb.__name__=["openfl","_internal","stage3D","assembler","SamplerMap"];eb.__properties__={get_map:"get_map"};eb.get_map=function(){if(null==eb._map){eb._map=new T;var a=eb._map,b=new ob(8,15,0);null!=m.rgba?a.setReserved("rgba",b):a.h.rgba=b;a=eb._map;b=new ob(8,15,5);null!=m.rg?a.setReserved("rg",
b):a.h.rg=b;a=eb._map;b=new ob(8,15,4);null!=m.r?a.setReserved("r",b):a.h.r=b;a=eb._map;b=new ob(8,15,1);null!=m.compressed?a.setReserved("compressed",b):a.h.compressed=b;a=eb._map;b=new ob(8,15,2);null!=m.compressed_alpha?a.setReserved("compressed_alpha",b):a.h.compressed_alpha=b;a=eb._map;b=new ob(8,15,1);null!=m.dxt1?a.setReserved("dxt1",b):a.h.dxt1=b;a=eb._map;b=new ob(8,15,2);null!=m.dxt5?a.setReserved("dxt5",b):a.h.dxt5=b;a=eb._map;b=new ob(12,15,0);null!=m["2d"]?a.setReserved("2d",b):a.h["2d"]=
b;a=eb._map;b=new ob(12,15,1);null!=m.cube?a.setReserved("cube",b):a.h.cube=b;a=eb._map;b=new ob(12,15,2);null!=m["3d"]?a.setReserved("3d",b):a.h["3d"]=b;a=eb._map;b=new ob(16,1,1);null!=m.centroid?a.setReserved("centroid",b):a.h.centroid=b;a=eb._map;b=new ob(16,4,4);null!=m.ignoresampler?a.setReserved("ignoresampler",b):a.h.ignoresampler=b;a=eb._map;b=new ob(20,15,0);null!=m.clamp?a.setReserved("clamp",b):a.h.clamp=b;a=eb._map;b=new ob(20,15,1);null!=m.repeat?a.setReserved("repeat",b):a.h.repeat=
b;a=eb._map;b=new ob(20,15,1);null!=m.wrap?a.setReserved("wrap",b):a.h.wrap=b;a=eb._map;b=new ob(24,15,0);null!=m.nomip?a.setReserved("nomip",b):a.h.nomip=b;a=eb._map;b=new ob(24,15,0);null!=m.mipnone?a.setReserved("mipnone",b):a.h.mipnone=b;a=eb._map;b=new ob(24,15,1);null!=m.mipnearest?a.setReserved("mipnearest",b):a.h.mipnearest=b;a=eb._map;b=new ob(24,15,2);null!=m.miplinear?a.setReserved("miplinear",b):a.h.miplinear=b;a=eb._map;b=new ob(28,15,0);null!=m.nearest?a.setReserved("nearest",b):a.h.nearest=
b;a=eb._map;b=new ob(28,15,1);null!=m.linear?a.setReserved("linear",b):a.h.linear=b}return eb._map};var Zd=h["openfl._internal.swf.FilterType"]={__ename__:["openfl","_internal","swf","FilterType"],__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"]};Zd.BlurFilter=function(a,b,c){a=["BlurFilter",0,a,b,c];a.__enum__=Zd;a.toString=B;return a};Zd.ColorMatrixFilter=function(a){a=["ColorMatrixFilter",1,a];a.__enum__=Zd;a.toString=B;return a};Zd.DropShadowFilter=function(a,
b,c,d,e,f,g,l,h,k,m){a=["DropShadowFilter",2,a,b,c,d,e,f,g,l,h,k,m];a.__enum__=Zd;a.toString=B;return a};Zd.GlowFilter=function(a,b,c,d,e,f,g,l){a=["GlowFilter",3,a,b,c,d,e,f,g,l];a.__enum__=Zd;a.toString=B;return a};var cd=function(){this.symbols=new Ib};h["openfl._internal.swf.SWFLite"]=cd;cd.__name__=["openfl","_internal","swf","SWFLite"];cd.resolveClass=function(a){var b=ea.resolveClass(a);null==b&&(b=ea.resolveClass(ba.replace(a,"openfl._legacy","openfl")));null==b&&(b=ea.resolveClass(ba.replace(a,
"openfl._v2","openfl")));return b};cd.resolveEnum=function(a){var b=ea.resolveEnum(a);null==b&&(b=ea.resolveEnum(ba.replace(a,"openfl._legacy","openfl")));null==b&&(b=ea.resolveEnum(ba.replace(a,"openfl._v2","openfl")));return b};cd.unserialize=function(a){if(null==a)return null;a=new xc(a);a.setResolver({resolveClass:cd.resolveClass,resolveEnum:cd.resolveEnum});return a.unserialize()};cd.prototype={frameRate:null,library:null,root:null,symbols:null,createButton:function(a){return null},createMovieClip:function(a){null==
a&&(a="");if(""==a)return this.root.__createObject(this);for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&w.__instanceof(c,He))return w.__cast(c,He).__createObject(this)}return null},getBitmapData:function(a){for(var b=this.symbols.iterator();b.hasNext();){var c=b.next();if(c.className==a&&w.__instanceof(c,Ie))return $a.getBitmapData(c.path)}return null},hasSymbol:function(a){for(var b=this.symbols.iterator();b.hasNext();)if(b.next().className==a)return!0;return!1},
serialize:function(){var a=new wc;a.serialize(this);return a.toString()},__class__:cd};var $g=function(a){$c.call(this);this.id=a};h["openfl._internal.swf.SWFLiteLibrary"]=$g;$g.__name__=["openfl","_internal","swf","SWFLiteLibrary"];$g.__super__=Bd;$g.prototype=q(Bd.prototype,{id:null,swf:null,exists:function(a,b){return null==this.swf?!1:""==a&&"MOVIE_CLIP"==b?!0:"IMAGE"!=b&&"MOVIE_CLIP"!=b||null==this.swf?!1:this.swf.hasSymbol(a)},getImage:function(a){var b;b=this.cachedImages;(null!=m[a]?b.existsReserved(a):
b.h.hasOwnProperty(a))?b=!0:(b=this.classTypes,b=null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a));b?b=!0:(b=this.paths,b=null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a));return b?Bd.prototype.getImage.call(this,a):null!=this.swf?ra.fromBitmapData(this.swf.getBitmapData(a)):null},getMovieClip:function(a){return null!=this.swf?this.swf.createMovieClip(a):null},isLocal:function(a,b){return!0},load:function(){var a=this;if(null!=this.id){var b=this.id,c=this.preload;null!=m[b]?c.setReserved(b,
!0):c.h[b]=!0}for(b=this.paths.keys();b.hasNext();){var c=b.next(),d=this.preload;null!=m[c]?d.setReserved(c,!0):d.h[c]=!0}return Bd.prototype.load.call(this).then(function(b){null!=a.id&&(b=a.getText(a.id),a.swf=cd.unserialize(b),a.swf.library=a);b=new ic;b.complete(a);return b.future})},unload:function(){for(var a,b=this.swf.symbols.iterator();b.hasNext();)a=b.next(),w.__instanceof(a,Ie)&&$a.cache.removeBitmapData(a.path)},__class__:$g});var Vb=h["openfl._internal.swf.ShapeCommand"]={__ename__:["openfl",
"_internal","swf","ShapeCommand"],__constructs__:"BeginBitmapFill BeginFill BeginGradientFill CurveTo EndFill LineStyle LineTo MoveTo".split(" ")};Vb.BeginBitmapFill=function(a,b,c,d){a=["BeginBitmapFill",0,a,b,c,d];a.__enum__=Vb;a.toString=B;return a};Vb.BeginFill=function(a,b){var c=["BeginFill",1,a,b];c.__enum__=Vb;c.toString=B;return c};Vb.BeginGradientFill=function(a,b,c,d,e,f,g,l){a=["BeginGradientFill",2,a,b,c,d,e,f,g,l];a.__enum__=Vb;a.toString=B;return a};Vb.CurveTo=function(a,b,c,d){a=["CurveTo",
3,a,b,c,d];a.__enum__=Vb;a.toString=B;return a};Vb.EndFill=["EndFill",4];Vb.EndFill.toString=B;Vb.EndFill.__enum__=Vb;Vb.LineStyle=function(a,b,c,d,e,f,g,l){a=["LineStyle",5,a,b,c,d,e,f,g,l];a.__enum__=Vb;a.toString=B;return a};Vb.LineTo=function(a,b){var c=["LineTo",6,a,b];c.__enum__=Vb;c.toString=B;return c};Vb.MoveTo=function(a,b){var c=["MoveTo",7,a,b];c.__enum__=Vb;c.toString=B;return c};var Wb=function(){};h["openfl._internal.symbols.SWFSymbol"]=Wb;Wb.__name__=["openfl","_internal","symbols",
"SWFSymbol"];Wb.prototype={className:null,id:null,__createObject:function(a){return null},__class__:Wb};var Ie=function(){};h["openfl._internal.symbols.BitmapSymbol"]=Ie;Ie.__name__=["openfl","_internal","symbols","BitmapSymbol"];Ie.__super__=Wb;Ie.prototype=q(Wb.prototype,{alpha:null,path:null,__createObject:function(a){return new Rf(this.__getBitmap(a),1,!0)},__getBitmap:function(a){if($a.cache.hasBitmapData(this.path))return $a.cache.getBitmapData(this.path);var b=a.library.getImage(this.path);
null!=b&&null!=this.alpha&&""!=this.alpha&&(a=a.library.getImage(this.alpha),b.copyChannel(a,a.get_rect(),new gd,Cb.RED,Cb.ALPHA),b.buffer.premultiplied=!0,b.set_premultiplied(!1));b=La.fromImage(b);$a.cache.setBitmapData(this.path,b);return b},__class__:Ie});var ah=function(){};h["openfl._internal.symbols.ButtonSymbol"]=ah;ah.__name__=["openfl","_internal","symbols","ButtonSymbol"];ah.__super__=Wb;ah.prototype=q(Wb.prototype,{downState:null,hitState:null,overState:null,upState:null,__createObject:function(a){var b=
null;Mc.__initSWF=a;Mc.__initSymbol=this;null!=this.className&&(a=ea.resolveClass(this.className),null!=a&&(b=ea.createInstance(a,[])));null==b&&(b=new Mc);return b},__class__:ah});var bh=function(){};h["openfl._internal.symbols.DynamicTextSymbol"]=bh;bh.__name__=["openfl","_internal","symbols","DynamicTextSymbol"];bh.__super__=Wb;bh.prototype=q(Wb.prototype,{align:null,border:null,color:null,fontHeight:null,fontID:null,fontName:null,height:null,html:null,indent:null,input:null,leading:null,leftMargin:null,
multiline:null,password:null,rightMargin:null,selectable:null,text:null,width:null,wordWrap:null,x:null,y:null,__createObject:function(a){var b=new oc;b.__fromSymbol(a,this);return b},__class__:bh});var ch=function(){};h["openfl._internal.symbols.FontSymbol"]=ch;ch.__name__=["openfl","_internal","symbols","FontSymbol"];ch.__super__=Wb;ch.prototype=q(Wb.prototype,{advances:null,bold:null,codes:null,glyphs:null,italic:null,leading:null,name:null,__class__:ch});var dh=function(){};h["openfl._internal.symbols.ShapeSymbol"]=
dh;dh.__name__=["openfl","_internal","symbols","ShapeSymbol"];dh.__super__=Wb;dh.prototype=q(Wb.prototype,{commands:null,rendered:null,__createObject:function(a){var b=new dd,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;for(var d=0,e=this.commands;d<e.length;){var f=e[d];++d;switch(f[1]){case 0:var g=f[5],l=f[4],h=f[3],f=a.symbols.get(f[2]);null!=f&&""!=f.path&&c.beginBitmapFill(f.__getBitmap(a),h,l,g);break;case 1:c.beginFill(f[2],f[3]);break;case 2:c.beginGradientFill(f[2],
f[3],f[4],f[5],f[6],f[7],f[8],f[9]);break;case 3:c.curveTo(f[2],f[3],f[4],f[5]);break;case 4:c.endFill();break;case 5:var g=f[9],l=f[8],h=f[7],k=f[6],m=f[5],n=f[4],p=f[3],f=f[2];null!=f?c.lineStyle(f,p,n,m,k,h,l,g):c.lineStyle();break;case 6:c.lineTo(f[2],f[3]);break;case 7:c.moveTo(f[2],f[3])}}this.commands=null;this.rendered=new dd;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:dh});var He=function(){this.frames=[]};h["openfl._internal.symbols.SpriteSymbol"]=He;He.__name__=
["openfl","_internal","symbols","SpriteSymbol"];He.__super__=Wb;He.prototype=q(Wb.prototype,{frames:null,__createObject:function(a){var b=null;Gc.__initSWF=a;Gc.__initSymbol=this;null!=this.className&&(a=ea.resolveClass(this.className),null!=a&&(b=ea.createInstance(a,[])));null==b&&(b=new Gc);return b},__class__:He});var eh=function(){};h["openfl._internal.symbols.StaticTextSymbol"]=eh;eh.__name__=["openfl","_internal","symbols","StaticTextSymbol"];eh.__super__=Wb;eh.prototype=q(Wb.prototype,{matrix:null,
records:null,rendered:null,__createObject:function(a){var b=new dd,c=b.get_graphics();if(null!=this.rendered)return c.copyFrom(this.rendered.get_graphics()),b;if(null!=this.records)for(var d=null,e=16777215,f=this.matrix.tx,g=this.matrix.ty,l=0,h=this.records;l<h.length;){var k=h[l];++l;null!=k.fontID&&(d=a.symbols.h[k.fontID]);null!=k.offsetX&&(f=this.matrix.tx+.05*k.offsetX);null!=k.offsetY&&(g=this.matrix.ty+.05*k.offsetY);null!=k.color&&(e=k.color);if(null!=d)for(var m=k.fontHeight/1024*.05,n,
p=0,q=k.glyphs.length;p<q;){var r=p++;n=k.glyphs[r];var u=0;for(n=d.glyphs[n];u<n.length;){var v=n[u];++u;switch(v[1]){case 1:c.beginFill(e&16777215,(e>>24&255)/255);break;case 3:c.curveTo(v[2]*m+f,v[3]*m+g,v[4]*m+f,v[5]*m+g);break;case 4:c.endFill();break;case 5:var w=v[9],y=v[8],z=v[7],x=v[6],A=v[5],B=v[4],E=v[3],v=v[2];null!=v?c.lineStyle(v,E,B,A,x,z,y,w):c.lineStyle();break;case 6:c.lineTo(v[2]*m+f,v[3]*m+g);break;case 7:c.moveTo(v[2]*m+f,v[3]*m+g)}}f+=.05*k.advances[r]}}this.records=null;this.rendered=
new dd;this.rendered.get_graphics().copyFrom(b.get_graphics());return b},__class__:eh});var Sh=function(){};h["openfl._internal.symbols.StaticTextRecord"]=Sh;Sh.__name__=["openfl","_internal","symbols","StaticTextRecord"];Sh.prototype={advances:null,color:null,fontHeight:null,fontID:null,glyphs:null,offsetX:null,offsetY:null,__class__:Sh};var Ya=function(a){this.textField=a;this.height=this.width=100;this.text="";this.bounds=new O(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=!1;this.selectable=
!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=qa.toFloatVector(null);this.lineBreaks=qa.toIntVector(null);this.lineDescents=qa.toFloatVector(null);this.lineLeadings=qa.toFloatVector(null);this.lineHeights=qa.toFloatVector(null);this.lineWidths=qa.toFloatVector(null);this.layoutGroups=qa.toObjectVector(null);this.textFormatRanges=
qa.toObjectVector(null);Ya.__canvas=window.document.createElement("canvas");Ya.__context=Ya.__canvas.getContext("2d")};h["openfl._internal.text.TextEngine"]=Ya;Ya.__name__=["openfl","_internal","text","TextEngine"];Ya.getFormatHeight=function(a){Ya.__context.font=Ya.getFont(a);return a.size+.185*a.size+a.leading};Ya.getFont=function(a){var b=a.italic?"italic ":"normal ",b=b+"normal "+(a.bold?"bold ":"normal "),b=b+(a.size+"px"),b=b+("/"+(a.size+a.leading+6)+"px ");switch(a.font){case "_sans":a="sans-serif";
break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return b+=""+a};Ya.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,scrollH:null,
scrollV:null,selectable:null,sharpness:null,text:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__hasFocus:null,getBounds:function(){var a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineBreakIndex:function(a){null==a&&(a=0);var b=this.text.indexOf("\n",a);a=this.text.indexOf("\r",a);return-1==b?a:-1==a?b:b<a?b:a},getLineMeasurements:function(){this.lineAscents.set_length(0);this.lineDescents.set_length(0);
this.lineLeadings.set_length(0);this.lineHeights.set_length(0);this.lineWidths.set_length(0);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;f<g.get_length();){var l=g.get(f);for(++f;l.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-
2&&this.bottomScrollV++;a=Math.max(a,l.ascent);b=Math.max(b,l.descent);c=null==c?l.leading:Math.max(c,l.leading)|0;d=Math.max(d,l.height);e=l.offsetX-2+l.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=l.offsetY-2+l.ascent+l.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;if(2!=
this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.set_length(0);var a=-1,b=null,c=oc.__defaultTextFormat.clone(),d=0,e=0,f=0,g,l,h,k=0,m=0,n=0,p=this.text.indexOf(" "),q=this.getLineBreakIndex(),r=0,u=2,v=2,w=0,y=
0,z=null;a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ya.__context.font=Ya.getFont(c),e=c.size,f=.185*c.size,d=c.leading,k=e+f+d,-1<p&&(m=Ya.__context.measureText(" ").width));var z=b.format,x,A=this.text.length;for(this.multiline&&++A;w<A;)if(-1<q&&(-1==p||q<p)&&b.end>=q){g=new $d(b.format,w,q);l=this.text;x=[];for(h=q;w<h;){var B=w++;x.push(Ya.__context.measureText(l.charAt(B)).width)}g.advances=x;g.offsetX=u;g.ascent=e;g.descent=f;g.leading=d;
g.lineIndex=y;g.offsetY=v;u=g.advances;for(l=w=0;l<u.length;)x=u[l],++l,w+=x;g.width=w;g.height=k;this.layoutGroups.push(g);v+=k;u=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=v,g.offsetX=u,g.lineIndex++,v+=k,++y);b.end==q&&(a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ya.__context.font=Ya.getFont(c),e=c.size,f=.185*c.size,d=c.leading,k=e+f+d,-1<p&&(m=Ya.__context.measureText(" ").width)),z=b.format);w=q+1;q=this.getLineBreakIndex(w);
++y}else if(b.end>=p&&-1<p&&w<b.end)for(g=null,x=!1;w!=b.end;){-1==p&&(p=b.end);l=this.text;h=[];for(var B=w,E=p;B<E;){var F=B++;h.push(Ya.__context.measureText(l.charAt(F)).width)}l=h;for(B=h=0;B<l.length;)E=l[B],++B,h+=E;this.wordWrap&&u+h>this.width-2&&(x=!0);if(x){v+=k;u=this.layoutGroups.get_length()-1;for(r=0;;){g=this.layoutGroups.get(u);if(0<u&&g.startIndex>n)++r;else break;--u}++y;u=2;if(0<r)for(n=this.layoutGroups.get(this.layoutGroups.get_length()-r).offsetX,r=this.layoutGroups.get_length()-
r,x=this.layoutGroups.get_length();r<x;)g=r++,g=this.layoutGroups.get(g),g.offsetX-=n,g.offsetY=v,g.lineIndex=y,u+=g.width;g=new $d(b.format,w,p);g.advances=l;g.offsetX=u;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=v;g.width=h;g.height=k;this.layoutGroups.push(g);u=h+m;r=m;x=!1}else null!=g&&w==p?(2!=b.format.align&&(g.endIndex=p),g.advances.push(m),r+=m):(null==g||2==z.align?(g=new $d(b.format,w,p),g.advances=l,g.offsetX=u,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=y,g.offsetY=
v,g.width=h,g.height=k,this.layoutGroups.push(g)):(g.endIndex=p,g.advances=g.advances.concat(l),g.width+=r+h),g.advances.push(m),r=m),u+=h+m;w=p+1;n=p;p=this.text.indexOf(" ",n+1);b.end<=n&&(g=null,a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ya.__context.font=Ya.getFont(c),e=c.size,f=.185*c.size,d=c.leading,k=e+f+d,-1<p&&(m=Ya.__context.measureText(" ").width)));if(p>q&&-1<q||w>this.text.length||p>b.end||-1==p&&-1<q){p>b.end&&--w;break}}else{if(w>
b.end)break;else if(w<b.end||w==this.text.length){g=new $d(b.format,w,b.end);l=this.text;x=[];for(h=b.end;w<h;)B=w++,x.push(Ya.__context.measureText(l.charAt(B)).width);g.advances=x;g.offsetX=u;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=y;g.offsetY=v;w=g.advances;for(x=l=0;x<w.length;)h=w[x],++x,l+=h;g.width=l;g.height=k;this.layoutGroups.push(g);u+=g.width;w=b.end}a<this.textFormatRanges.get_length()-1&&(++a,b=this.textFormatRanges.get(a),c.__merge(b.format),Ya.__context.font=Ya.getFont(c),e=
c.size,f=.185*c.size,d=c.leading,k=e+f+d,-1<p&&(m=Ya.__context.measureText(" ").width));if(w==b.end)break}},setTextAlignment:function(){for(var a=-1,b=0,c,d,e=0,f=this.layoutGroups.get_length();e<f;){var g=e++;c=this.layoutGroups.get(g);if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align){case 0:b=this.lineWidths.get(a)<this.width-4?Math.round((this.width-4-this.lineWidths.get(a))/2):0;break;case 2:if(this.lineWidths.get(a)<this.width-4){d=1;for(var b=g+1,l=this.layoutGroups.get_length();b<l;){var h=
b++;if(this.layoutGroups.get(h).lineIndex==a)++d;else break}if(1<d&&(c=this.layoutGroups.get(g+d-1),b=this.text.charAt(c.endIndex),c.endIndex<this.text.length&&"\n"!=b&&"\r"!=b))for(b=(this.width-4-this.lineWidths.get(a))/(d-1),l=1;l<d;)h=l++,this.layoutGroups.get(g+h).offsetX+=b*h}b=0;break;case 4:b=this.lineWidths.get(a)<this.width-4?Math.round(this.width-4-this.lineWidths.get(a)):0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||!this.multiline&&""==ba.trim(this.text)||
0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:Ya};var fh=function(a,b,c){this.format=
a;this.start=b;this.end=c};h["openfl._internal.text.TextFormatRange"]=fh;fh.__name__=["openfl","_internal","text","TextFormatRange"];fh.prototype={end:null,format:null,start:null,__class__:fh};var $d=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};h["openfl._internal.text.TextLayoutGroup"]=$d;$d.__name__=["openfl","_internal","text","TextLayoutGroup"];$d.prototype={advances:null,ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,
offsetY:null,startIndex:null,width:null,__class__:$d};var Th=function(){this.objects=[]};h["openfl._internal.timeline.Frame"]=Th;Th.__name__=["openfl","_internal","timeline","Frame"];Th.prototype={label:null,objects:null,__class__:Th};var Uh=function(){};h["openfl._internal.timeline.FrameObject"]=Uh;Uh.__name__=["openfl","_internal","timeline","FrameObject"];Uh.prototype={clipDepth:null,colorTransform:null,depth:null,filters:null,id:null,matrix:null,name:null,symbol:null,type:null,visible:null,__class__:Uh};
var Kc=h["openfl._internal.timeline.FrameObjectType"]={__ename__:["openfl","_internal","timeline","FrameObjectType"],__constructs__:["CREATE","UPDATE","DESTROY"]};Kc.CREATE=["CREATE",0];Kc.CREATE.toString=B;Kc.CREATE.__enum__=Kc;Kc.UPDATE=["UPDATE",1];Kc.UPDATE.toString=B;Kc.UPDATE.__enum__=Kc;Kc.DESTROY=["DESTROY",2];Kc.DESTROY.toString=B;Kc.DESTROY.__enum__=Kc;var Je=function(a,b,c){null==a&&(a=123);null==c&&(c=.5);this.octaves=null==b?4:b;this.baseFactor=.015625;this.seedOffset(a);this.octFreqPers(c)};
h["openfl._internal.utils.PerlinNoise"]=Je;Je.__name__=["openfl","_internal","utils","PerlinNoise"];Je.prototype={octaves:null,aOctFreq:null,aOctPers:null,fPersMax:null,iXoffset:null,iYoffset:null,iZoffset:null,baseFactor:null,fill:function(a,b,c,d,e){e=b*this.baseFactor+this.iXoffset;c=c*this.baseFactor+this.iYoffset;d=d*this.baseFactor+this.iZoffset;for(var f=a.width,g=Je.P,l=this.octaves,h=this.aOctFreq,k=this.aOctPers,m=0,n=a.height;m<n;){var p=m++;b=e;for(var q=0,r=f;q<r;){for(var u=q++,v=0,
w=0,y=l;w<y;)var z=w++,x=h[z],z=k[z],A=b*x,B=c*x,x=d*x,E=A-A%1,F=B-B%1,G=x-x%1,H=(E|0)&255,I=(F|0)&255,J=(G|0)&255,A=A-E,B=B-F,x=x-G,E=A*A*A*(A*(6*A-15)+10),F=B*B*B*(B*(6*B-15)+10),G=x*x*x*(x*(6*x-15)+10),K=g[H]+I,O=g[K]+J,K=g[K+1]+J,I=g[H+1]+I,H=g[I]+J,P=g[I+1]+J,L=A-1,M=B-1,N=x-1,Q=g[P+1]&15,J=(0==(Q&1)?8>Q?L:M:8>Q?-L:-M)+(0==(Q&2)?4>Q?M:12==Q?L:N:4>Q?-M:14==Q?-L:-N),Q=g[K+1]&15,I=(0==(Q&1)?8>Q?A:M:8>Q?-A:-M)+(0==(Q&2)?4>Q?M:12==Q?A:N:4>Q?-M:14==Q?-A:-N),Q=g[H+1]&15,R=(0==(Q&1)?8>Q?L:B:8>Q?-L:-B)+
(0==(Q&2)?4>Q?B:12==Q?L:N:4>Q?-B:14==Q?-L:-N),Q=g[O+1]&15,N=(0==(Q&1)?8>Q?A:B:8>Q?-A:-B)+(0==(Q&2)?4>Q?B:12==Q?A:N:4>Q?-B:14==Q?-A:-N),Q=g[P]&15,P=(0==(Q&1)?8>Q?L:M:8>Q?-L:-M)+(0==(Q&2)?4>Q?M:12==Q?L:x:4>Q?-M:14==Q?-L:-x),Q=g[K]&15,K=(0==(Q&1)?8>Q?A:M:8>Q?-A:-M)+(0==(Q&2)?4>Q?M:12==Q?A:x:4>Q?-M:14==Q?-A:-x),Q=g[H]&15,H=(0==(Q&1)?8>Q?L:B:8>Q?-L:-B)+(0==(Q&2)?4>Q?B:12==Q?L:x:4>Q?-B:14==Q?-L:-x),Q=g[O]&15,A=(0==(Q&1)?8>Q?A:B:8>Q?-A:-B)+(0==(Q&2)?4>Q?B:12==Q?A:x:4>Q?-B:14==Q?-A:-x),I=I+E*(J-I),N=N+E*
(R-N),K=K+E*(P-K),A=A+E*(H-A),N=N+F*(I-N),A=A+F*(K-A),v=v+(A+G*(N-A))*z;v=128*(v*this.fPersMax+1)|0;a.setPixel32(u,p,-16777216|v<<16|v<<8|v);b+=this.baseFactor}c+=this.baseFactor}},octFreqPers:function(a){var b,c;this.aOctFreq=[];this.aOctPers=[];for(var d=this.fPersMax=0,e=this.octaves;d<e;)c=d++,b=Math.pow(2,c),c=Math.pow(a,c),this.fPersMax+=c,this.aOctFreq.push(b),this.aOctPers.push(c);this.fPersMax=1/this.fPersMax},seedOffset:function(a){this.iXoffset=a=16807*a%2147483647|0;this.iYoffset=a=16807*
a%2147483647|0;this.iZoffset=16807*a%2147483647|0},__class__:Je};var Te=function(){yc.call(this);null==oa.application&&(oa.application=this)};h["openfl.display.Application"]=Te;Te.__name__=["openfl","display","Application"];Te.__super__=yc;Te.prototype=q(yc.prototype,{create:function(a){this.config=a;this.backend.create(a);oa.current.__loaderInfo=nd.create(null);oa.current.__loaderInfo.content=oa.current;if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,
"windows"))for(a=a.windows;0<a.length;){a=new Sf(a[0]);this.createWindow(a);break}if(null==this.__preloader||this.__preloader.complete)this.onPreloadComplete()}},__class__:Te});var Rf=function(a,b,c){null==c&&(c=!1);L.call(this);this.set_bitmapData(a);this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=1)};h["openfl.display.Bitmap"]=Rf;Rf.__name__=["openfl","display","Bitmap"];Rf.__super__=L;Rf.prototype=q(L.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__image:null,
__imageVersion:null,__getBounds:function(a,b){if(null!=this.bitmapData){var c=O.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();c=this.__renderTransform;var g=c.a*c.d-c.b*c.c;c=0==g?-c.tx:1/g*(c.c*(c.ty-b)+c.d*(a-c.tx));var g=this.__renderTransform,
l=g.a*g.d-g.b*g.c;a=0==l?-g.ty:1/l*(g.a*(b-g.ty)+g.b*(g.tx-a));return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getRenderTransform();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,c=0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),d=this.__renderTransform,e=d.a*d.d-d.b*d.c,d=0==e?-d.ty:1/e*(d.a*(b-d.ty)+d.b*(d.tx-a));return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?
!0:!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.cairo;if(null!=this.bitmapData&&this.bitmapData.__isValid){a.maskManager.pushObject(this);var c=this.__renderTransform;a.roundPixels?(c=c.__toMatrix3(),c.tx=Math.round(c.tx),c.ty=Math.round(c.ty),b.set_matrix(c)):b.set_matrix(c.__toMatrix3());c=this.bitmapData.getSurface();null!=c&&(c=ze.createForSurface(c),ze.set_filter(c,a.allowSmoothing&&this.smoothing?1:3),b.set_source(c),1==this.__worldAlpha?b.paint():b.paintWithAlpha(this.__worldAlpha));
a.maskManager.popObject(this)}}},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){var b=a.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){a.maskManager.pushObject(this,!1);S.convertToCanvas(this.bitmapData.image);b.globalAlpha=this.__worldAlpha;var c=this.__renderTransform,d=this.__scrollRect;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,
c.c,c.d,c.tx,c.ty);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1);null==d?b.drawImage(this.bitmapData.image.get_src(),0,0):b.drawImage(this.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);a.allowSmoothing&&this.smoothing||(b.mozImageSmoothingEnabled=!0,b.msImageSmoothingEnabled=!0,b.imageSmoothingEnabled=!0);a.maskManager.popObject(this,!1)}}},__renderCanvasMask:function(a){a.context.rect(0,0,
this.get_width(),this.get_height())},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?(a.maskManager.pushObject(this),null!=this.bitmapData.image.buffer.__srcImage?If.renderImage(this,a):If.renderCanvas(this,a),a.maskManager.popObject(this)):(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null))},
__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)&&null!=this.bitmapData&&this.bitmapData.__isValid){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(this.get_blendMode());a.maskManager.pushObject(this);var d=a.filterManager.pushObject(this);d.get_data().uImage0.input=this.bitmapData;var e=a.allowSmoothing&&(this.smoothing||a.upscaled);d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__renderTransform);a.shaderManager.setShader(d);c.bindBuffer(c.ARRAY_BUFFER,
this.bitmapData.getBuffer(c,this.__worldAlpha));c.vertexAttribPointer(d.get_data().aPosition.index,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(d.get_data().aTexCoord.index,2,c.FLOAT,!1,24,12);c.vertexAttribPointer(d.get_data().aAlpha.index,1,c.FLOAT,!1,24,20);c.drawArrays(c.TRIANGLE_STRIP,0,4);a.filterManager.popObject(this);a.maskManager.popObject(this)}},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,
this.bitmapData.height),null==a.__bounds&&(a.__bounds=new O),this.__getBounds(a.__bounds,fa.__identity),L.prototype.__updateMask.call(this,a))},set_bitmapData:function(a){this.bitmapData=a;this.smoothing=!1;this.__imageVersion=-1;return this.bitmapData},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*Math.abs(this.get_scaleY()):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*Math.abs(this.get_scaleX()):0},__class__:Rf,__properties__:q(L.prototype.__properties__,
{set_bitmapData:"set_bitmapData"})});var La=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new O(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new ra(null,0,0,a,b,d<<8|d>>>24&255),this.image.set_transparent(c),this.readable=this.__isValid=!0);this.__worldTransform=new fa;this.__worldColorTransform=new Eb};h["openfl.display.BitmapData"]=La;La.__name__=["openfl",
"display","BitmapData"];La.__interfaces__=[$e];La.fromBase64=function(a,b,c){var d=new La(0,0,!0,0);ra.fromBase64(a,b,function(a){d.__fromImage(a);null!=c&&c(d)});return d};La.fromBytes=function(a,b,c){var d=new La(0,0,!0,0);ra.fromBytes(Sa.toBytes(a),function(a){d.__fromImage(a);if(null!=b){S.convertToCanvas(a);S.createImageData(a);for(var f=a.buffer.data,g=0,l=Sa.get_length(b);g<l;){var h=g++;f[4*h+3]=b.readUnsignedByte()}a.version++}null!=c&&c(d)});return d};La.fromCanvas=function(a,b){null==b&&
(b=!0);if(null==a)return null;var c=new La(0,0,b,0);c.__fromImage(ra.fromCanvas(a));c.image.set_transparent(b);return c};La.fromFile=function(a,b,c){var d=new La(0,0,!0,0);d.__fromFile(a,b,c);return d};La.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new La(0,0,b,0);c.__fromImage(a);c.image.set_transparent(b);return c};La.fromTexture=function(a){if(null==a)return null;var b=new La(a.__width,a.__height,!0,0);b.readable=!1;b.__texture=a.__textureID;b.image=null;
return b};La.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__buffer:null,__bufferAlpha:null,__bufferData:null,__framebuffer:null,__isValid:null,__surface:null,__texture:null,__textureVersion:null,__transform:null,__worldColorTransform:null,__worldTransform:null,colorTransform:function(a,b){this.readable&&this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix())},copyPixels:function(a,b,c,d,e,f){null==f&&(f=!1);this.readable&&null!=a&&this.image.copyPixels(a.image,
b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?e.__toLimeVector2():null,f)},dispose:function(){this.image=null;this.height=this.width=0;this.rect=null;this.readable=this.__isValid=!1;this.__texture=this.__framebuffer=this.__buffer=this.__surface=null},draw:function(a,b,c,d,e,f){null==f&&(f=!1);null==b&&(b=new fa,null!=a.__transform&&(b.copyFrom(a.__transform),b.tx=0,b.ty=0));if(this.readable){if(null!=c){d=Math.ceil(la.getProperty(a,"width"));var g=Math.ceil(la.getProperty(a,
"height"));d=new La(d,g,!0,0);d.draw(a);d.colorTransform(d.rect,c);a=d}S.convertToCanvas(this.image);c=this.image.buffer;d=new Wd;d.context=c.__srcContext;d.allowSmoothing=f;d.roundPixels=!0;d.maskManager=new Ee(d);f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new fa);g=a.__worldTransform;a.__updateTransforms(b);a.__updateChildren(!1);a.__renderCanvas(d);a.__updateTransforms(g);a.__updateChildren(!0);
f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popRect();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null;this.image.dirty=!0;this.image.version++}else null!=r.context&&(e=r.context,e.bindFramebuffer(e.FRAMEBUFFER,this.__getFramebuffer(e)),e.viewport(0,0,this.width,this.height),f=new Xd(oa.current.stage,e,!1),f.resize(this.width,this.height),f.renderSession.shaderManager=
w.__cast(oa.current.stage.__renderer,Xd).renderSession.shaderManager,c=a.__worldTransform,a.__updateTransforms(b),a.__updateChildren(!1),a.__renderGL(f.renderSession),a.__updateTransforms(c),a.__updateChildren(!0),e.bindFramebuffer(e.FRAMEBUFFER,null))},fillRect:function(a,b){if(null!=a)if(this.transparent&&0==(b&-16777216)&&(b=0),this.readable)this.image.fillRect(a.__toLimeRectangle(),b,1);else if(null!=this.__framebuffer){var c=r.context,d=b,e=!this.rect.equals(a);c.bindFramebuffer(c.FRAMEBUFFER,
this.__framebuffer);e&&(c.enable(c.SCISSOR_TEST),c.scissor(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)));c.clearColor((d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255,(d>>>24&255)/255);c.clear(c.COLOR_BUFFER_BIT);e&&c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null)}},getBuffer:function(a,b){if(null==this.__buffer){var c=[this.width,this.height,0,1,1,b,0,this.height,0,0,1,b,this.width,0,0,1,0,b,0,0,0,0,0,b];this.__bufferData=null!=c?new zc(c):null;this.__bufferAlpha=
b;this.__buffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.__buffer);a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW)}else this.__bufferAlpha!=b&&(this.__bufferData[5]=b,this.__bufferData[11]=b,this.__bufferData[17]=b,this.__bufferAlpha=this.__bufferData[23]=b,a.bindBuffer(a.ARRAY_BUFFER,this.__buffer),a.bufferData(a.ARRAY_BUFFER,this.__bufferData,a.STATIC_DRAW));return this.__buffer},getSurface:function(){if(!this.readable)return null;null==this.__surface&&(this.__surface=Ih.fromImage(this.image));
return this.__surface},getTexture:function(a){if(!this.__isValid)return null;null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.__textureVersion=-1);S.sync(this.image,!1);if(null!=this.image&&this.image.version!=
this.__textureVersion){var b,c;null!=this.__surface&&Jh.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;d.type==Ua.DATA||d.get_premultiplied()?!d.get_premultiplied()&&d.get_transparent()&&a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);0!=d.get_format()&&(d=d.clone(),d.set_format(0));d.type==Ua.DATA?a.texImage2D(a.TEXTURE_2D,0,b,d.buffer.width,d.buffer.height,
0,c,a.UNSIGNED_BYTE,d.get_data()):a.texImage2D(a.TEXTURE_2D,0,b,c,a.UNSIGNED_BYTE,d.get_src());a.bindTexture(a.TEXTURE_2D,null);this.__textureVersion=this.image.version}this.readable||null==this.image||(this.image=this.__surface=null);return this.__texture},perlinNoise:function(a,b,c,d,e,f,g,l,h){this.readable&&(new Je(d,c,.01)).fill(this,a,b,0)},setPixel32:function(a,b,c){this.readable&&this.image.setPixel32(a,b,c,1)},setPixels:function(a,b){this.readable&&null!=a&&this.image.setPixels(a.__toLimeRectangle(),
Sa.toBytes(b),1)},__fromFile:function(a,b,c){var d=this;ra.fromFile(a,function(a){d.__fromImage(a);null!=b&&b(d)},c)},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new O(0,0,a.width,a.height),this.__isValid=this.readable=!0)},__getFramebuffer:function(a){null==this.__framebuffer&&(this.getTexture(a),this.__framebuffer=a.createFramebuffer(),a.bindFramebuffer(a.FRAMEBUFFER,this.__framebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,this.__texture,0));return this.__framebuffer},__renderCanvas:function(a){if(this.readable){this.image.type==Ua.DATA&&S.convertToCanvas(this.image);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new fa);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderGL:function(a){var b=a.renderer,c=a.gl;a.blendModeManager.setBlendMode(10);
var d=a.shaderManager.defaultShader;d.get_data().uImage0.input=this;var e=a.allowSmoothing&&a.upscaled;d.get_data().uImage0.smoothing=e;d.get_data().uMatrix.value=b.getMatrix(this.__worldTransform);a.shaderManager.setShader(d);c.bindBuffer(c.ARRAY_BUFFER,this.getBuffer(c,1));c.vertexAttribPointer(d.get_data().aPosition.index,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(d.get_data().aTexCoord.index,2,c.FLOAT,!1,24,12);c.vertexAttribPointer(d.get_data().aAlpha.index,1,c.FLOAT,!1,24,20);c.drawArrays(c.TRIANGLE_STRIP,
0,4)},__updateChildren:function(a){},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__class__:La};var Rh={};h["openfl.display._CapsStyle.CapsStyle_Impl_"]=Rh;Rh.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"];Rh.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Bf=function(a,b){pa.call(this);this.__name=a;this.__frame=b};h["openfl.display.FrameLabel"]=Bf;Bf.__name__=
["openfl","display","FrameLabel"];Bf.__super__=pa;Bf.prototype=q(pa.prototype,{__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:Bf,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var pe=function(a){this.__dirty=!0;this.__owner=a;this.__commands=new Tb;this.__positionY=this.__positionX=this.__strokePadding=0;this.__renderTransform=new fa;this.__worldTransform=new fa;this.__height=this.__width=0;this.moveTo(0,0)};h["openfl.display.Graphics"]=
pe;pe.__name__=["openfl","display","Graphics"];pe.prototype={__bounds:null,__commands:null,__dirty:null,__height:null,__positionX:null,__positionY:null,__renderTransform:null,__strokePadding:null,__transformDirty:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==
b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},beginGradientFill:function(a,b,c,d,e,f,g,l){null==l&&(l=0);null==g&&(g=1);null==f&&(f=0);this.__commands.beginGradientFill(a,b,c,d,e,f,g,l);for(a=0;a<c.length;)if(b=c[a],++a,0<b){this.__visible=!0;break}},copyFrom:function(a){this.__bounds=null!=a.__bounds?a.__bounds.clone():null;this.__commands=a.__commands.copy();this.set___dirty(!0);this.__strokePadding=a.__strokePadding;this.__positionX=a.__positionX;this.__positionY=
a.__positionY;this.__transformDirty=!0;this.__visible=a.__visible},curveTo:function(a,b,c,d){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var e,f;e=a<c&&a>this.__positionX||a>c&&a<this.__positionX?c:this.__calculateBezierQuadPoint((this.__positionX-a)/(this.__positionX-2*a+c),this.__positionX,a,c);f=b<d&&b>this.__positionY||b>d&&b<this.__positionY?
d:this.__calculateBezierQuadPoint((this.__positionY-b)/(this.__positionY-2*b+d),this.__positionY,b,d);this.__inflateBounds(e-this.__strokePadding,f-this.__strokePadding);this.__inflateBounds(e+this.__strokePadding,f+this.__strokePadding);this.__positionX=c;this.__positionY=d;this.__commands.curveTo(a,b,c,d);this.set___dirty(!0)},drawCircle:function(a,b,c){0>=c||(this.__inflateBounds(a-c-this.__strokePadding,b-c-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+c+this.__strokePadding),
this.__commands.drawCircle(a,b,c),this.set___dirty(!0))},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(a,b,c,d,e,f,g,l){null==l&&(l=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==g?a>this.__strokePadding&&(this.__strokePadding=
a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,l);null!=a&&(this.__visible=!0)},lineTo:function(a,b){isFinite(a)&&isFinite(b)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=a,this.__positionY=b,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),
this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(a,b),this.set___dirty(!0))},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__calculateBezierQuadPoint:function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d},__cleanup:function(){null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0);this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(a,b){if(null!=this.__bounds){var c=
O.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.a*d.d-d.b*d.c,e=0==e?-d.tx:1/e*(d.c*(d.ty-b)+d.d*(a-d.tx)),f=d.a*d.d-d.b*d.c;a=0==f?-d.ty:1/f*(d.a*(b-d.ty)+d.b*(d.tx-a));return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?k.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new O(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=
this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},__update:function(){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var a=this.__owner.__renderTransform,b=1,c=1;null!=a&&(b=0==a.b?Math.abs(a.a):
Math.sqrt(a.a*a.a+a.b*a.b),c=0==a.c?Math.abs(a.d):Math.sqrt(a.c*a.c+a.d*a.d));a=this.__bounds.width*b;c*=this.__bounds.height;(2<Math.abs(a-this.__width)||2<Math.abs(c-this.__height))&&this.set___dirty(!0);this.__width=Math.floor(a);this.__height=Math.floor(c);0>=this.__width||0>=this.__height||(this.__renderTransform.a=this.__width/this.__bounds.width,this.__renderTransform.d=this.__height/this.__bounds.height,this.__worldTransform.a=1/this.__renderTransform.a,this.__worldTransform.b=0,this.__worldTransform.c=
0,this.__worldTransform.d=1/this.__renderTransform.d,this.__worldTransform.tx=this.__bounds.x,this.__worldTransform.ty=this.__bounds.y,this.__worldTransform.concat(this.__owner.__renderTransform))}},set___dirty:function(a){if(a&&null!=this.__owner){var b=this.__owner;b.__renderDirty||(b.__renderDirty=!0,L.__worldRenderDirty++)}return this.__dirty=a},__class__:pe,__properties__:{set___dirty:"set___dirty"}};var Qh={};h["openfl.display._JointStyle.JointStyle_Impl_"]=Qh;Qh.__name__=["openfl","display",
"_JointStyle","JointStyle_Impl_"];Qh.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var gh=function(){};h["openfl.display.Loader"]=gh;gh.__name__=["openfl","display","Loader"];gh.__super__=Fb;gh.prototype=q(Fb.prototype,{__class__:gh});var nd=function(){pa.call(this);this.applicationDomain=ae.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};h["openfl.display.LoaderInfo"]=nd;nd.__name__=
["openfl","display","LoaderInfo"];nd.create=function(a){var b=new nd;b.uncaughtErrorEvents=new Tf;null!=a?b.loader=a:b.url=nd.__rootURL;return b};nd.__super__=pa;nd.prototype=q(pa.prototype,{applicationDomain:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,loader:null,parameters:null,uncaughtErrorEvents:null,url:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,
this.bytesTotal),this.__completed=!0,this.dispatchEvent(new Z("complete")))},__update:function(a,b){this.bytesLoaded=a;this.bytesTotal=b;this.dispatchEvent(new Ke("progress",!1,!1,a,b))},__class__:nd});var Ug=function(a,b,c){this.id=a;this.depth=b;this.displayObject=c};h["openfl.display._MovieClip.TimelineObject"]=Ug;Ug.__name__=["openfl","display","_MovieClip","TimelineObject"];Ug.prototype={depth:null,displayObject:null,id:null,__class__:Ug};var Ve=function(a){zd.call(this);this.display=a;null!=
a&&(a.addEventListener("complete",p(this,this.display_onComplete),!1,-1E3),oa.current.addChild(a))};h["openfl.display.Preloader"]=Ve;Ve.__name__=["openfl","display","Preloader"];Ve.__super__=zd;Ve.prototype=q(zd.prototype,{display:null,ready:null,start:function(){this.ready=!0;oa.current.get_loaderInfo().__complete();null!=this.display?this.display.dispatchEvent(new Z("complete",!0,!0)):zd.prototype.start.call(this)},update:function(a,b){oa.current.get_loaderInfo().__update(a,b);null!=this.display&&
this.display.dispatchEvent(new Ke("progress",!0,!0,a,b))},display_onComplete:function(a){a.isDefaultPrevented()||(null!=this.display&&(this.display.removeEventListener("complete",p(this,this.display_onComplete)),this.display.parent==oa.current&&oa.current.removeChild(this.display),oa.current.stage.set_focus(null),this.display=null),this.ready&&zd.prototype.start.call(this))},__class__:Ve});var We=function(){Gb.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*
(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new Gb;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.outline.set_alpha(0);this.addChild(this.outline);this.progress=new Gb;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.progress.set_alpha(0);
this.addChild(this.progress);this.startAnimation=oa.getTimer()+100;this.endAnimation=this.startAnimation+1E3;this.addEventListener("addedToStage",p(this,this.this_onAddedToStage))};h["openfl.display.DefaultPreloader"]=We;We.__name__=["openfl","display","DefaultPreloader"];We.__super__=Gb;We.prototype=q(Gb.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){return oa.current.stage.window.config.background},getHeight:function(){var a=oa.current.stage.window.config.height;
return 0<a?a:oa.current.stage.stageHeight},getWidth:function(){var a=oa.current.stage.window.config.width;return 0<a?a:oa.current.stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",p(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",p(this,this.this_onEnterFrame));this.dispatchEvent(new Z("complete"))},onUpdate:function(a,b){var c=0;0<b&&(c=a/b,1<c&&(c=1));this.progress.set_scaleX(c)},this_onAddedToStage:function(a){this.removeEventListener("addedToStage",
p(this,this.this_onAddedToStage));this.onInit();this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);this.addEventListener("progress",p(this,this.this_onProgress));this.addEventListener("complete",p(this,this.this_onComplete))},this_onComplete:function(a){a.preventDefault();this.removeEventListener("progress",p(this,this.this_onProgress));this.removeEventListener("complete",p(this,this.this_onComplete));this.onLoaded()},this_onEnterFrame:function(a){a=(oa.getTimer()-this.startAnimation)/
(this.endAnimation-this.startAnimation);0>a&&(a=0);1<a&&(a=1);this.outline.set_alpha(a);this.progress.set_alpha(a)},this_onProgress:function(a){this.onUpdate(a.bytesLoaded|0,a.bytesTotal|0)},__class__:We});var nc=function(a){this.__data=new Uf(null);null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tgl_FragColor = color * vAlpha;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t}");this.byteCode=a;this.precisionHint=1;this.__glSourceDirty=!0;this.__numPasses=1};h["openfl.display.Shader"]=nc;nc.__name__=
["openfl","display","Shader"];nc.prototype={byteCode:null,glProgram:null,precisionHint:null,gl:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__isUniform:null,__inputBitmapData:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__uniformMatrix2:null,__uniformMatrix3:null,__uniformMatrix4:null,__disable:function(){null!=this.glProgram&&this.__disableGL()},__disableGL:function(){null!=this.get_data().uImage0&&(this.get_data().uImage0.input=
null);for(var a=0,b=this.__paramBool;a<b.length;){var c=b[a];++a;this.gl.disableVertexAttribArray(c.index)}a=0;for(b=this.__paramFloat;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,this.gl.disableVertexAttribArray(c.index);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null);this.gl.bindTexture(this.gl.TEXTURE_2D,null)},__enable:function(){this.__init();null!=this.glProgram&&this.__enableGL()},__enableGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<
c.length;){var d=c[b];++b;this.gl.uniform1i(d.index,a);++a}},__init:function(){null==this.__data&&(this.__data=new Uf(null));null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.glProgram&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(this.__glSourceDirty||null==this.__isUniform)this.__glSourceDirty=!1,this.glProgram=null,this.__isUniform=new T,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__uniformMatrix2=new zc(4),this.__uniformMatrix3=
new zc(9),this.__uniformMatrix4=new zc(16),this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform");if(null!=this.gl&&null==this.glProgram){var a="#ifdef GL_ES\n\t\t\t\tprecision "+(1==this.precisionHint?"mediump":"lowp")+" float;\n\t\t\t\t#endif\n\t\t\t\t"+this.get_glFragmentSource();this.glProgram=Be.createProgram(this.get_glVertexSource(),a);if(null!=this.glProgram){for(var a=
0,b=this.__inputBitmapData;a<b.length;){var c=b[a];++a;var d=c.name,e=this.__isUniform;(null!=m[d]?e.getReserved(d):e.h[d])?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}a=0;for(b=this.__paramBool;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=m[d]?e.getReserved(d):e.h[d])?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramFloat;a<b.length;)c=
b[a],++a,d=c.name,e=this.__isUniform,(null!=m[d]?e.getReserved(d):e.h[d])?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name);a=0;for(b=this.__paramInt;a<b.length;)c=b[a],++a,d=c.name,e=this.__isUniform,(null!=m[d]?e.getReserved(d):e.h[d])?c.index=this.gl.getUniformLocation(this.glProgram,c.name):c.index=this.gl.getAttribLocation(this.glProgram,c.name)}}},__processGLData:function(a,b){var c=0,d,e;for(d="uniform"==b?new Rb("uniform ([A-Za-z0-9]+) ([A-Za-z0-9]+)",
""):new Rb("attribute ([A-Za-z0-9]+) ([A-Za-z0-9]+)","");d.matchSub(a,c);){e=d.matched(1);c=d.matched(2);if(ba.startsWith(e,"sampler"))e=new hh,e.name=c,this.__inputBitmapData.push(e),this.get_data()[c]=e;else{switch(e){case "bool":e=0;break;case "bvec2":e=1;break;case "bvec3":e=2;break;case "bvec4":e=3;break;case "dvec2":case "vec2":e=5;break;case "dvec3":case "vec3":e=6;break;case "double":case "float":e=4;break;case "ivec3":case "uvec3":e=10;break;case "ivec4":case "uvec4":e=11;break;case "mat2":case "mat2x2":e=
12;break;case "mat2x3":e=13;break;case "mat2x4":e=14;break;case "mat3x2":e=15;break;case "mat3":case "mat3x3":e=16;break;case "mat3x4":e=17;break;case "mat4":case "mat4x4":e=20;break;case "mat4x2":e=18;break;case "mat4x3":e=19;break;case "int":case "uint":e=8;break;case "ivec2":case "uvec2":e=9;break;case "dvec4":case "vec4":e=7;break;default:e=null}switch(e){case 0:case 1:case 2:case 3:var f=new Le;f.name=c;f.type=e;this.__paramBool.push(f);this.get_data()[c]=f;break;case 8:case 9:case 10:case 11:f=
new Le;f.name=c;f.type=e;this.__paramInt.push(f);this.get_data()[c]=f;break;default:f=new Le,f.name=c,f.type=e,this.__paramFloat.push(f),this.get_data()[c]=f}}e=this.__isUniform;f="uniform"==b;null!=m[c]?e.setReserved(c,f):e.h[c]=f;c=d.matchedPos();c=c.pos+c.len}},__update:function(){null!=this.glProgram&&this.__updateGL()},__updateGL:function(){for(var a=0,b=0,c=this.__inputBitmapData;b<c.length;){var d=c[b];++b;null!=d.input&&(this.gl.activeTexture(this.gl.TEXTURE0+a),this.gl.bindTexture(this.gl.TEXTURE_2D,
d.input.getTexture(this.gl)),d.smoothing?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)));++a}b=a=0;for(c=this.__paramBool;b<c.length;){d=c[b];++b;var e=d.value,a=d.index;if(null!=e)switch(d.type){case 0:this.gl.uniform1i(a,
e[0]?1:0);break;case 1:this.gl.uniform2i(a,e[0]?1:0,e[1]?1:0);break;case 2:this.gl.uniform3i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0);break;case 3:this.gl.uniform4i(a,e[0]?1:0,e[1]?1:0,e[2]?1:0,e[3]?1:0)}else{var e=d.name,f=this.__isUniform;(null!=m[e]?f.getReserved(e):f.h[e])||this.gl.enableVertexAttribArray(d.index)}}b=0;for(c=this.__paramFloat;b<c.length;)if(e=c[b],++b,d=e.value,a=e.index,null!=d)switch(e.type){case 4:this.gl.uniform1f(a,d[0]);break;case 5:this.gl.uniform2f(a,d[0],d[1]);break;case 6:this.gl.uniform3f(a,
d[0],d[1],d[2]);break;case 7:this.gl.uniform4f(a,d[0],d[1],d[2],d[3]);break;case 12:for(e=0;4>e;)f=e++,this.__uniformMatrix2[f]=d[f];this.gl.uniformMatrix2fv(a,!1,this.__uniformMatrix2);break;case 16:for(e=0;9>e;)f=e++,this.__uniformMatrix3[f]=d[f];this.gl.uniformMatrix3fv(a,!1,this.__uniformMatrix3);break;case 20:for(e=0;16>e;)f=e++,this.__uniformMatrix4[f]=d[f];this.gl.uniformMatrix4fv(a,!1,this.__uniformMatrix4)}else d=e.name,f=this.__isUniform,(null!=m[d]?f.getReserved(d):f.h[d])||this.gl.enableVertexAttribArray(e.index);
b=0;for(c=this.__paramInt;b<c.length;)if(d=c[b],++b,e=d.value,null!=e)switch(d.type){case 8:this.gl.uniform1i(a,e[0]);break;case 9:this.gl.uniform2i(a,e[0],e[1]);break;case 10:this.gl.uniform3i(a,e[0],e[1],e[2]);break;case 11:this.gl.uniform4i(a,e[0],e[1],e[2],e[3])}else e=d.name,f=this.__isUniform,(null!=m[e]?f.getReserved(e):f.h[e])||this.gl.enableVertexAttribArray(d.index)},get_data:function(){(this.__glSourceDirty||null==this.__data)&&this.__init();return this.__data},get_glFragmentSource:function(){return this.__glFragmentSource},
get_glVertexSource:function(){return this.__glVertexSource},__class__:nc,__properties__:{get_glVertexSource:"get_glVertexSource",get_glFragmentSource:"get_glFragmentSource",get_data:"get_data"}};var Uf=function(a){};h["openfl.display.ShaderData"]=Uf;Uf.__name__=["openfl","display","ShaderData"];Uf.prototype={aAlpha:null,aPosition:null,aTexCoord:null,uImage0:null,uMatrix:null,__class__:Uf};var hh=function(){this.width=this.index=this.height=this.channels=0};h["openfl.display.ShaderInput"]=hh;hh.__name__=
["openfl","display","ShaderInput"];hh.prototype={channels:null,height:null,index:null,input:null,name:null,smoothing:null,width:null,__class__:hh};var Le=function(){this.index=0};h["openfl.display.ShaderParameter"]=Le;Le.__name__=["openfl","display","ShaderParameter"];Le.prototype={index:null,name:null,type:null,value:null,__class__:Le};var dd=function(){L.call(this)};h["openfl.display.Shape"]=dd;dd.__name__=["openfl","display","Shape"];dd.__super__=L;dd.prototype=q(L.prototype,{get_graphics:function(){null==
this.__graphics&&(this.__graphics=new pe(this));return this.__graphics},__class__:dd,__properties__:q(L.prototype.__properties__,{get_graphics:"get_graphics"})});var Mc=function(a,b,c,d){Qa.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.set_upState(null!=a?a:new L);this.set_overState(b);this.set_downState(c);this.set_hitTestState(null!=d?d:new L);this.addEventListener("mouseDown",p(this,this.__this_onMouseDown));this.addEventListener("mouseOut",p(this,this.__this_onMouseOut));
this.addEventListener("mouseOver",p(this,this.__this_onMouseOver));this.addEventListener("mouseUp",p(this,this.__this_onMouseUp));this.set___currentState(this.upState);null!=Mc.__initSymbol&&(a=Mc.__initSWF,this.__symbol=Mc.__initSymbol,Mc.__initSWF=null,Mc.__initSymbol=null,this.__fromSymbol(a,this.__symbol))};h["openfl.display.SimpleButton"]=Mc;Mc.__name__=["openfl","display","SimpleButton"];Mc.__super__=Qa;Mc.prototype=q(Qa.prototype,{downState:null,enabled:null,hitTestState:null,overState:null,
trackAsMenu:null,upState:null,useHandCursor:null,__currentState:null,__ignoreEvent:null,__previousStates:null,__symbol:null,__fromSymbol:function(a,b){this.__symbol=b;null!=b.downState&&this.set_downState(b.downState.__createObject(a));null!=b.hitState&&this.set_hitTestState(b.hitState.__createObject(a));null!=b.overState&&this.set_overState(b.overState.__createObject(a));null!=b.upState&&this.set_upState(b.upState.__createObject(a))},__getBounds:function(a,b){Qa.prototype.__getBounds.call(this,a,
b);null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));this.__currentState.__getBounds(a,this.__currentState.__worldTransform);null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?U.POINTER:null},__hitTest:function(a,b,c,d,e,f){var g=!1;if(null!=this.hitTestState){var l=this.__updateTransform(this.hitTestState);this.hitTestState.__hitTest(a,b,c,d,e,f)&&(null!=d&&(d[d.length-1]=f),g=!0);this.__resetTransform(this.hitTestState,
l)}else if(null!=this.__currentState){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;l=this.__updateTransform(this.__currentState);this.__currentState.__hitTest(a,b,c,d,e,f)&&(g=e);this.__resetTransform(this.__currentState,l)}if(null!=d)for(;1<d.length&&d[d.length-1]==d[d.length-2];)d.pop();return g},__hitTestMask:function(a,b){var c=!1,d=this.__updateTransform(this.__currentState);this.__currentState.__hitTestMask(a,
b)&&(c=!0);this.__resetTransform(this.__currentState,d);return c},__renderCairo:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderCairo(a),a.maskManager.popObject(this))},__renderCairoMask:function(a){this.__currentState.__renderCairoMask(a)},__renderCanvas:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderCanvas(a),a.maskManager.popObject(this))},__renderCanvasMask:function(a){var b=
new O;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height);this.__currentState.__renderCanvasMask(a)},__renderDOM:function(a){a.maskManager.pushObject(this);for(var b=0,c=this.__previousStates;b<c.get_length();){var d=c.get(b);++b;d.__renderDOM(a)}this.__previousStates.set_length(0);this.__currentState.__renderDOM(a);a.maskManager.popObject(this)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||(a.maskManager.pushObject(this),this.__currentState.__renderGL(a),
a.maskManager.popObject(this))},__resetTransform:function(a,b){a.__updateTransforms(b);a.__updateChildren(!1)},__setStageReference:function(a){Qa.prototype.__setStageReference.call(this,a);null!=this.__currentState&&this.__currentState.__setStageReference(a)},__updateTransform:function(a){var b=a.__transform,c=this.__worldTransform,d=fa.__temp;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;b=a.__transform;a.__transform=
d;a.__update(!1,!0);return a.__transform=b},__updateTransforms:function(a){Qa.prototype.__updateTransforms.call(this,a);this.__updateTransform(this.__currentState)},set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);return this.overState=a},set_upState:function(a){null!=
this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){null!=this.__currentState&&(this.__currentState.__renderParent=null);null!=a.parent&&a.parent.removeChild(a);null==this.__previousStates&&(this.__previousStates=qa.toObjectVector(null));if(a!=this.__currentState){null!=this.__currentState&&(this.__currentState.__setStageReference(null),this.__previousStates.push(this.__currentState));var b=this.__previousStates.indexOf(a,
0);-1<b&&this.__previousStates.splice(b,1);a.__setStageReference(this.stage);a.__worldAlphaChanged=!0}a.__renderParent=this;return this.__currentState=a},__this_onMouseDown:function(a){null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(a){this.__ignoreEvent=!1;this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){a.buttonDown&&(this.__ignoreEvent=!0);this.overState==this.__currentState||null==this.overState||
this.__ignoreEvent||this.set___currentState(this.overState)},__this_onMouseUp:function(a){this.__ignoreEvent=!1;null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__class__:Mc,__properties__:q(Qa.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var be=function(a,b){Fb.call(this);this.application=a.application;
this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.__displayMatrix=new fa;this.stage3Ds=qa.toObjectVector(null);this.stage3Ds.push(new Vf);this.__resize();this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.stageFocusRect=this.showDefaultContextMenu=
!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__rollOutStack=[];null==oa.current.stage&&this.stage.addChild(oa.current)};h["openfl.display.Stage"]=be;be.__name__=["openfl","display","Stage"];be.__interfaces__=[rf];be.__super__=Fb;be.prototype=q(Fb.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,
showDefaultContextMenu:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__invalidated:null,__lastClickTime:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,
__mouseDownRight:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__primaryTouch:null,__renderer:null,__rendering:null,__rollOutStack:null,__stack:null,__transparent:null,__wasDirty:null,addRenderer:function(a){var b=p(this,this.render);a.onRender.add(function(){b(a)});var c=p(this,this.onRenderContextLost);a.onContextLost.add(function(){c(a)});var d=p(this,this.onRenderContextRestored);a.onContextRestored.add(function(b){d(a,b)})},addWindow:function(a){if(this.window==a){var b=p(this,this.onWindowActivate);
a.onActivate.add(function(){b(a)});var c=p(this,this.onWindowClose);a.onClose.add(function(){c(a)});var d=p(this,this.onWindowCreate);a.onCreate.add(function(){d(a)});var e=p(this,this.onWindowDeactivate);a.onDeactivate.add(function(){e(a)});var f=p(this,this.onWindowDropFile);a.onDropFile.add(function(b){f(a,b)});var g=p(this,this.onWindowEnter);a.onEnter.add(function(){g(a)});var l=p(this,this.onWindowFocusIn);a.onFocusIn.add(function(){l(a)});var h=p(this,this.onWindowFocusOut);a.onFocusOut.add(function(){h(a)});
var k=p(this,this.onWindowFullscreen);a.onFullscreen.add(function(){k(a)});var m=p(this,this.onKeyDown);a.onKeyDown.add(function(b,c){m(a,b,c)});var n=p(this,this.onKeyUp);a.onKeyUp.add(function(b,c){n(a,b,c)});var q=p(this,this.onWindowLeave);a.onLeave.add(function(){q(a)});var r=p(this,this.onWindowMinimize);a.onMinimize.add(function(){r(a)});var u=p(this,this.onMouseDown);a.onMouseDown.add(function(b,c,d){u(a,b,c,d)});var w=p(this,this.onMouseMove);a.onMouseMove.add(function(b,c){w(a,b,c)});var v=
p(this,this.onMouseMoveRelative);a.onMouseMoveRelative.add(function(b,c){v(a,b,c)});var x=p(this,this.onMouseUp);a.onMouseUp.add(function(b,c,d){x(a,b,c,d)});var y=p(this,this.onMouseWheel);a.onMouseWheel.add(function(b,c){y(a,b,c)});var A=p(this,this.onWindowMove);a.onMove.add(function(b,c){A(a,b,c)});var z=p(this,this.onWindowResize);a.onResize.add(function(b,c){z(a,b,c)});var B=p(this,this.onWindowRestore);a.onRestore.add(function(){B(a)});var E=p(this,this.onTextEdit);a.onTextEdit.add(function(b,
c,d){E(a,b,c,d)});var F=p(this,this.onTextInput);a.onTextInput.add(function(b){F(a,b)});if(-1<a.id)this.onWindowCreate(a)}},registerModule:function(a){a.onExit.add(p(this,this.onModuleExit),!1,0);a.onUpdate.add(p(this,this.update));for(a=vb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}vb.onConnect.add(p(this,this.__onGamepadConnect));bc.onStart.add(p(this,this.onTouchStart));bc.onMove.add(p(this,this.onTouchMove));bc.onEnd.add(p(this,this.onTouchEnd))},setPreloader:function(a){},
globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){try{Fa.__onGamepadAxisMove(a,b,c)}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},onGamepadButtonDown:function(a,b){try{Fa.__onGamepadButtonDown(a,b)}catch(c){c instanceof n&&(c=c.val),this.__handleError(c)}},onGamepadButtonUp:function(a,b){try{Fa.__onGamepadButtonUp(a,b)}catch(c){c instanceof n&&(c=c.val),this.__handleError(c)}},onGamepadConnect:function(a){try{Fa.__onGamepadConnect(a)}catch(b){b instanceof n&&
(b=b.val),this.__handleError(b)}},onGamepadDisconnect:function(a){try{Fa.__onGamepadDisconnect(a)}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onKeyDown:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyDown",b,c)}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},onKeyUp:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onKey("keyUp",b,c)}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},onModuleExit:function(a){if(null!=this.window)try{this.__broadcastEvent(new Z("deactivate"))}catch(b){b instanceof
n&&(b=b.val),this.__handleError(b)}},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}catch(f){f instanceof n&&(f=f.val),this.__handleError(f)}},onMouseMove:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouse("mouseMove",b*a.__scale|0,c*a.__scale|0,0)}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},
onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a)try{var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d);this.showDefaultContextMenu||2!=d||a.onMouseUp.cancel()}catch(f){f instanceof n&&(f=f.val),this.__handleError(f)}},onMouseWheel:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)}catch(d){d instanceof
n&&(d=d.val),this.__handleError(d)}},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a)try{var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Fd("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__dispatchEvent(d)}catch(e){e instanceof n&&(e=e.val),this.__handleError(e)}},onTouchMove:function(a){try{this.__onTouch("touchMove",
a)}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onTouchEnd:function(a){try{this.__primaryTouch==a&&(this.__primaryTouch=null),this.__onTouch("touchEnd",a)}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onTouchStart:function(a){try{null==this.__primaryTouch&&(this.__primaryTouch=a),this.__onTouch("touchBegin",a)}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowActivate:function(a){if(null!=this.window&&this.window==a)try{this.__broadcastEvent(new Z("activate"))}catch(b){b instanceof
n&&(b=b.val),this.__handleError(b)}},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a)try{if(null!=a.renderer){var b=a.renderer.context;switch(b[1]){case 0:this.__renderer=new Xd(this,b[2]);break;case 1:this.__renderer=new Hf(this,b[2]);break;case 2:this.__renderer=new yb(this,b[2])}}}catch(c){c instanceof n&&(c=c.val),this.__handleError(c)}},onWindowDeactivate:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=
null,this.__broadcastEvent(new Z("deactivate"))}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){if(null!=this.window&&this.window==a)try{this.set_focus(this.__cacheFocus)}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowFocusOut:function(a){if(null!=this.window&&this.window==a)try{var b=this.get_focus();this.set_focus(null);this.__cacheFocus=b}catch(c){c instanceof n&&(c=c.val),this.__handleError(c)}},
onWindowFullscreen:function(a){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState&&(this.__displayState=1,this.__dispatchEvent(new Ld("fullScreen",!1,!1,!1,!0)))}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowLeave:function(a){if(null!=this.window&&this.window==a)try{this.__dispatchEvent(new Z("mouseLeave"))}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowMinimize:function(a){if(null!=this.window&&this.window==a)try{this.__primaryTouch=
null,this.__broadcastEvent(new Z("deactivate"))}catch(b){b instanceof n&&(b=b.val),this.__handleError(b)}},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){if(null!=this.window&&this.window==a)try{this.__resize(),2==this.__displayState||a.__fullscreen||(this.__displayState=2,this.__dispatchEvent(new Ld("fullScreen",!1,!1,!0,!0)))}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},onWindowRestore:function(a){if(null!=this.window&&this.window==a)try{this.__broadcastEvent(new Z("activate"))}catch(b){b instanceof
n&&(b=b.val),this.__handleError(b)}},render:function(a){if(null!=a.window&&a.window==this.window)try{if(null!=this.application&&0<this.application.__windows.length&&(this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,L.__worldRenderDirty++)),!this.__rendering){this.__rendering=!0;null!=this.__renderer&&this.__renderer.clear();this.__broadcastEvent(new Z("enterFrame"));this.__broadcastEvent(new Z("exitFrame"));this.__invalidated&&
(this.__invalidated=!1,this.__broadcastEvent(new Z("render")));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){if(a.type==Xa.CAIRO){var b=a.context;if(4==b[1]){var c=b[2];w.__cast(this.__renderer,Gf).cairo=c;this.__renderer.renderSession.cairo=c}}this.__renderer.render()}this.__rendering=!1}}catch(d){d instanceof n&&(d=d.val),this.__handleError(d)}},update:function(a){this.__deltaTime=a},__broadcastEvent:function(a){var b=
a.type,c=L.__broadcastEvents;if(null!=m[b]?c.existsReserved(b):c.h.hasOwnProperty(b))for(b=a.type,c=L.__broadcastEvents,b=null!=m[b]?c.getReserved(b):c.h[b],c=0;c<b.length;){var d=b[c];++c;d.__dispatch(a)}},__drag:function(a){var b=this.__dragObject.parent;if(null!=b){var b=b.__getWorldTransform(),c=b.a*b.d-b.b*b.c;if(0==c)a.x=-b.tx,a.y=-b.ty;else{var d=1/c*(b.c*(b.ty-a.y)+b.d*(a.x-b.tx));a.y=1/c*(b.a*(a.y-b.ty)+b.b*(b.tx-a.x));a.x=d}}b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&
(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c,d=b.length;if(0==d)a.eventPhase=2,c=a.target,c.__dispatch(a);else{a.eventPhase=1;a.target=b[b.length-1];c=0;for(var e=d-1;c<e;){var f=c++;b[f].__dispatch(a);if(a.__isCanceled)return}a.eventPhase=
2;c=a.target;c.__dispatch(a);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,d-=2;0<=d;){b[d].__dispatch(a);if(a.__isCanceled)break;--d}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__handleError:function(a){a=new Wf("uncaughtError",!0,!0,a);oa.current.__loaderInfo.uncaughtErrorEvents.dispatchEvent(a)},__onKey:function(a,b,c){ja.__altKey=Mb.get_altKey(c);ja.__commandKey=Mb.get_metaKey(c);ja.__ctrlKey=Mb.get_ctrlKey(c);ja.__shiftKey=Mb.get_shiftKey(c);var d=[];null==this.__focus?
this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=
2;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=Vh.__getCharCode(b,Mb.get_shiftKey(c));c=new Xf(a,!0,!1,f,b,e,this.__macKeyboard?Mb.get_ctrlKey(c)||Mb.get_metaKey(c):
Mb.get_ctrlKey(c),Mb.get_altKey(c),Mb.get_shiftKey(c),Mb.get_ctrlKey(c),Mb.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__preventDefault&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=p(this,this.onGamepadAxisMove);a.onAxisMove.add(function(c,d){b(a,c,d)});var c=p(this,this.onGamepadButtonDown);a.onButtonDown.add(function(b){c(a,b)});var d=p(this,this.onGamepadButtonUp);a.onButtonUp.add(function(b){d(a,
b)});var e=p(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){e(a)})},__onMouse:function(a,b,c,d){if(!(2<d)){b=new X(b,c);c=this.__displayMatrix;var e=c.a*c.d-c.b*c.c;if(0==e)b.x=-c.tx,b.y=-c.ty;else{var f=1/e*(c.c*(c.ty-b.y)+c.d*(b.x-c.tx));b.y=1/e*(c.a*(b.y-c.ty)+c.b*(c.tx-b.x));b.x=f}this.__mouseX=b.x;this.__mouseY=b.y;c=[];e=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,c,!0,this)?e=c[c.length-1]:(e=this,c=[this]);null==e&&(e=this);f=null;switch(a){case "middleMouseDown":this.__mouseDownMiddle=
e;break;case "middleMouseUp":this.__mouseDownMiddle==e&&(f="middleClick");this.__mouseDownMiddle=null;break;case "mouseDown":e.get_tabEnabled()?this.set_focus(e):this.set_focus(null);this.__mouseDownLeft=e;break;case "mouseUp":this.__mouseDownLeft==e&&(f="click");this.__mouseDownLeft=null;break;case "rightMouseDown":this.__mouseDownRight=e;break;case "rightMouseUp":this.__mouseDownRight==e&&(f="rightClick"),this.__mouseDownRight=null}this.__fireEvent(ja.__create(a,d,this.__mouseX,this.__mouseY,e==
this?b:e.globalToLocal(b),e),c);null!=f&&(this.__fireEvent(ja.__create(f,d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),"mouseUp"==a&&w.__cast(e,Qa).doubleClickEnabled&&(a=oa.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(ja.__create("doubleClick",d,this.__mouseX,this.__mouseY,e==this?b:e.globalToLocal(b),e),c),this.__lastClickTime=0):this.__lastClickTime=a));if("auto"==Wh.__cursor){f=null;if(null!=this.__mouseDownLeft)f=this.__mouseDownLeft.__getCursor();else for(a=0;a<
c.length;)if(f=c[a],++a,f=f.__getCursor(),null!=f){zf.set_cursor(f);break}null==f&&zf.set_cursor(U.ARROW)}e!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(a=this.__mouseOverTarget==this?b:this.__mouseOverTarget.globalToLocal(b),a=ja.__create("mouseOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),this.__mouseOverTarget.__dispatchEvent(a));for(var f=0,g=this.__rollOutStack;f<g.length;){var l=g[f];++f;-1==c.indexOf(l)&&(I.remove(this.__rollOutStack,l),a=this.__mouseOverTarget.globalToLocal(b),
a=ja.__create("rollOut",d,this.__mouseX,this.__mouseY,a,this.__mouseOverTarget),a.bubbles=!1,l.__dispatchEvent(a))}for(f=0;f<c.length;)g=c[f],++f,-1==this.__rollOutStack.indexOf(g)&&(g.hasEventListener("rollOver")&&(a=g.globalToLocal(b),a=ja.__create("rollOver",d,this.__mouseX,this.__mouseY,a,g),a.bubbles=!1,g.__dispatchEvent(a)),g.hasEventListener("rollOut")&&this.__rollOutStack.push(g));e!=this.__mouseOverTarget&&(null!=e&&(a=e==this?b:e.globalToLocal(b),a=ja.__create("mouseOver",d,this.__mouseX,
this.__mouseY,a,e),a.bubbles=!0,e.__dispatchEvent(a)),this.__mouseOverTarget=e);null!=this.__dragObject&&(this.__drag(b),d=null,this.__mouseOverTarget==this.__dragObject?(b=this.__dragObject.mouseEnabled,c=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,e=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)&&(d=e[e.length-1]),this.__dragObject.mouseEnabled=b,this.__dragObject.mouseChildren=c):this.__mouseOverTarget!=this&&(d=this.__mouseOverTarget),
this.__dragObject.dropTarget=d)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[],f=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);var c=new X(c,d),d=this.__displayMatrix,g=d.a*d.d-d.b*d.c;if(0==g)c.x=-d.tx,c.y=-d.ty;else{var l=1/g*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/g*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=l}d=b|0;this.__fireEvent(ja.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),
f,d),e)},__onTouch:function(a,b){var c=new X(Math.round(b.x*this.window.__width*this.window.__scale),Math.round(b.y*this.window.__height*this.window.__scale)),d=this.__displayMatrix,e=d.a*d.d-d.b*d.c;if(0==e)c.x=-d.tx,c.y=-d.ty;else{var f=1/e*(d.c*(d.ty-c.y)+d.d*(c.x-d.tx));c.y=1/e*(d.a*(c.y-d.ty)+d.b*(d.tx-c.x));c.x=f}e=c.x;f=c.y;d=[];if(this.__hitTest(e,f,!1,d,!0,this)){var g=d[d.length-1];null==g&&(g=this);c=g.globalToLocal(c);c=Kb.__create(a,null,e,f,c,g);c.touchPointID=b.id;c.isPrimaryTouchPoint=
this.__primaryTouch==b;this.__fireEvent(c,d)}else c=Kb.__create(a,null,e,f,c,this),c.touchPointID=b.id,c.isPrimaryTouchPoint=this.__primaryTouch==b,this.__fireEvent(c,[this.stage])},__resize:function(){var a=this.stageWidth,b=this.stageHeight,c=this.window.__width*this.window.__scale|0,d=this.window.__height*this.window.__scale|0;this.__logicalWidth=this.window.__width;this.__logicalHeight=this.window.__height;this.__displayMatrix.identity();if(0==this.__logicalWidth&&0==this.__logicalHeight)this.stageWidth=
c,this.stageHeight=d;else{this.stageWidth=this.__logicalWidth;this.stageHeight=this.__logicalHeight;var e=Math.min(c/this.stageWidth,d/this.stageHeight),f=Math.round((c-this.stageWidth*e)/2),g=Math.round((d-this.stageHeight*e)/2);this.__displayMatrix.scale(e,e);this.__displayMatrix.translate(f,g)}e=0;for(f=this.stage3Ds;e<f.get_length();)g=f.get(e),++e,g.__resize(this.stageWidth,this.stageHeight);null!=this.__renderer&&this.__renderer.resize(c,d);this.stageWidth==a&&this.stageHeight==b||this.__dispatchEvent(new Z("resize"))},
__setLogicalSize:function(a,b){this.__logicalWidth=a;this.__logicalHeight=b;this.__resize()},__update:function(a,b,c){a?0<L.__worldTransformDirty&&(Fb.prototype.__update.call(this,!0,b,c),b&&(L.__worldTransformDirty=0,this.__dirty=!0)):0<L.__worldTransformDirty||this.__dirty||0<L.__worldRenderDirty?(Fb.prototype.__update.call(this,!1,b,c),b&&(this.__wasDirty=!0,L.__worldTransformDirty=0,L.__worldRenderDirty=0,this.__dirty=!1)):this.__wasDirty&&(Fb.prototype.__update.call(this,!1,b,c),b&&(this.__wasDirty=
!1))},get_color:function(){return this.__color},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+ba.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__cacheFocus=this.__focus=a;if(null!=b){var c=new Me("focusOut",!0,!1,this.__focus,!1,0),d=[];b.__getInteractive(d);d.reverse();this.__fireEvent(c,d)}null!=this.__focus&&(b=new Me("focusIn",
!0,!1,b,!1,0),c=[],a.__getInteractive(c),c.reverse(),this.__fireEvent(b,c))}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},__class__:be,__properties__:q(Fb.prototype.__properties__,{get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color",get_color:"get_color"})});var Vf=function(){pa.call(this);this.set_x(0);
this.set_y(0);this.visible=!0};h["openfl.display.Stage3D"]=Vf;Vf.__name__=["openfl","display","Stage3D"];Vf.__super__=pa;Vf.prototype=q(pa.prototype,{context3D:null,visible:null,x:null,y:null,__contextRequested:null,__canvas:null,__style:null,__webgl:null,requestContext3D:function(a,b){this.__contextRequested=!0;null!=this.context3D&&vc.delay(p(this,this.__dispatchCreate),1)},__createContext:function(a,b){if(null!=b.gl)this.context3D=new lb(this,b),this.__dispatchCreate();else{this.__canvas=window.document.createElement("canvas");
this.__canvas.width=a.stageWidth;this.__canvas.height=a.stageHeight;var c=a.window,c={alpha:Object.prototype.hasOwnProperty.call(c.config,"background")&&null==c.config.background,antialias:Object.prototype.hasOwnProperty.call(c.config,"antialiasing")&&0<c.config.antialiasing,depth:Object.prototype.hasOwnProperty.call(c.config,"depthBuffer")?c.config.depthBuffer:!0,premultipliedAlpha:!0,stencil:Object.prototype.hasOwnProperty.call(c.config,"stencilBuffer")&&c.config.stencilBuffer,preserveDrawingBuffer:!1};
this.__webgl=Eh.getContextWebGL(this.__canvas,c);null!=this.__webgl?(r.context=this.__webgl,this.context3D=new lb(this,b),b.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(b.transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null),this.__dispatchCreate()):this.__dispatchError()}},__dispatchError:function(){this.__contextRequested=
!1;this.dispatchEvent(new Uc("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new Z("context3DCreate")))},__renderCairo:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderCanvas:function(a,b){this.visible&&this.__contextRequested&&(this.__dispatchError(),this.__contextRequested=!1)},__renderDOM:function(a,b){this.visible&&(this.__contextRequested&&
null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(r.context=this.__webgl,this.__resetContext3DStates()))},__renderGL:function(a,b){this.visible&&(this.__contextRequested&&null==this.context3D&&this.__createContext(a,b),null!=this.context3D&&(this.__resetContext3DStates(),null!=this.context3D&&(b.gl.depthMask(!0),b.blendModeManager.setBlendMode(null),null!=b.shaderManager.currentShader&&(b.shaderManager.setShader(null),null!=this.context3D.__program&&this.context3D.__program.__use()))))},
__resize:function(a,b){null!=this.__canvas&&(this.__canvas.width=a,this.__canvas.height=b)},__resetContext3DStates:function(){this.context3D.__updateBlendFactors();this.context3D.__updateBackbufferViewport()},set_x:function(a){this.x=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},set_y:function(a){this.y=a;null!=this.context3D&&this.context3D.__updateBackbufferViewport();return a},__class__:Vf,__properties__:{set_y:"set_y",set_x:"set_x"}});var Sf=function(a){Vd.call(this,
a)};h["openfl.display.Window"]=Sf;Sf.__name__=["openfl","display","Window"];Sf.__super__=Vd;Sf.prototype=q(Vd.prototype,{create:function(a){Vd.prototype.create.call(this,a);this.stage=new be(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);Object.prototype.hasOwnProperty.call(this.config,"resizable")&&!this.config.resizable&&this.stage.__setLogicalSize(this.config.width,this.config.height);a.addModule(this.stage)},__class__:Sf});var lb=function(a,
b){this.profile=0;this.enableErrorChecking=!1;this.driverInfo="OpenGL (Direct blitting)";this.backBufferHeight=this.backBufferWidth=0;pa.call(this);this.__stage3D=a;this.__renderSession=b;this.__vertexConstants=new zc(512);this.__fragmentConstants=new zc(512);var c=[1,1,1,1];this.__positionScale=null!=c?new zc(c):null;this.__samplerDirty=0;this.__samplerTextures=qa.toObjectVector(null,8);this.__samplerStates=[];for(c=0;8>c;){var d=c++;this.__samplerStates[d]=new Of(9729,9729,33071,33071)}this.maxBackBufferHeight=
this.maxBackBufferWidth=r.context.getParameter(3386);this.__backBufferAntiAlias=0;this.__backBufferEnableDepthAndStencil=!0;this.__backBufferWantsBestResolution=!1;this.__frameCount=0;this.__rttDepthAndStencil=!1;this.__stencilRef=this.__stencilCompareMode=this.__samplerDirty=0;this.__stencilReadMask=255;this.__supportsPackedDepthStencil=!0;this.__stats=qa.toIntVector(null,11);this.__statsCache=qa.toIntVector(null,11);G.CheckGLError();c=r.context.getParameter(7936);G.CheckGLError();d=r.context.getParameter(7938);
G.CheckGLError();var e=r.context.getParameter(7937);G.CheckGLError();var f=r.context.getParameter(35724);G.CheckGLError();this.driverInfo="OpenGL Vendor="+c+" Version="+d+" Renderer="+e+" GLSL="+f;c=0;for(d=this.__stats.get_length();c<d;)e=c++,this.__stats.set(e,0);lb.__stateCache.clearSettings()};h["openfl.display3D.Context3D"]=lb;lb.__name__=["openfl","display3D","Context3D"];lb.__super__=pa;lb.prototype=q(pa.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,enableErrorChecking:null,
maxBackBufferHeight:null,maxBackBufferWidth:null,profile:null,__backBufferAntiAlias:null,__backBufferEnableDepthAndStencil:null,__backBufferWantsBestResolution:null,__depthRenderBuffer:null,__depthStencilRenderBuffer:null,__fragmentConstants:null,__framebuffer:null,__frameCount:null,__positionScale:null,__program:null,__renderSession:null,__renderToTexture:null,__rttDepthAndStencil:null,__samplerDirty:null,__samplerTextures:null,__samplerStates:null,__scissorRectangle:null,__stage3D:null,__stats:null,
__statsCache:null,__stencilCompareMode:null,__stencilRef:null,__stencilReadMask:null,__stencilRenderBuffer:null,__supportsPackedDepthStencil:null,__vertexConstants:null,clear:function(a,b,c,d,e,f,g){null==g&&(g=7);null==f&&(f=0);null==e&&(e=1);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var l=0;0!=(g&1)&&(l|=16384,r.context.clearColor(a,b,c,d),G.CheckGLError());0!=(g&2)&&(l|=256,r.context.clearDepth(e),G.CheckGLError());0!=(g&4)&&(l|=1024,r.context.clearStencil(f),G.CheckGLError());
r.context.clear(l);G.CheckGLError()},configureBackBuffer:function(a,b,c,d,e,f){null==e&&(e=!1);null==d&&(d=!0);this.__updateBackbufferViewport();this.backBufferWidth=a;this.backBufferHeight=b;this.__backBufferAntiAlias=c;this.__backBufferEnableDepthAndStencil=d;this.__backBufferWantsBestResolution=e;lb.__stateCache.clearSettings()},createIndexBuffer:function(a,b){null==b&&(b=1);return new ih(this,a,ce.toString(b))},createProgram:function(){return new de(this)},createRectangleTexture:function(a,b,
c,d){return new ee(this,a,b,Xh.toString(c),d)},createTexture:function(a,b,c,d,e){null==e&&(e=0);return new Nc(this,a,b,c,d,e)},createVertexBuffer:function(a,b,c){null==c&&(c=1);return new jh(this,a,b,ce.toString(c))},dispose:function(){},drawTriangles:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);null!=this.__program&&(this.__flushSamplerState(),this.__program.__flush(),c=-1==c?a.__numIndices:3*c,r.context.bindBuffer(34963,a.__id),G.CheckGLError(),r.context.drawElements(4,c,a.__elementType,b),G.CheckGLError(),
this.__statsIncrement(0))},present:function(){this.__statsSendToTelemetry();this.__statsClear(0);this.__frameCount++},setBlendFactors:function(a,b){var c=lb.__stateCache.updateBlendSrcFactor(a),d=lb.__stateCache.updateBlendDestFactor(b);(c||d)&&this.__updateBlendFactors()},setCulling:function(a){if(lb.__stateCache.updateCullingMode(a))switch(a){case 0:r.context.enable(2884);r.context.cullFace(1028);break;case 1:r.context.enable(2884);r.context.cullFace(1029);break;case 2:r.context.enable(2884);r.context.cullFace(1032);
break;case 3:r.context.disable(2884);break;default:throw new n(new Ba);}},setDepthTest:function(a,b){var c=this.__backBufferEnableDepthAndStencil;lb.__stateCache.updateDepthTestEnabled(c)&&(c?r.context.enable(2929):r.context.disable(2929));lb.__stateCache.updateDepthTestMask(a)&&r.context.depthMask(a);if(lb.__stateCache.updateDepthCompareMode(b))switch(b){case 0:r.context.depthFunc(519);break;case 1:r.context.depthFunc(514);break;case 2:r.context.depthFunc(516);break;case 3:r.context.depthFunc(518);
break;case 4:r.context.depthFunc(513);break;case 5:r.context.depthFunc(515);break;case 6:r.context.depthFunc(512);break;case 7:r.context.depthFunc(517);break;default:throw new n(new Ba);}},setProgram:function(a){if(null==a)throw new n(new Ba);if(lb.__stateCache.updateProgram3D(a))for(a.__use(),a.__setPositionScale(this.__positionScale),this.__program=a,this.__samplerDirty|=this.__program.__samplerUsageMask,a=0;8>a;){var b=a++;this.__samplerStates[b].copyFrom(this.__program.__getSamplerState(b))}},
setProgramConstantsFromMatrix:function(a,b,c,d){null==d&&(d=!1);var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants;c=c.rawData;var f=4*b;d?(e[f++]=c.get(0),e[f++]=c.get(4),e[f++]=c.get(8),e[f++]=c.get(12),e[f++]=c.get(1),e[f++]=c.get(5),e[f++]=c.get(9),e[f++]=c.get(13),e[f++]=c.get(2),e[f++]=c.get(6),e[f++]=c.get(10),e[f++]=c.get(14),e[f++]=c.get(3),e[f++]=c.get(7),e[f++]=c.get(11)):(e[f++]=c.get(0),e[f++]=c.get(1),e[f++]=c.get(2),e[f++]=c.get(3),e[f++]=c.get(4),e[f++]=c.get(5),e[f++]=
c.get(6),e[f++]=c.get(7),e[f++]=c.get(8),e[f++]=c.get(9),e[f++]=c.get(10),e[f++]=c.get(11),e[f++]=c.get(12),e[f++]=c.get(13),e[f++]=c.get(14));e[f++]=c.get(15);null!=this.__program&&this.__program.__markDirty(a,b,4)},setProgramConstantsFromVector:function(a,b,c,d){null==d&&(d=-1);if(0!=d){-1==d&&(d=c.get_length()>>2);for(var e=(a=1==a)?this.__vertexConstants:this.__fragmentConstants,f=0,g=4*b,l=0,h=d;l<h;)l++,e[g++]=c.get(f++),e[g++]=c.get(f++),e[g++]=c.get(f++),e[g++]=c.get(f++);null!=this.__program&&
this.__program.__markDirty(a,b,d)}},setRenderToBackBuffer:function(){r.context.bindFramebuffer(36160,null);G.CheckGLError();this.__scissorRectangle=this.__renderToTexture=null;this.__updateBackbufferViewport();this.__updateScissorRectangle();this.__updateDepthAndStencilState();this.__positionScale[1]=1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale)},setRenderToTexture:function(a,b,c,d){null==b&&(b=!1);d=c=0;if(w.__instanceof(a,Nc))c=a.__width,d=a.__height;else if(w.__instanceof(a,
ee))c=a.__width,d=a.__height;else throw new n(new wa("Invalid texture"));null==this.__framebuffer&&(this.__framebuffer=r.context.createFramebuffer(),G.CheckGLError());r.context.bindFramebuffer(36160,this.__framebuffer);G.CheckGLError();r.context.framebufferTexture2D(36160,36064,3553,a.__textureID,0);G.CheckGLError();b&&(this.__supportsPackedDepthStencil?(null==this.__depthStencilRenderBuffer&&(this.__depthStencilRenderBuffer=r.context.createRenderbuffer(),G.CheckGLError()),r.context.bindRenderbuffer(36161,
this.__depthStencilRenderBuffer),G.CheckGLError(),r.context.renderbufferStorage(36161,34041,c,d),G.CheckGLError(),r.context.framebufferRenderbuffer(36160,33306,36161,this.__depthStencilRenderBuffer)):(null==this.__depthRenderBuffer&&(this.__depthRenderBuffer=r.context.createRenderbuffer(),G.CheckGLError()),null==this.__stencilRenderBuffer&&(this.__stencilRenderBuffer=r.context.createRenderbuffer(),G.CheckGLError()),r.context.bindRenderbuffer(36161,this.__depthRenderBuffer),G.CheckGLError(),r.context.renderbufferStorage(36161,
33189,c,d),G.CheckGLError(),r.context.bindRenderbuffer(36161,this.__stencilRenderBuffer),G.CheckGLError(),r.context.renderbufferStorage(36161,36168,c,d),G.CheckGLError(),r.context.framebufferRenderbuffer(36160,36096,36161,this.__depthRenderBuffer),G.CheckGLError(),r.context.framebufferRenderbuffer(36160,36128,36161,this.__stencilRenderBuffer)),G.CheckGLError(),r.context.bindRenderbuffer(36161,null),G.CheckGLError());this.__setViewport(0,0,c,d);this.enableErrorChecking&&36053!=r.context.checkFramebufferStatus(36160)&&
hb.trace("Error: Context3D.setRenderToTexture status:${code} width:${texture2D.__width} height:${texture2D.__height}",{fileName:"Context3D.hx",lineNumber:726,className:"openfl.display3D.Context3D",methodName:"setRenderToTexture"});this.__positionScale[1]=-1;null!=this.__program&&this.__program.__setPositionScale(this.__positionScale);this.__renderToTexture=a;this.__scissorRectangle=null;this.__rttDepthAndStencil=b;this.__updateScissorRectangle();this.__updateDepthAndStencilState()},setSamplerStateAt:function(a,
b,c,d){if(0>a||8<a)throw new n(new wa("sampler out of range"));a=this.__samplerStates[a];switch(b){case 0:a.wrapModeS=33071;a.wrapModeT=33071;break;case 1:a.wrapModeS=33071;a.wrapModeT=10497;break;case 2:a.wrapModeS=10497;a.wrapModeT=10497;break;case 3:a.wrapModeS=10497;a.wrapModeT=33071;break;default:throw new n(new wa("wrap bad enum"));}switch(c){case 0:a.magFilter=9729;break;case 1:a.magFilter=9729;break;case 2:a.magFilter=9729;break;case 3:a.magFilter=9729;break;case 4:a.magFilter=9729;break;
case 5:a.magFilter=9728;break;default:throw new n(new wa("filter bad enum"));}switch(d){case 0:a.minFilter=9987;break;case 1:a.minFilter=9984;break;case 2:a.minFilter=5==c?9728:9729;break;default:throw new n(new wa("mipfiter bad enum"));}},setScissorRectangle:function(a){this.__scissorRectangle=null!=a?a.clone():null;this.__updateScissorRectangle()},setStencilActions:function(a,b,c,d,e){null==e&&(e=5);null==d&&(d=5);null==c&&(c=5);null==b&&(b=0);this.__stencilCompareMode=b;a=this.__getGLStencilAction(d);
e=this.__getGLStencilAction(e);c=this.__getGLStencilAction(c);r.context.stencilOp(a,e,c);c=this.__getGLCompareMode(this.__stencilCompareMode);r.context.stencilFunc(c,this.__stencilRef,this.__stencilReadMask)},setStencilReferenceValue:function(a,b,c){null==c&&(c=255);null==b&&(b=255);this.__stencilReadMask=b;this.__stencilRef=a;a=this.__getGLCompareMode(this.__stencilCompareMode);r.context.stencilFunc(a,this.__stencilRef,this.__stencilReadMask);r.context.stencilMask(c)},setTextureAt:function(a,b){this.__samplerTextures.get(a)!=
b&&(this.__samplerTextures.set(a,b),this.__samplerDirty|=1<<a)},setVertexBufferAt:function(a,b,c,d){null==d&&(d=4);null==c&&(c=0);if(null==b)r.context.disableVertexAttribArray(a),G.CheckGLError(),r.context.bindBuffer(34962,null),G.CheckGLError();else switch(r.context.enableVertexAttribArray(a),G.CheckGLError(),r.context.bindBuffer(34962,b.__id),G.CheckGLError(),c*=4,d){case 0:r.context.vertexAttribPointer(a,4,5121,!0,b.__stride,c);G.CheckGLError();break;case 1:r.context.vertexAttribPointer(a,1,5126,
!1,b.__stride,c);G.CheckGLError();break;case 2:r.context.vertexAttribPointer(a,2,5126,!1,b.__stride,c);G.CheckGLError();break;case 3:r.context.vertexAttribPointer(a,3,5126,!1,b.__stride,c);G.CheckGLError();break;case 4:r.context.vertexAttribPointer(a,4,5126,!1,b.__stride,c);G.CheckGLError();break;default:throw new n(new Ba);}},__flushSamplerState:function(){for(var a=0;0!=this.__samplerDirty;){if(0!=(this.__samplerDirty&1<<a)){lb.__stateCache.updateActiveTextureSample(a)&&(r.context.activeTexture(33984+
a),G.CheckGLError());var b=this.__samplerTextures.get(a);if(null!=b){var c=b.__textureTarget,d=b.__getTexture();r.context.bindTexture(c,d);G.CheckGLError();b.__setSamplerState(this.__samplerStates[a])}else r.context.bindTexture(3553,null),G.CheckGLError();this.__samplerDirty&=~(1<<a)}++a}},__getGLCompareMode:function(a){switch(a){case 0:return 519;case 1:return 514;case 2:return 516;case 3:return 518;case 4:return 513;case 5:return 515;case 6:return 512;case 7:return 517;default:return 514}},__getGLStencilAction:function(a){switch(a){case 0:return 7683;
case 1:return 34056;case 2:return 7682;case 3:return 34055;case 4:return 5386;case 5:return 7680;case 6:return 7681;case 7:return 0;default:return 7680}},__setViewport:function(a,b,c,d){lb.__stateCache.updateViewport(a,b,c,d)&&(r.context.viewport(a,b,c,d),G.CheckGLError())},__statsAdd:function(a,b){var c=this.__stats;c.set(a,c.get(a)+b);return this.__stats.get(a)},__statsClear:function(a){this.__stats.set(a,0)},__statsDecrement:function(a){var b=this.__stats;b.set(a,b.get(a)-1)},__statsIncrement:function(a){var b=
this.__stats;b.set(a,b.get(a)+1)},__statsSendToTelemetry:function(){},__statsSubtract:function(a,b){var c=this.__stats;c.set(a,c.get(a)-b);return this.__stats.get(a)},__updateDepthAndStencilState:function(){(null!=this.__renderToTexture?this.__rttDepthAndStencil:this.__backBufferEnableDepthAndStencil)?(r.context.enable(2929),G.CheckGLError(),r.context.enable(2960)):(r.context.disable(2929),G.CheckGLError(),r.context.disable(2960));G.CheckGLError()},__updateBlendFactors:function(){if(null!=lb.__stateCache._srcBlendFactor&&
null!=lb.__stateCache._destBlendFactor){var a=1,b=0;switch(lb.__stateCache._srcBlendFactor){case 0:a=772;break;case 1:a=774;break;case 2:a=1;break;case 3:a=773;break;case 4:a=775;break;case 5:a=771;break;case 7:a=770;break;case 9:a=0;break;default:throw new n(new Ba);}switch(lb.__stateCache._destBlendFactor){case 0:b=772;break;case 2:b=1;break;case 3:b=773;break;case 5:b=771;break;case 6:b=769;break;case 7:b=770;break;case 8:b=768;break;case 9:b=0;break;default:throw new n(new Ba);}r.context.enable(3042);
G.CheckGLError();r.context.blendFunc(a,b);G.CheckGLError()}},__updateScissorRectangle:function(){if(null==this.__scissorRectangle)r.context.disable(3089);else{r.context.enable(3089);G.CheckGLError();var a=0;null!=this.__renderToTexture?w.__instanceof(this.__renderToTexture,Nc)?a=this.__renderToTexture.__height:w.__instanceof(this.__renderToTexture,ee)&&(a=this.__renderToTexture.__height):a=this.backBufferHeight;r.context.scissor(this.__scissorRectangle.x|0,a-(this.__scissorRectangle.y|0)-(this.__scissorRectangle.height|
0)|0,this.__scissorRectangle.width|0,this.__scissorRectangle.height|0)}G.CheckGLError()},__updateBackbufferViewport:function(){null==this.__renderToTexture&&this.__setViewport(this.__stage3D.x|0,this.__stage3D.y|0,this.backBufferWidth,this.backBufferHeight)},set_enableErrorChecking:function(a){return this.enableErrorChecking=G.debug=a},__class__:lb,__properties__:{set_enableErrorChecking:"set_enableErrorChecking"}});var ce={};h["openfl.display3D._Context3DBufferUsage.Context3DBufferUsage_Impl_"]=
ce;ce.__name__=["openfl","display3D","_Context3DBufferUsage","Context3DBufferUsage_Impl_"];ce.fromString=function(a){switch(a){case "dynamicDraw":return 0;case "staticDraw":return 1;default:return null}};ce.toString=function(a){switch(a){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}};var Xh={};h["openfl.display3D._Context3DTextureFormat.Context3DTextureFormat_Impl_"]=Xh;Xh.__name__=["openfl","display3D","_Context3DTextureFormat","Context3DTextureFormat_Impl_"];Xh.toString=
function(a){switch(a){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}};var Yh={};h["openfl.display3D._Context3DVertexBufferFormat.Context3DVertexBufferFormat_Impl_"]=Yh;Yh.__name__=["openfl","display3D","_Context3DVertexBufferFormat","Context3DVertexBufferFormat_Impl_"];Yh.toString=function(a){switch(a){case 0:return"bytes4";case 1:return"float1";case 2:return"float2";
case 3:return"float3";case 4:return"float4";default:return null}};var ih=function(a,b,c){this.__context=a;this.__numIndices=b;this.__elementType=5123;this.__id=r.context.createBuffer();G.CheckGLError();this.__usage=0==ce.fromString(c)?35048:35044;this.__context.__statsIncrement(1);this.__memoryUsage=0};h["openfl.display3D.IndexBuffer3D"]=ih;ih.__name__=["openfl","display3D","IndexBuffer3D"];ih.prototype={__context:null,__elementType:null,__id:null,__memoryUsage:null,__numIndices:null,__usage:null,
dispose:function(){r.context.deleteBuffer(this.__id);this.__context.__statsDecrement(1);this.__context.__statsSubtract(6,this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,b,c,d){b+=2*c;a=Sa.toArrayBuffer(a);d=null!=a?null==d?new Int16Array(a,b):new Int16Array(a,b,d):null;this.uploadFromTypedArray(d)},uploadFromTypedArray:function(a){null!=a&&(r.context.bindBuffer(34963,this.__id),G.CheckGLError(),r.context.bufferData(34963,a,this.__usage),G.CheckGLError(),a.byteLength!=this.__memoryUsage&&
(this.__context.__statsAdd(6,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength))},__class__:ih};var de=function(a){this.__context=a;this.__samplerUsageMask=this.__memUsage=0;this.__uniforms=new Qc;this.__samplerUniforms=new Qc;this.__alphaSamplerUniforms=new Qc;this.__samplerStates=qa.toObjectVector(null,8)};h["openfl.display3D.Program3D"]=de;de.__name__=["openfl","display3D","Program3D"];de.prototype={__alphaSamplerUniforms:null,__context:null,__fragmentShaderID:null,__fragmentSource:null,
__fragmentUniformMap:null,__memUsage:null,__positionScale:null,__programID:null,__samplerStates:null,__samplerUniforms:null,__samplerUsageMask:null,__uniforms:null,__vertexShaderID:null,__vertexSource:null,__vertexUniformMap:null,dispose:function(){this.__deleteShaders()},upload:function(a,b){var c=[],d=Nb.convertToGLSL(a,null),e=Nb.convertToGLSL(b,c);this.__uploadFromGLSL(d,e);d=0;for(e=c.length;d<e;){var f=d++;this.__setSamplerState(f,c[f])}},__buildUniformList:function(){this.__uniforms.clear();
this.__samplerUniforms.clear();this.__alphaSamplerUniforms.clear();var a=this.__samplerUsageMask=0,a=r.context.getProgramParameter(this.__programID,35718);G.CheckGLError();for(var b=new Qc,c=new Qc,d=0;d<a;){var e=d++,f=r.context.getActiveUniform(this.__programID,e),g=f.name,l=f.size,h=f.type;G.CheckGLError();f=new kh;f.name=g;f.size=l;f.type=h;f.location=r.context.getUniformLocation(this.__programID,f.name);G.CheckGLError();g=f.name.indexOf("[");0<=g&&(f.name=f.name.substring(0,g));switch(f.type){case 35674:f.regCount=
2;break;case 35675:f.regCount=3;break;case 35676:f.regCount=4;break;default:f.regCount=1}f.regCount*=f.size;this.__uniforms.add(f);if("vcPositionScale"==f.name)this.__positionScale=f;else if(ba.startsWith(f.name,"vc"))f.regIndex=E.parseInt(f.name.substring(2)),f.regData=this.__context.__vertexConstants,b.add(f);else if(ba.startsWith(f.name,"fc"))f.regIndex=E.parseInt(f.name.substring(2)),f.regData=this.__context.__fragmentConstants,c.add(f);else if(ba.startsWith(f.name,"sampler")&&!ba.endsWith(f.name,
"_alpha"))for(f.regIndex=E.parseInt(f.name.substring(7)),this.__samplerUniforms.add(f),g=0,l=f.regCount;g<l;)h=g++,this.__samplerUsageMask|=1<<f.regIndex+h;else ba.startsWith(f.name,"sampler")&&ba.endsWith(f.name,"_alpha")&&(g=f.name.indexOf("_")-7,f.regIndex=E.parseInt(f.name.substring(7,7+g))+4,this.__alphaSamplerUniforms.add(f));de.verbose&&hb.trace(""+e+" name:"+f.name+" type:"+f.type+" size:"+f.size+" location:"+E.string(f.location),{fileName:"Program3D.hx",lineNumber:174,className:"openfl.display3D.Program3D",
methodName:"__buildUniformList"})}this.__vertexUniformMap=new Yf(wg.array(b));this.__fragmentUniformMap=new Yf(wg.array(c))},__deleteShaders:function(){null!=this.__programID&&(this.__programID=null);null!=this.__vertexShaderID&&(r.context.deleteShader(this.__vertexShaderID),G.CheckGLError(),this.__vertexShaderID=null);null!=this.__fragmentShaderID&&(r.context.deleteShader(this.__fragmentShaderID),G.CheckGLError(),this.__fragmentShaderID=null);0!=this.__memUsage&&(this.__context.__statsDecrement(5),
this.__context.__statsSubtract(10,this.__memUsage),this.__memUsage=0)},__flush:function(){this.__vertexUniformMap.flush();this.__fragmentUniformMap.flush()},__getSamplerState:function(a){return this.__samplerStates.get(a)},__markDirty:function(a,b,c){a?this.__vertexUniformMap.markDirty(b,c):this.__fragmentUniformMap.markDirty(b,c)},__setPositionScale:function(a){null!=this.__positionScale&&(r.context.uniform4fv(this.__positionScale.location,a),G.CheckGLError())},__setSamplerState:function(a,b){this.__samplerStates.set(a,
b)},__uploadFromGLSL:function(a,b){this.__deleteShaders();de.verbose&&(hb.trace(a,{fileName:"Program3D.hx",lineNumber:278,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),hb.trace(b,{fileName:"Program3D.hx",lineNumber:279,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}));this.__vertexSource=a;this.__fragmentSource=b;this.__vertexShaderID=r.context.createShader(35633);r.context.shaderSource(this.__vertexShaderID,a);G.CheckGLError();r.context.compileShader(this.__vertexShaderID);
G.CheckGLError();var c=r.context.getShaderParameter(this.__vertexShaderID,35713);G.CheckGLError();if(0==c)throw c=r.context.getShaderInfoLog(this.__vertexShaderID),null!=c&&0!=c.length&&hb.trace("vertex: "+c,{fileName:"Program3D.hx",lineNumber:303,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new n(new wa("Error compiling vertex shader: "+c));this.__fragmentShaderID=r.context.createShader(35632);r.context.shaderSource(this.__fragmentShaderID,b);G.CheckGLError();r.context.compileShader(this.__fragmentShaderID);
G.CheckGLError();if(0==r.context.getShaderParameter(this.__fragmentShaderID,35713))throw c=r.context.getShaderInfoLog(this.__fragmentShaderID),null!=c&&0!=c.length&&hb.trace("fragment: "+c,{fileName:"Program3D.hx",lineNumber:326,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}),new n(new wa("Error compiling fragment shader: "+c));this.__programID=r.context.createProgram();r.context.attachShader(this.__programID,this.__vertexShaderID);G.CheckGLError();r.context.attachShader(this.__programID,
this.__fragmentShaderID);G.CheckGLError();for(c=0;16>c;){var d=c++,e="va"+d;-1!=a.indexOf(" "+e)&&r.context.bindAttribLocation(this.__programID,d,e)}r.context.linkProgram(this.__programID);c=r.context.getProgramInfoLog(this.__programID);null!=c&&0!=c.length&&hb.trace("program: ${infoLog}",{fileName:"Program3D.hx",lineNumber:359,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"});this.__buildUniformList();this.__memUsage=1;this.__context.__statsIncrement(5);this.__context.__statsAdd(10,
this.__memUsage)},__use:function(){var a=this.__programID;r.__currentProgram=a;r.context.useProgram(a);G.CheckGLError();this.__vertexUniformMap.markAllDirty();this.__fragmentUniformMap.markAllDirty();for(a=this.__samplerUniforms.h;null!=a;){var b=a.item,a=a.next;if(1==b.regCount)r.context.uniform1i(b.location,b.regIndex),G.CheckGLError();else throw new n(new Ba("!!! TODO: uniform location on webgl"));}for(a=this.__alphaSamplerUniforms.h;null!=a;)if(b=a.item,a=a.next,1==b.regCount)r.context.uniform1i(b.location,
b.regIndex),G.CheckGLError();else throw new n(new Ba("!!! TODO: uniform location on webgl"));},__class__:de};var kh=function(){this.isDirty=!0};h["openfl.display3D._Program3D.Uniform"]=kh;kh.__name__=["openfl","display3D","_Program3D","Uniform"];kh.prototype={name:null,location:null,type:null,size:null,regData:null,regIndex:null,regCount:null,isDirty:null,flush:function(){var a=4*this.regIndex;switch(this.type){case 35664:var b=this.location,a=this.__getRegisters(a,2*this.regCount);r.context.uniform2fv(b,
a);break;case 35665:b=this.location;a=this.__getRegisters(a,3*this.regCount);r.context.uniform3fv(b,a);break;case 35666:b=this.location;a=this.__getRegisters(a,4*this.regCount);r.context.uniform4fv(b,a);break;case 35674:b=this.location;a=this.__getRegisters(a,4*this.size);r.context.uniformMatrix2fv(b,!1,a);break;case 35675:b=this.location;a=this.__getRegisters(a,9*this.size);r.context.uniformMatrix3fv(b,!1,a);break;case 35676:b=this.location;a=this.__getRegisters(a,16*this.size);r.context.uniformMatrix4fv(b,
!1,a);break;default:b=this.location,a=this.__getRegisters(a,4*this.regCount),r.context.uniform4fv(b,a)}G.CheckGLError()},__getRegisters:function(a,b){return this.regData.subarray(a,a+b)},__class__:kh};var Yf=function(a){this.__uniforms=a;this.__uniforms.sort(function(a,b){return la.compare(a.regIndex,b.regIndex)});for(var b=a=0,c=this.__uniforms;b<c.length;){var d=c[b];++b;d.regIndex+d.regCount>a&&(a=d.regIndex+d.regCount)}this.__registerLookup=qa.toObjectVector(null,a);a=0;for(b=this.__uniforms;a<
b.length;){c=b[a];++a;for(var d=0,e=c.regCount;d<e;){var f=d++;this.__registerLookup.set(c.regIndex+f,c)}}this.__anyDirty=this.__allDirty=!0};h["openfl.display3D._Program3D.UniformMap"]=Yf;Yf.__name__=["openfl","display3D","_Program3D","UniformMap"];Yf.prototype={__allDirty:null,__anyDirty:null,__registerLookup:null,__uniforms:null,flush:function(){if(this.__anyDirty){for(var a=0,b=this.__uniforms;a<b.length;){var c=b[a];++a;if(this.__allDirty||c.isDirty)c.flush(),c.isDirty=!1}this.__anyDirty=this.__allDirty=
!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(a,b){if(!this.__allDirty){var c=a+b;c>this.__registerLookup.get_length()&&(c=this.__registerLookup.get_length());for(var d=a;d<c;){var e=this.__registerLookup.get(d);null!=e?(this.__anyDirty=e.isDirty=!0,d=e.regIndex+e.regCount):++d}}},__class__:Yf};var jh=function(a,b,c,d){this.__context=a;this.__numVertices=b;this.__vertexSize=c;this.__id=r.context.createBuffer();G.CheckGLError();this.__stride=4*this.__vertexSize;
this.__memoryUsage=0;this.__usage=0==ce.fromString(d)?35048:35044;this.__context.__statsIncrement(2)};h["openfl.display3D.VertexBuffer3D"]=jh;jh.__name__=["openfl","display3D","VertexBuffer3D"];jh.prototype={__context:null,__id:null,__memoryUsage:null,__numVertices:null,__stride:null,__usage:null,__vertexSize:null,dispose:function(){r.context.deleteBuffer(this.__id);this.__context.__statsDecrement(2);this.__context.__statsSubtract(7,this.__memoryUsage);this.__memoryUsage=0},uploadFromByteArray:function(a,
b,c,d){b+=c*this.__stride;d*=this.__vertexSize;a=Sa.toArrayBuffer(a);a=null!=a?null==d?new zc(a,b):new zc(a,b,d):null;this.uploadFromTypedArray(a)},uploadFromTypedArray:function(a){null!=a&&(r.context.bindBuffer(34962,this.__id),G.CheckGLError(),r.context.bufferData(34962,a,this.__usage),G.CheckGLError(),a.byteLength!=this.__memoryUsage&&(this.__context.__statsAdd(7,a.byteLength-this.__memoryUsage),this.__memoryUsage=a.byteLength))},__class__:jh};var ed=function(a,b){pa.call(this);this.__context=
a;this.__textureTarget=b;this.__textureID=r.context.createTexture();this.__format=this.__internalFormat=6408;this.__compressedMemoryUsage=this.__memoryUsage=0};h["openfl.display3D.textures.TextureBase"]=ed;ed.__name__=["openfl","display3D","textures","TextureBase"];ed.__super__=pa;ed.prototype=q(pa.prototype,{__alphaTexture:null,__compressedMemoryUsage:null,__context:null,__format:null,__height:null,__internalFormat:null,__memoryUsage:null,__optimizeForRenderToTexture:null,__samplerState:null,__streamingLevels:null,
__textureID:null,__textureTarget:null,__width:null,dispose:function(){null!=this.__alphaTexture&&this.__alphaTexture.dispose();r.context.deleteTexture(this.__textureID);0<this.__compressedMemoryUsage&&(this.__context.__statsDecrement(4),this.__context.__statsSubtract(9,this.__compressedMemoryUsage),this.__compressedMemoryUsage=0);0<this.__memoryUsage&&(this.__context.__statsDecrement(3),this.__context.__statsSubtract(8,this.__memoryUsage),this.__memoryUsage=0)},__getImage:function(a){var b=a.image;
if(!a.__isValid||null==b)return null;S.sync(b,!1);b.type==Ua.DATA||b.get_premultiplied()?!b.get_premultiplied()&&b.get_transparent()&&(r.context.pixelStorei(37441,0),b=b.clone(),b.set_premultiplied(!0)):r.context.pixelStorei(37441,1);0!=b.get_format()&&(b=b.clone(),b.set_format(0),b.buffer.premultiplied=!0);return b},__getTexture:function(){return this.__textureID},__setSamplerState:function(a){a.equals(this.__samplerState)||(r.context.bindTexture(this.__textureTarget,this.__textureID),G.CheckGLError(),
r.context.texParameteri(this.__textureTarget,10241,a.minFilter),G.CheckGLError(),r.context.texParameteri(this.__textureTarget,10240,a.magFilter),G.CheckGLError(),r.context.texParameteri(this.__textureTarget,10242,a.wrapModeS),G.CheckGLError(),r.context.texParameteri(this.__textureTarget,10243,a.wrapModeT),G.CheckGLError(),this.__samplerState=a)},__trackMemoryUsage:function(a){0==this.__memoryUsage&&this.__context.__statsIncrement(3);this.__memoryUsage+=a;this.__context.__statsAdd(8,a)},__class__:ed});
var ee=function(a,b,c,d,e){ed.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.uploadFromTypedArray(null)};h["openfl.display3D.textures.RectangleTexture"]=ee;ee.__name__=["openfl","display3D","textures","RectangleTexture"];ee.__super__=ed;ee.prototype=q(ed.prototype,{uploadFromBitmapData:function(a){null!=a&&(a=this.__getImage(a),null!=a&&this.uploadFromTypedArray(a.get_data()))},uploadFromTypedArray:function(a){r.context.bindTexture(this.__textureTarget,this.__textureID);
G.CheckGLError();r.context.texImage2D(this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,5121,a);G.CheckGLError();r.context.bindTexture(this.__textureTarget,null);G.CheckGLError();this.__trackMemoryUsage(this.__width*this.__height*4)},__class__:ee});var Nc=function(a,b,c,d,e,f){ed.call(this,a,3553);this.__width=b;this.__height=c;this.__optimizeForRenderToTexture=e;this.__streamingLevels=f;r.context.bindTexture(this.__textureTarget,this.__textureID);G.CheckGLError();
r.context.texImage2D(this.__textureTarget,0,this.__internalFormat,b,c,0,this.__format,5121,null);G.CheckGLError();r.context.bindTexture(this.__textureTarget,null);this.uploadFromTypedArray(null)};h["openfl.display3D.textures.Texture"]=Nc;Nc.__name__=["openfl","display3D","textures","Texture"];Nc.__getATFVersion=function(a){if("ATF"!=a.readUTFBytes(3))throw new n(new Ba("ATF signature not found"));var b=a.position,c=0;Ca.gte(a.length-a.position,5)&&(255==Nc.__readUInt32(a)?c=a.readUnsignedByte():a.position=
b);return c};Nc.__readUInt24=function(a){var b=a.readUnsignedByte()<<16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()};Nc.__readUInt32=function(a){var b=a.readUnsignedByte()<<24,b=b|a.readUnsignedByte()<<16,b=b|a.readUnsignedByte()<<8;return b|=a.readUnsignedByte()};Nc.__super__=ed;Nc.prototype=q(ed.prototype,{uploadFromBitmapData:function(a,b,c){null==b&&(b=0);if(null!=a){c=this.__width>>b;var d=this.__height>>b;if(a.width!=c||a.height!=d)c=new La(c,d,!0,0),c.draw(a),a=c;a=this.__getImage(a);
this.uploadFromTypedArray(a.get_data(),b)}},uploadFromTypedArray:function(a,b){null==b&&(b=0);if(null!=a){var c=this.__width>>b,d=this.__height>>b;r.context.bindTexture(this.__textureTarget,this.__textureID);G.CheckGLError();r.context.texImage2D(this.__textureTarget,b,this.__internalFormat,c,d,0,this.__format,5121,a);G.CheckGLError();r.context.bindTexture(this.__textureTarget,null);G.CheckGLError();this.__trackMemoryUsage(c*d*4)}},__class__:Nc});var wa=function(a,b){null==b&&(b=0);null==a&&(a="");
this.message=a;this.errorID=b;this.name="Error"};h["openfl.errors.Error"]=wa;wa.__name__=["openfl","errors","Error"];wa.prototype={errorID:null,message:null,name:null,toString:function(){return null!=this.message?this.message:"Error"},__class__:wa};var sa=function(a){null==a&&(a="");wa.call(this,a);this.name="ArgumentError"};h["openfl.errors.ArgumentError"]=sa;sa.__name__=["openfl","errors","ArgumentError"];sa.__super__=wa;sa.prototype=q(wa.prototype,{__class__:sa});var fe=function(a){null==a&&(a=
"");wa.call(this,a);this.name="IOError"};h["openfl.errors.IOError"]=fe;fe.__name__=["openfl","errors","IOError"];fe.__super__=wa;fe.prototype=q(wa.prototype,{__class__:fe});var ge=function(){fe.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};h["openfl.errors.EOFError"]=ge;ge.__name__=["openfl","errors","EOFError"];ge.__super__=fe;ge.prototype=q(fe.prototype,{__class__:ge});var Ba=function(a){null==a&&(a="");wa.call(this,a,0);this.name="IllegalOperationError"};h["openfl.errors.IllegalOperationError"]=
Ba;Ba.__name__=["openfl","errors","IllegalOperationError"];Ba.__super__=wa;Ba.prototype=q(wa.prototype,{__class__:Ba});var xd=function(a){null==a&&(a="");wa.call(this,a,0);this.name="RangeError"};h["openfl.errors.RangeError"]=xd;xd.__name__=["openfl","errors","RangeError"];xd.__super__=wa;xd.prototype=q(wa.prototype,{__class__:xd});var Z=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};h["openfl.events.Event"]=Z;Z.__name__=["openfl","events",
"Event"];Z.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},__class__:Z};var he=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);Z.call(this,a,b,c);this.activating=d};
h["openfl.events.ActivityEvent"]=he;he.__name__=["openfl","events","ActivityEvent"];he.__super__=Z;he.prototype=q(Z.prototype,{activating:null,__class__:he});var Fd=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Z.call(this,a,b,c);this.text=d};h["openfl.events.TextEvent"]=Fd;Fd.__name__=["openfl","events","TextEvent"];Fd.__super__=Z;Fd.prototype=q(Z.prototype,{text:null,__class__:Fd});var Uc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Fd.call(this,
a,b,c,d);this.errorID=e};h["openfl.events.ErrorEvent"]=Uc;Uc.__name__=["openfl","events","ErrorEvent"];Uc.__super__=Fd;Uc.prototype=q(Fd.prototype,{errorID:null,__class__:Uc});var Ze=function(a){this.list=a;this.index=a.length};h["openfl.events._EventDispatcher.DispatchIterator"]=Ze;Ze.__name__=["openfl","events","_EventDispatcher","DispatchIterator"];Ze.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.index<this.list.length&&!this.isCopy&&(this.list=this.list.slice(),
this.isCopy=!0)},hasNext:function(){return this.index<this.list.length?!0:this.active=!1},next:function(){return this.list[this.index++]},remove:function(a,b){if(this.active)if(this.isCopy)for(var c=this.index,d=this.list.length;c<d;){var e=c++;if(this.list[e]==a){this.list.splice(e,1);break}}else b<this.index&&this.index--},reset:function(a){this.list=a;this.active=!0;this.index=0},__class__:Ze};var Ye=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};h["openfl.events._EventDispatcher.Listener"]=
Ye;Ye.__name__=["openfl","events","_EventDispatcher","Listener"];Ye.prototype={callback:null,priority:null,useCapture:null,match:function(a,b){return la.compareMethods(this.callback,a)?this.useCapture==b:!1},__class__:Ye};var Me=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);Z.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};h["openfl.events.FocusEvent"]=Me;Me.__name__=["openfl","events","FocusEvent"];Me.__super__=Z;Me.prototype=q(Z.prototype,
{keyCode:null,relatedObject:null,shiftKey:null,__class__:Me});var Ld=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);he.call(this,a,b,c);this.fullScreen=d;this.interactive=e};h["openfl.events.FullScreenEvent"]=Ld;Ld.__name__=["openfl","events","FullScreenEvent"];Ld.__super__=he;Ld.prototype=q(he.prototype,{fullScreen:null,interactive:null,__class__:Ld});var Ne=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);Z.call(this,a,b,c);this.device=d};h["openfl.events.GameInputEvent"]=
Ne;Ne.__name__=["openfl","events","GameInputEvent"];Ne.__super__=Z;Ne.prototype=q(Z.prototype,{device:null,__class__:Ne});var Zf=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);Uc.call(this,a,b,c,d,e)};h["openfl.events.IOErrorEvent"]=Zf;Zf.__name__=["openfl","events","IOErrorEvent"];Zf.__super__=Uc;Zf.prototype=q(Uc.prototype,{__class__:Zf});var Xf=function(a,b,c,d,e,f,g,l,h,k,m){null==m&&(m=!1);null==k&&(k=!1);null==h&&(h=!1);null==l&&(l=!1);null==g&&(g=!1);null==
e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);Z.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=l;this.shiftKey=h;this.controlKey=k;this.commandKey=m};h["openfl.events.KeyboardEvent"]=Xf;Xf.__name__=["openfl","events","KeyboardEvent"];Xf.__super__=Z;Xf.prototype=q(Z.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,__class__:Xf});var ja=function(a,b,c,d,e,f,
g,l,h,k,m,n,p){null==p&&(p=0);null==n&&(n=!1);null==m&&(m=0);null==k&&(k=!1);null==h&&(h=!1);null==l&&(l=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);Z.call(this,a,b,c);this.shiftKey=h;this.altKey=l;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=m;this.localX=d;this.localY=e;this.buttonDown=k;this.commandKey=n;this.clickCount=p;this.stageY=this.stageX=NaN};h["openfl.events.MouseEvent"]=ja;ja.__name__=["openfl","events","MouseEvent"];ja.__create=
function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":ja.__buttonDown=!0;break;case "mouseUp":ja.__buttonDown=!1}a=new ja(a,!0,!1,e.x,e.y,null,ja.__ctrlKey,ja.__altKey,ja.__shiftKey,ja.__buttonDown,g,ja.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};ja.__super__=Z;ja.prototype=q(Z.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,__class__:ja});var Ke=
function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);Z.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};h["openfl.events.ProgressEvent"]=Ke;Ke.__name__=["openfl","events","ProgressEvent"];Ke.__super__=Z;Ke.prototype=q(Z.prototype,{bytesLoaded:null,bytesTotal:null,__class__:Ke});var Kb=function(a,b,c,d,e,f,g,l,h,k,m,n,p,q,r,u,v,w,x,y){null==u&&(u=!1);null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==n&&(n=!1);null==k&&(k=0);null==h&&(h=0);null==l&&(l=0);null==
g&&(g=0);null==f&&(f=0);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);Z.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=l;this.sizeY=h;this.pressure=k;this.relatedObject=m;this.ctrlKey=n;this.altKey=p;this.shiftKey=q;this.commandKey=r;this.controlKey=u;this.stageY=this.stageX=NaN};h["openfl.events.TouchEvent"]=Kb;Kb.__name__=["openfl","events","TouchEvent"];Kb.__create=function(a,b,c,d,e,f){a=new Kb(a,!0,!1,0,!0,e.x,e.y,1,1,1);
a.stageX=c;a.stageY=d;a.target=f;return a};Kb.__super__=Z;Kb.prototype=q(Z.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,__class__:Kb});var Wf=function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!0);Uc.call(this,a,b,c);this.error=d};h["openfl.events.UncaughtErrorEvent"]=Wf;Wf.__name__=["openfl","events","UncaughtErrorEvent"];
Wf.__super__=Uc;Wf.prototype=q(Uc.prototype,{error:null,__class__:Wf});var Tf=function(){pa.call(this)};h["openfl.events.UncaughtErrorEvents"]=Tf;Tf.__name__=["openfl","events","UncaughtErrorEvents"];Tf.__super__=pa;Tf.prototype=q(pa.prototype,{__class__:Tf});var Vc=function(){this.__numPasses=0};h["openfl.filters.BitmapFilter"]=Vc;Vc.__name__=["openfl","filters","BitmapFilter"];Vc.prototype={__cacheObject:null,__numPasses:null,__initShader:function(a,b){return a.shaderManager.defaultShader},__class__:Vc};
var $f=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tsum += texture2D(uImage0, vBlurCoords[0]) * 0.00443;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[1]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[2]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[3]) * 0.39894;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[4]) * 0.24197;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[5]) * 0.05399;\n\t\t\tsum += texture2D(uImage0, vBlurCoords[6]) * 0.00443;\n\t\t\t\n\t\t\tgl_FragColor = sum;\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
nc.call(this);this.get_data().uRadius.value=[0,0]};h["openfl.filters._BlurFilter.BlurShader"]=$f;$f.__name__=["openfl","filters","_BlurFilter","BlurShader"];$f.__super__=nc;$f.prototype=q(nc.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];nc.prototype.__update.call(this)},__class__:$f});var Cd=function(a,b,c){null==c&&(c=1);null==b&&(b=4);null==a&&(a=4);this.__numPasses=0;this.blurX=a;this.blurY=b;
this.set_quality(c)};h["openfl.filters.BlurFilter"]=Cd;Cd.__name__=["openfl","filters","BlurFilter"];Cd.__super__=Vc;Cd.prototype=q(Vc.prototype,{blurX:null,blurY:null,quality:null,horizontalPasses:null,verticalPasses:null,__initShader:function(a,b){var c=Cd.__blurShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;return Cd.__blurShader},
set_quality:function(a){this.horizontalPasses=0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:Cd,__properties__:{set_quality:"set_quality"}});var ag=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvec4 color = texture2D (uImage0, vTexCoord);\n\t\t\t\n\t\t\tif (color.a == 0.0) {\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * vAlpha, color.a * vAlpha);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}");
nc.call(this);this.get_data().uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.get_data().uOffsets.value=[0,0,0,0]};h["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=ag;ag.__name__=["openfl","filters","_ColorMatrixFilter","ColorMatrixShader"];ag.__super__=nc;ag.prototype=q(nc.prototype,{init:function(a){var b=this.get_data().uMultipliers.value,c=this.get_data().uOffsets.value;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[5];b[5]=a[6];b[6]=a[7];b[7]=a[8];b[8]=a[10];b[9]=a[11];b[10]=
a[12];b[11]=a[13];b[12]=a[15];b[13]=a[16];b[14]=a[17];b[15]=a[18];c[0]=a[4]/255;c[1]=a[9]/255;c[2]=a[14]/255;c[3]=a[19]/255},__class__:ag});var Dd=function(a){this.__numPasses=0;this.set_matrix(a);this.__numPasses=0};h["openfl.filters.ColorMatrixFilter"]=Dd;Dd.__name__=["openfl","filters","ColorMatrixFilter"];Dd.__super__=Vc;Dd.prototype=q(Vc.prototype,{matrix:null,__initShader:function(a,b){Dd.__colorMatrixShader.init(this.matrix);return Dd.__colorMatrixShader},set_matrix:function(a){null==a&&(a=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);return this.matrix=a},__class__:Dd,__properties__:{set_matrix:"set_matrix"}});var Cf=function(a,b,c,d,e,f,g,l,h,k,m){null==m&&(m=!1);null==k&&(k=!1);null==h&&(h=!1);null==l&&(l=1);null==g&&(g=1);null==f&&(f=4);null==e&&(e=4);null==d&&(d=1);null==c&&(c=0);null==b&&(b=45);null==a&&(a=4);this.__numPasses=0;this.distance=a;this.angle=b;this.color=c;this.alpha=d;this.blurX=e;this.blurY=f;this.strength=g;this.set_quality(l);this.inner=h;this.set_knockout(k);this.set_hideObject(m)};
h["openfl.filters.DropShadowFilter"]=Cf;Cf.__name__=["openfl","filters","DropShadowFilter"];Cf.__super__=Vc;Cf.prototype=q(Vc.prototype,{alpha:null,angle:null,blurX:null,blurY:null,color:null,distance:null,hideObject:null,inner:null,knockout:null,quality:null,strength:null,set_knockout:function(a){return this.knockout=a},set_hideObject:function(a){return this.hideObject=a},set_quality:function(a){return this.quality=a},__class__:Cf,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",
set_hideObject:"set_hideObject"}});var bg=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform sampler2D uImage0;\n\t\t\n\t\tuniform vec4 uColor;\n\t\t\n\t\tvarying vec2 vBlurCoords[7];\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tfloat a = 0.0;\n\t\t\ta += texture2D(uImage0, vBlurCoords[0]).a * 0.00443;\n\t\t\ta += texture2D(uImage0, vBlurCoords[1]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[2]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[3]).a * 0.39894;\n\t\t\ta += texture2D(uImage0, vBlurCoords[4]).a * 0.24197;\n\t\t\ta += texture2D(uImage0, vBlurCoords[5]).a * 0.05399;\n\t\t\ta += texture2D(uImage0, vBlurCoords[6]).a * 0.00443;\n\t\t\ta *= uColor.a;\n\t\t\t\n\t\t\tgl_FragColor = vec4(uColor.rgb * a, a);\n\t\t\t\n\t\t}");
null==this.__glVertexSource&&(this.__glVertexSource="attribute float aAlpha;\n\t\tattribute vec4 aPosition;\n\t\tattribute vec2 aTexCoord;\n\t\tvarying float vAlpha;\n\t\tvarying vec2 vTexCoord;\n\t\t\n\t\tuniform mat4 uMatrix;\n\t\t\n\t\tuniform vec2 uRadius;\n\t\tvarying vec2 vBlurCoords[7];\n\t\tuniform vec2 uTextureSize;\n\t\t\n\t\tvoid main(void) {\n\t\t\t\n\t\t\tvAlpha = aAlpha;\n\t\t\tvTexCoord = aTexCoord;\n\t\t\tgl_Position = uMatrix * aPosition;\n\t\t\t\n\t\t\tvec2 r = uRadius / uTextureSize;\n\t\t\tvBlurCoords[0] = aTexCoord - r * 1.0;\n\t\t\tvBlurCoords[1] = aTexCoord - r * 0.75;\n\t\t\tvBlurCoords[2] = aTexCoord - r * 0.5;\n\t\t\tvBlurCoords[3] = aTexCoord;\n\t\t\tvBlurCoords[4] = aTexCoord + r * 0.5;\n\t\t\tvBlurCoords[5] = aTexCoord + r * 0.75;\n\t\t\tvBlurCoords[6] = aTexCoord + r * 1.0;\n\t\t\t\n\t\t}");
nc.call(this);this.get_data().uRadius.value=[0,0];this.get_data().uColor.value=[0,0,0,0]};h["openfl.filters._GlowFilter.GlowShader"]=bg;bg.__name__=["openfl","filters","_GlowFilter","GlowShader"];bg.__super__=nc;bg.prototype=q(nc.prototype,{__update:function(){var a=this.get_data().uImage0.input.width;this.get_data().uTextureSize.value=[a,this.get_data().uImage0.input.height];nc.prototype.__update.call(this)},__class__:bg});var Ed=function(a,b,c,d,e,f,g,l){null==l&&(l=!1);null==g&&(g=!1);null==f&&
(f=1);null==e&&(e=2);null==d&&(d=6);null==c&&(c=6);null==b&&(b=1);null==a&&(a=16711680);this.__numPasses=0;this.color=a;this.alpha=b;this.blurX=c;this.blurY=d;this.strength=e;this.set_quality(f);this.inner=g;this.set_knockout(l);this.__cacheObject=!0};h["openfl.filters.GlowFilter"]=Ed;Ed.__name__=["openfl","filters","GlowFilter"];Ed.__super__=Vc;Ed.prototype=q(Vc.prototype,{alpha:null,blurX:null,blurY:null,color:null,inner:null,knockout:null,quality:null,strength:null,horizontalPasses:null,verticalPasses:null,
__initShader:function(a,b){var c=Ed.__glowShader.get_data();if(b<=this.horizontalPasses){var d=Math.pow(.5,b>>1);c.uRadius.value[0]=this.blurX*d;c.uRadius.value[1]=0}else d=Math.pow(.5,b-this.horizontalPasses>>1),c.uRadius.value[0]=0,c.uRadius.value[1]=this.blurY*d;c.uColor.value[0]=(this.color>>16&255)/255;c.uColor.value[1]=(this.color>>8&255)/255;c.uColor.value[2]=(this.color&255)/255;c.uColor.value[3]=this.alpha;return Ed.__glowShader},set_knockout:function(a){return this.knockout=a},set_quality:function(a){this.horizontalPasses=
0>=this.blurX?0:Math.round(a/4*this.blurX)+1;this.verticalPasses=0>=this.blurY?0:Math.round(a/4*this.blurY)+1;this.__numPasses=this.horizontalPasses+this.verticalPasses;return this.quality=a},__class__:Ed,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var vg=function(a){this.__colorTransform=new Eb;this.concatenatedColorTransform=new Eb;this.pixelBounds=new O;this.__displayObject=a;this.__hasMatrix=!0};h["openfl.geom.Transform"]=vg;vg.__name__=["openfl","geom","Transform"];
vg.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(a){this.__colorTransform.__equals(a)||(this.__colorTransform=a,null!=a&&this.__displayObject.set_alpha(a.alphaMultiplier),a=this.__displayObject,a.__renderDirty||(a.__renderDirty=!0,L.__worldRenderDirty++));return this.__colorTransform},set_matrix:function(a){if(null==a)return this.__hasMatrix=
!1,null;this.__hasMatrix=!0;this.__hasMatrix3D=!1;if(null!=this.__displayObject){var b=180/Math.PI*Math.atan2(a.d,a.c)-90;b!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=b,b*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(b),this.__displayObject.__rotationCosine=Math.cos(b));this.__displayObject.__transform.copyFrom(a);b=this.__displayObject;b.__transformDirty||(b.__transformDirty=!0,L.__worldTransformDirty++)}return a},__class__:vg,__properties__:{set_matrix:"set_matrix",
set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var oi=function(){};h["openfl.media.ID3Info"]=oi;oi.__name__=["openfl","media","ID3Info"];var ld=function(a,b){pa.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};h["openfl.media.Sound"]=ld;ld.__name__=["openfl","media","Sound"];ld.fromAudioBuffer=function(a){var b=new ld;b.__buffer=a;return b};ld.fromFile=function(a){return ld.fromAudioBuffer(zb.fromFile(a))};
ld.__super__=pa;ld.prototype=q(pa.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,load:function(a,b){var c=this;this.url=a.url;var d=va.getLibrary("default"),e;if(null!=d){e=this.url;var f=d.cachedAudioBuffers;e=null!=m[e]?f.existsReserved(e):f.h.hasOwnProperty(e)}else e=!1;if(e)e=this.url,d=d.cachedAudioBuffers,this.AudioBuffer_onURLLoad(null!=m[e]?d.getReserved(e):d.h[e]);else zb.loadFromFile(this.url).onComplete(p(this,this.AudioBuffer_onURLLoad)).onError(function(a){c.AudioBuffer_onURLLoad(null)})},
play:function(a,b,c){null==b&&(b=0);null==a&&(a=0);if(32<=pc.__soundChannels.length)return null;c=null==c?new ie:c.clone();var d=pc.__soundTransform.pan+c.pan;1<d&&(d=1);-1>d&&(d=-1);var e=pc.__soundTransform.volume*c.volume,f=new Qg(this.__buffer);f.offset=a|0;1<b&&f.set_loops(b-1);f.set_gain(e);a=f.get_position();a.x=d;a.z=-1*Math.sqrt(1-Math.pow(d,2));f.set_position(a);return new cg(f,c)},AudioBuffer_onURLLoad:function(a){null==a?this.dispatchEvent(new Zf("ioError")):(this.__buffer=a,this.dispatchEvent(new Z("complete")))},
__class__:ld});var cg=function(a,b){pa.call(this,this);this.rightPeak=this.leftPeak=1;this.__soundTransform=null!=b?b:new ie;null!=a&&(this.__source=a,this.__source.onComplete.add(p(this,this.source_onComplete)),this.__isValid=!0,this.__source.play());pc.__registerSoundChannel(this)};h["openfl.media.SoundChannel"]=cg;cg.__name__=["openfl","media","SoundChannel"];cg.__super__=pa;cg.prototype=q(pa.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){pc.__unregisterSoundChannel(this);
this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.dispose(),this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(a){if(!this.__isValid)return 0;this.__source.set_currentTime((a|0)-this.__source.offset);return a},get_soundTransform:function(){return this.__soundTransform.clone()},
set_soundTransform:function(a){if(null!=a){this.__soundTransform.pan=a.pan;this.__soundTransform.volume=a.volume;var b=pc.__soundTransform.pan+this.__soundTransform.pan;-1>b&&(b=-1);1<b&&(b=1);var c=pc.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(c),c=this.__source.get_position(),c.x=b,c.z=-1*Math.sqrt(1-Math.pow(b,2)),this.__source.set_position(c))}return a},source_onComplete:function(){pc.__unregisterSoundChannel(this);this.__dispose();this.dispatchEvent(new Z("soundComplete"))},
__class__:cg,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var pi=function(){};h["openfl.media.SoundLoaderContext"]=pi;pi.__name__=["openfl","media","SoundLoaderContext"];var ie=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};h["openfl.media.SoundTransform"]=ie;ie.__name__=["openfl","media","SoundTransform"];
ie.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new ie(this.volume,this.pan)},__class__:ie};var pc=function(){};h["openfl.media.SoundMixer"]=pc;pc.__name__=["openfl","media","SoundMixer"];pc.__registerSoundChannel=function(a){pc.__soundChannels.push(a)};pc.__unregisterSoundChannel=function(a){I.remove(pc.__soundChannels,a)};var Zh=function(){};h["openfl.net.URLRequest"]=Zh;Zh.__name__=["openfl","net","URLRequest"];Zh.prototype=
{url:null,__class__:Zh};var ae=function(a){this.parentDomain=null!=a?a:ae.currentDomain};h["openfl.system.ApplicationDomain"]=ae;ae.__name__=["openfl","system","ApplicationDomain"];ae.prototype={parentDomain:null,__class__:ae};var Zc=function(){};h["openfl.system.Capabilities"]=Zc;Zc.__name__=["openfl","system","Capabilities"];Zc.__properties__={get_version:"get_version"};Zc.get_version=function(){var a;return a="WEB"+(" "+ba.replace("4.5.2",".",",")+",0")};var ue=function(){};h["openfl.system.System"]=
ue;ue.__name__=["openfl","system","System"];ue.__properties__={get_totalMemory:"get_totalMemory"};ue.gc=function(){};ue.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0};var Gd={};h["openfl.text._FontStyle.FontStyle_Impl_"]=Gd;Gd.__name__=["openfl","text","_FontStyle","FontStyle_Impl_"];Gd.fromString=function(a){switch(a){case "bold":return 0;case "boldItalic":return 1;case "italic":return 2;case "regular":return 3;default:return null}};
Gd.toString=function(a){switch(a){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var oc=function(){Qa.call(this);this.__caretIndex=-1;this.__displayAsPassword=!1;this.__graphics=new pe(this);this.__textEngine=new Ya(this);this.__layoutDirty=!0;this.__offsetY=this.__offsetX=0;this.__mouseWheelEnabled=this.__tabEnabled=!0;this.__text="";null==oc.__defaultTextFormat&&(oc.__defaultTextFormat=new od("Times New Roman",12,0,!1,!1,!1,"","",
3,0,0,0,0),oc.__defaultTextFormat.blockIndent=0,oc.__defaultTextFormat.bullet=!1,oc.__defaultTextFormat.letterSpacing=0,oc.__defaultTextFormat.kerning=!1);this.__textFormat=oc.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new fh(this.__textFormat,0,0));this.addEventListener("mouseDown",p(this,this.this_onMouseDown))};h["openfl.text.TextField"]=oc;oc.__name__=["openfl","text","TextField"];oc.__super__=Qa;oc.prototype=q(Qa.prototype,{__caretIndex:null,__cursorTimer:null,__dirty:null,
__displayAsPassword:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__symbol:null,__text:null,__textEngine:null,__textFormat:null,__div:null,getCharBoundaries:function(a){if(0>a||a>this.__text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.get_length();){var d=c.get(b);++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<
e;)var f=c++,b=b+d.advances[f];return new O(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},__updateTransforms:function(a){Qa.prototype.__updateTransforms.call(this,a);a=this.__renderTransform;var b=this.__offsetX,c=this.__offsetY;a.tx=b*a.a+c*a.c+a.tx;a.ty=b*a.b+c*a.d+a.ty},__fromSymbol:function(a,b){this.__symbol=b;this.set_width(b.width);this.set_height(b.height);this.__offsetX=b.x;this.__offsetY=b.y;this.set_multiline(b.multiline);this.set_wordWrap(b.wordWrap);this.set_displayAsPassword(b.password);
b.border&&(this.set_border(!0),this.set_background(!0));this.set_selectable(b.selectable);b.input&&this.set_type(1);var c=new od;null!=b.color&&(c.color=b.color&16777215);c.size=Math.round(b.fontHeight/20);c.font=b.fontName;var d=!1,e=c.font;if(null==e)d=!0;else switch(e){case "":case "_sans":case "_serif":case "_typewriter":d=!0;break;default:for(var e=0,f=Qb.enumerateFonts();e<f.length;){var g=f[e];++e;if(g.name==c.font){d=!0;break}}}d?this.set_embedFonts(!0):lc.warn('Could not find required font "'+
c.font+'", it has not been embedded',{fileName:"TextField.hx",lineNumber:668,className:"openfl.text.TextField",methodName:"__fromSymbol"});null!=b.align&&("center"==b.align?c.align=0:"right"==b.align?c.align=4:"justify"==b.align&&(c.align=2),c.leftMargin=b.leftMargin/20|0,c.rightMargin=b.rightMargin/20|0,c.indent=b.indent/20|0,c.leading=b.leading/20|0,this.get_embedFonts()&&(c.leading+=4));this.set_defaultTextFormat(c);null!=b.text&&(b.html?this.set_htmlText(b.text):this.set_text(b.text))},__getBounds:function(a,
b){this.__updateLayout();var c=O.__temp;c.copyFrom(this.__textEngine.bounds);c.x+=this.__offsetX;c.y+=this.__offsetY;c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCursor:function(){return this.__textEngine.selectable?U.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights.get(e)}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,f,e=0,g=this.__textEngine.layoutGroups.get_length();e<
g;)if(f=e++,c=this.__textEngine.layoutGroups.get(f),f=f<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(f+1):null,d&&(b<c.offsetY&&(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==f)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==f||f.lineIndex!=c.lineIndex){e=d=0;for(g=c.advances.length;e<g;)if(f=e++,d+=c.advances[f],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[f])+c.advances[f]/2)return c.startIndex+f;if(c.startIndex+f<c.endIndex)return c.startIndex+
f+1;break}return c.endIndex}return this.__text.length},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getRenderTransform();this.__updateLayout();c=this.__renderTransform;e=c.a*c.d-c.b*c.c;var g=this.__renderTransform,l=g.a*g.d-g.b*g.c;return this.__textEngine.bounds.contains(0==e?-c.tx:1/e*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==l?-g.ty:1/l*(g.a*(b-g.ty)+g.b*(g.tx-a)))?(null!=d&&d.push(f),
!0):!1},__hitTestMask:function(a,b){this.__getRenderTransform();this.__updateLayout();var c=this.__renderTransform,d=c.a*c.d-c.b*c.c,e=this.__renderTransform,f=e.a*e.d-e.b*e.c;return this.__textEngine.bounds.contains(0==d?-c.tx:1/d*(c.c*(c.ty-b)+c.d*(a-c.tx)),0==f?-e.ty:1/f*(e.a*(b-e.ty)+e.b*(e.tx-a)))?!0:!1},__renderCairo:function(a){Ph.render(this,a,this.__worldTransform);Qa.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&
(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new O),d.__bounds.copyFrom(c));d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),
this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));M.context=d.__context;d.__canvas.width=e;d.__canvas.height=f;e=d.__renderTransform;a.roundPixels?M.context.setTransform(e.a,e.b,e.c,e.d,e.tx|0,e.ty|0):M.context.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=
!0,d.__context.msImageSmoothingEnabled=!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)M.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=ba.hex(b.backgroundColor,6),M.context.fillStyle="#"+c,M.context.fill()),b.border&&(M.context.lineWidth=1,c=ba.hex(b.borderColor,6),M.context.strokeStyle="#"+c,M.context.stroke());M.context.textBaseline="top";M.context.textAlign="start";for(var c=-this.get_scrollH(),g=f=0,l=this.get_scrollV()-1;g<l;)var h=g++,f=f-b.lineHeights.get(h);
for(var k,g=0,l=(new Rb("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),h=0,m=b.layoutGroups;h<m.get_length();){var n=m.get(h);++h;if(!(n.lineIndex<this.get_scrollV()-1)){if(n.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;M.context.font=Ya.getFont(n.format);k=ba.hex(n.format.color,6);M.context.fillStyle="#"+k;l&&(g=.185*n.format.size);M.context.fillText(e.substring(n.startIndex,n.endIndex),n.offsetX+c,n.offsetY+g+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==
this.__caretIndex){if(this.__showCursor&&n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex){for(var p=k=0,q=this.__caretIndex-n.startIndex;p<q;){var r=p++;if(n.advances.length<=r)break;k+=n.advances[r]}M.context.fillRect(n.offsetX+k,n.offsetY,1,n.height)}}else if(n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex||n.startIndex<=this.__selectionIndex&&n.endIndex>=this.__selectionIndex)k=Math.min(this.__selectionIndex,this.__caretIndex)|0,p=Math.max(this.__selectionIndex,this.__caretIndex)|
0,n.startIndex>k&&(k=n.startIndex),n.endIndex<p&&(p=n.endIndex),q=this.getCharBoundaries(k),p>=b.text.length?(r=this.getCharBoundaries(b.text.length-1),r.x+=r.width+2):r=this.getCharBoundaries(p),null!=q&&null!=r&&(M.context.fillStyle="#000000",M.context.fillRect(q.x,q.y,r.x-q.x,n.height),M.context.fillStyle="#FFFFFF",M.context.fillText(e.substring(k,p),c+q.x,n.offsetY+g+f))}}}else{if(b.border||b.background)b.border?M.context.rect(.5,.5,c.width-1,c.height-1):M.context.rect(0,0,c.width,c.height),b.background&&
(e=ba.hex(b.backgroundColor,6),M.context.fillStyle="#"+e,M.context.fill()),b.border&&(M.context.lineWidth=1,M.context.lineCap="square",e=ba.hex(b.borderColor,6),M.context.strokeStyle="#"+e,M.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(g=this.get_scrollV()-1;f<g;)l=f++,c-=b.lineHeights.get(l);M.context.beginPath();b=ba.hex(this.get_defaultTextFormat().color,6);M.context.strokeStyle="#"+b;M.context.moveTo(e+2.5,c+2.5);M.context.lineWidth=
1;M.context.lineTo(e+2.5,c+Ya.getFormatHeight(this.get_defaultTextFormat())-1);M.context.stroke();M.context.closePath()}}d.__bitmap=La.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){if(d=a.context.imageSmoothingEnabled)a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1;Qa.prototype.__renderCanvas.call(this,a);d&&(a.context.mozImageSmoothingEnabled=
!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else Qa.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){var b=this,c=b.__textEngine;if(null!=b.stage&&b.__worldVisible&&b.__renderable){if(b.__dirty||null==b.__div)if(""!=c.text||c.background||c.border||1==c.type){null==b.__div&&(b.__div=window.document.createElement("div"),yb.initializeElement(b,b.__div,a),b.__style.setProperty("outline","none",null),b.__div.addEventListener("input",function(a){a.preventDefault();
b.get_htmlText()!=b.__div.innerHTML&&(b.set_htmlText(b.__div.innerHTML),b.__dirty=!1)},!0));c.multiline?b.__style.setProperty("word-wrap","break-word",null):b.__style.setProperty("white-space","nowrap",null);b.__style.setProperty("overflow","hidden",null);c.selectable?b.__style.setProperty("cursor","text",null):b.__style.setProperty("cursor","inherit",null);b.__div.contentEditable=1==c.type;var d=b.__style,e=c.text.replace(RegExp("\n","g"),"<br>");b.__div.innerHTML=e;c.background?d.setProperty("background-color",
"#"+ba.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+ba.hex(c.borderColor,6),null):d.removeProperty("border");d.setProperty("font",Ya.getFont(b.__textFormat),null);d.setProperty("color","#"+ba.hex(b.__textFormat.color,6),null);2!=c.autoSize?d.setProperty("width","auto",null):d.setProperty("width",c.width+"px",null);d.setProperty("height",c.height+"px",null);switch(b.__textFormat.align){case 0:d.setProperty("text-align","center",null);
break;case 4:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}b.__dirty=!1}else null!=b.__div&&(a.element.removeChild(b.__div),b.__div=null);null!=b.__div&&(yb.updateClip(b,a),yb.applyStyle(b,a,!0,!0,!0))}else null!=b.__div&&(a.element.removeChild(b.__div),b.__div=null,b.__style=null)},__renderGL:function(a){var b=this.__textEngine,c=b.bounds,d=this.__graphics;this.__dirty&&(this.__updateLayout(),null==d.__bounds&&(d.__bounds=new O),d.__bounds.copyFrom(c));
d.__update();if(this.__dirty||d.__dirty){var e=d.__width,f=d.__height;if(!(null!=b.text&&""!=b.text||b.background||b.border||b.__hasFocus||1==b.type&&b.selectable)||(0>=b.width||0>=b.height)&&2!=b.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.__bitmap=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{null==this.__graphics.__canvas&&(this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"));
M.context=d.__context;d.__canvas.width=e;d.__canvas.height=f;e=d.__renderTransform;a.roundPixels?M.context.setTransform(e.a,e.b,e.c,e.d,e.tx|0,e.ty|0):M.context.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty);if(null!=b.text&&""!=b.text||b.__hasFocus){e=b.text;!a.allowSmoothing||0==b.antiAliasType&&400==b.sharpness?(d.__context.mozImageSmoothingEnabled=!1,d.__context.msImageSmoothingEnabled=!1,d.__context.imageSmoothingEnabled=!1):(d.__context.mozImageSmoothingEnabled=!0,d.__context.msImageSmoothingEnabled=
!0,d.__context.imageSmoothingEnabled=!0);if(b.border||b.background)M.context.rect(.5,.5,c.width-1,c.height-1),b.background&&(c=ba.hex(b.backgroundColor,6),M.context.fillStyle="#"+c,M.context.fill()),b.border&&(M.context.lineWidth=1,c=ba.hex(b.borderColor,6),M.context.strokeStyle="#"+c,M.context.stroke());M.context.textBaseline="top";M.context.textAlign="start";for(var c=-this.get_scrollH(),g=f=0,l=this.get_scrollV()-1;g<l;)var h=g++,f=f-b.lineHeights.get(h);for(var k,g=0,l=(new Rb("(iPad|iPhone|iPod|Firefox)",
"g")).match(window.navigator.userAgent),h=0,m=b.layoutGroups;h<m.get_length();){var n=m.get(h);++h;if(!(n.lineIndex<this.get_scrollV()-1)){if(n.lineIndex>this.get_scrollV()+b.bottomScrollV-2)break;M.context.font=Ya.getFont(n.format);k=ba.hex(n.format.color,6);M.context.fillStyle="#"+k;l&&(g=.185*n.format.size);M.context.fillText(e.substring(n.startIndex,n.endIndex),n.offsetX+c,n.offsetY+g+f);if(-1<this.__caretIndex&&b.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&n.startIndex<=
this.__caretIndex&&n.endIndex>=this.__caretIndex){for(var p=k=0,q=this.__caretIndex-n.startIndex;p<q;){var r=p++;if(n.advances.length<=r)break;k+=n.advances[r]}M.context.fillRect(n.offsetX+k,n.offsetY,1,n.height)}}else if(n.startIndex<=this.__caretIndex&&n.endIndex>=this.__caretIndex||n.startIndex<=this.__selectionIndex&&n.endIndex>=this.__selectionIndex)k=Math.min(this.__selectionIndex,this.__caretIndex)|0,p=Math.max(this.__selectionIndex,this.__caretIndex)|0,n.startIndex>k&&(k=n.startIndex),n.endIndex<
p&&(p=n.endIndex),q=this.getCharBoundaries(k),p>=b.text.length?(r=this.getCharBoundaries(b.text.length-1),r.x+=r.width+2):r=this.getCharBoundaries(p),null!=q&&null!=r&&(M.context.fillStyle="#000000",M.context.fillRect(q.x,q.y,r.x-q.x,n.height),M.context.fillStyle="#FFFFFF",M.context.fillText(e.substring(k,p),c+q.x,n.offsetY+g+f))}}}else{if(b.border||b.background)b.border?M.context.rect(.5,.5,c.width-1,c.height-1):M.context.rect(0,0,c.width,c.height),b.background&&(e=ba.hex(b.backgroundColor,6),M.context.fillStyle=
"#"+e,M.context.fill()),b.border&&(M.context.lineWidth=1,M.context.lineCap="square",e=ba.hex(b.borderColor,6),M.context.strokeStyle="#"+e,M.context.stroke());if(-1<this.__caretIndex&&b.selectable&&this.__showCursor){e=-this.get_scrollH();f=c=0;for(g=this.get_scrollV()-1;f<g;)l=f++,c-=b.lineHeights.get(l);M.context.beginPath();b=ba.hex(this.get_defaultTextFormat().color,6);M.context.strokeStyle="#"+b;M.context.moveTo(e+2.5,c+2.5);M.context.lineWidth=1;M.context.lineTo(e+2.5,c+Ya.getFormatHeight(this.get_defaultTextFormat())-
1);M.context.stroke();M.context.closePath()}}d.__bitmap=La.fromCanvas(this.__graphics.__canvas);d.__visible=!0;this.__dirty=!1;d.set___dirty(!1)}}Qa.prototype.__renderGL.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=vc.delay(p(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length)},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),
this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){},__updateLayout:function(){if(this.__layoutDirty){var a=this.__textEngine.width;this.__textEngine.update();if(2!=this.__textEngine.autoSize){if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(a-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},__updateText:function(a){this.__text=
a;this.__text.length<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length);this.__textEngine.text=this.__text},set_antiAliasType:function(a){return this.__textEngine.antiAliasType=a},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_background:function(a){a!=this.__textEngine.background&&(this.__dirty=!0);return this.__textEngine.background=a},set_backgroundColor:function(a){a!=this.__textEngine.backgroundColor&&
(this.__dirty=!0);return this.__textEngine.backgroundColor=a},set_border:function(a){a!=this.__textEngine.border&&(this.__dirty=!0);return this.__textEngine.border=a},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},set_displayAsPassword:function(a){a!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__displayAsPassword=a,this.__updateText(this.__text));return a},
get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(a){a!=this.__textEngine.height&&(this.__transformDirty||(this.__transformDirty=!0,L.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.height=a);return this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__text},
set_htmlText:function(a){this.__isHTML&&this.__text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;this.__updateText(a);return a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&
1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},get_text:function(){return this.__text},set_text:function(a){if(this.__isHTML||this.__text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.get_length()&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.get_length()-1);var b=this.__textEngine.textFormatRanges.get(0);b.format=
this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;this.__updateText(a);return a},get_textWidth:function(){this.__updateLayout();return this.__textEngine.textWidth},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",p(this,this.this_onFocusIn)),this.addEventListener("focusOut",p(this,this.this_onFocusOut)),this.addEventListener("addedToStage",
p(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",p(this,this.this_onFocusIn)),this.removeEventListener("focusOut",p(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",p(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0);return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width*Math.abs(this.get_scaleX())},set_width:function(a){a!=this.__textEngine.width&&(this.__transformDirty||
(this.__transformDirty=!0,L.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0,this.__textEngine.width=a);return this.__textEngine.width*Math.abs(this.get_scaleX())},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&
(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",p(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",p(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.get_x();this.get_y();this.get_x();this.get_y();var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Math.min(this.__selectionIndex,b)|0;b=Math.max(this.__selectionIndex,
b)|0;this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=
this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener("mouseMove",p(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",p(this,this.stage_onMouseUp)))},__class__:oc,__properties__:q(Qa.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",
get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",set_border:"set_border",set_backgroundColor:"set_backgroundColor",set_background:"set_background",set_autoSize:"set_autoSize",set_antiAliasType:"set_antiAliasType"})});
var od=function(a,b,c,d,e,f,g,l,h,k,n,m,p){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=l;this.align=h;this.leftMargin=k;this.rightMargin=n;this.indent=m;this.leading=p};h["openfl.text.TextFormat"]=od;od.__name__=["openfl","text","TextFormat"];od.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,
target:null,underline:null,url:null,clone:function(){var a=new od(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=
a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);
null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:od};var $h={};h["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=$h;$h.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"];$h.fromString=function(a){switch(a){case "center":return 0;case "end":return 1;case "justify":return 2;case "left":return 3;case "right":return 4;case "start":return 5;
default:return null}};var Fa=function(){};h["openfl.ui.GameInput"]=Fa;Fa.__name__=["openfl","ui","GameInput"];Fa.__getDevice=function(a){if(null==a)return null;if(null==Fa.__devices.h.__keys__[a.__id__]){var b=nb.__getDeviceData()[a.id].id,c=nb.__getDeviceData(),b=new lh(b,c[a.id].id);Fa.__deviceList.push(b);Fa.__devices.set(a,b);Fa.numDevices=Fa.__deviceList.length}return Fa.__devices.h[a.__id__]};Fa.__onGamepadAxisMove=function(a,b,c){a=Fa.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new pd(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new Z("change"))}};Fa.__onGamepadButtonDown=function(a,b){var c=Fa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d=
"X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new pd(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new Z("change"))}};Fa.__onGamepadButtonUp=
function(a,b){var c=Fa.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+
b+")"}d=new pd(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new Z("change"))}};Fa.__onGamepadConnect=function(a){a=Fa.__getDevice(a);if(null!=a)for(var b=0,c=Fa.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Ne("deviceAdded",null,null,a))}};Fa.__onGamepadDisconnect=function(a){var b=Fa.__devices.h[a.__id__];if(null!=b){null!=Fa.__devices.h.__keys__[a.__id__]&&(I.remove(Fa.__deviceList,Fa.__devices.h[a.__id__]),Fa.__devices.remove(a));
Fa.numDevices=Fa.__deviceList.length;a=0;for(var c=Fa.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Ne("deviceRemoved",null,null,b))}}};Fa.__super__=pa;Fa.prototype=q(pa.prototype,{__class__:Fa});var pd=function(a,b,c,d,e){null==e&&(e=0);pa.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};h["openfl.ui.GameInputControl"]=pd;pd.__name__=["openfl","ui","GameInputControl"];pd.__super__=pa;pd.prototype=q(pa.prototype,{device:null,id:null,maxValue:null,minValue:null,
value:null,__class__:pd});var lh=function(a,b){this.__controls=[];this.__button=new Ib;this.__axis=new Ib;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new pd(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new pd(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};h["openfl.ui.GameInputDevice"]=lh;lh.__name__=["openfl","ui","GameInputDevice"];lh.prototype={enabled:null,id:null,name:null,__axis:null,__button:null,__controls:null,__class__:lh};
var Vh=function(){};h["openfl.ui.Keyboard"]=Vh;Vh.__name__=["openfl","ui","Keyboard"];Vh.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;
case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 8:return 8;case 13:return 13;
case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0};var Wh=function(){};h["openfl.ui.Mouse"]=Wh;Wh.__name__=["openfl","ui","Mouse"];var je=function(){};h["openfl.ui.Multitouch"]=je;je.__name__=["openfl","ui","Multitouch"];var dg=function(a){this.__r=new T;this.__cur=new Qf};h["openfl.utils.AGALMiniAssembler"]=dg;dg.__name__=["openfl","utils","AGALMiniAssembler"];dg.prototype={agalcode:null,__cur:null,__r:null,assemble:function(a,
b){var c=new dg,d=null;switch(a){case 0:c.__assemble("part fragment 1 \n"+b+"endpart");d=c.__r.get("fragment").data;break;case 1:c.__assemble("part vertex 1 \n"+b+"endpart");d=c.__r.get("vertex").data;break;default:throw new n("Unknown Context3DProgramType");}return this.agalcode=d},__addHeader:function(a,b){0==b&&(b=1);var c=this.__r;if(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a)){if(c=this.__r,(null!=m[a]?c.getReserved(a):c.h[a]).version!=(b|0))throw new n("Multiple versions for part "+
a);}else{var c=this.__r,d=new Qf(a,b);null!=m[a]?c.setReserved(a,d):c.h[a]=d;c=this.__r;this.__emitHeader(null!=m[a]?c.getReserved(a):c.h[a])}c=this.__r;this.__cur=null!=m[a]?c.getReserved(a):c.h[a]},__assemble:function(a,b,c){0==c&&(c=1);null!=b&&this.__addHeader(b,c);a=(new Rb("[\n\r]+","g")).split(a);b=0;for(c=a.length;b<c;){var d=b++;this.__processLine(a[d],d)}return this.__r},__emitDest:function(a,b,c){b=this.__getGroupMatches(new Rb("([fov]?[tpocidavs])(\\d*)(\\.[xyzw]{1,4})?","i"),b,3);c=kb.get_map();
var d=b[1];if(null==(null!=m[d]?c.getReserved(d):c.h[d]))return!1;null==E.parseInt(b[2])&&(b[2]="0");c=null!=b[2]?b[2]:"0";var d=kb.get_map(),e=b[1],d=(null!=m[e]?d.getReserved(e):d.h[e]).code;b=this.__stringToMask(b[3]);a.data.writeShort(E.parseInt(c));a.data.writeByte(b);a.data.writeByte(d);return!0},__emitHeader:function(a){a.data.writeByte(160);a.data.writeUnsignedInt(a.version);16<=a.version&&a.data.writeByte(0);a.data.writeByte(161);switch(a.name){case "cpu":a.data.writeByte(2);break;case "fragment":a.data.writeByte(1);
break;case "vertex":a.data.writeByte(0);break;default:a.data.writeByte(255)}},__emitOpcode:function(a,b){a.data.writeUnsignedInt(b)},__emitSampler:function(a,b,c,d){b=this.__getGroupMatches(new Rb("fs(\\d*)","i"),b,1);if(1>b.length)return!1;a.data.writeShort(E.parseInt(b[1]));a.data.writeByte(0);a.data.writeByte(0);b=5;for(var e=c=0,f=d.length;e<f;){var g=e++,l=eb.get_map(),g=d[g].toLowerCase(),l=null!=m[g]?l.getReserved(g):l.h[g];null!=l&&(0!=(c>>>l.shift&l.mask)&&hb.trace("Warning, duplicate sampler option",
{fileName:"AGALMiniAssembler.hx",lineNumber:209,className:"openfl.utils.AGALMiniAssembler",methodName:"__emitSampler"}),c|=l.mask<<l.shift,b&=~(l.mask<<l.shift),b|=l.value<<l.shift)}a.data.writeUnsignedInt(b);return!0},__emitSource:function(a,b,c){c=this.__getGroupMatches(new Rb("vc\\[(v[tcai])(\\d+)\\.([xyzw])([\\+\\-]\\d+)?\\](\\.[xyzw]{1,4})?","i"),b,5);if(0<c.length){b=kb.get_map();var d=c[1];if(null==(null!=m[d]?b.getReserved(d):b.h[d]))return!1;b=E.parseInt(c[2])|0;var d=kb.get_map(),e=c[1],
d=(null!=m[e]?d.getReserved(e):d.h[e]).code,e=this.__stringToSwizzle(c[5]),f=la.getProperty({x:0,y:1,z:2,w:3},c[3]);c=E.parseInt(c[4])|0;a.data.writeShort(b);a.data.writeByte(c);a.data.writeByte(e);a.data.writeByte(1);a.data.writeByte(d);a.data.writeByte(f);a.data.writeByte(128)}else{c=this.__getGroupMatches(new Rb("([fov]?[tpocidavs])(\\d*)(\\.[xyzw]{1,4})?","i"),b,3);b=kb.get_map();d=c[1];if(null==(null!=m[d]?b.getReserved(d):b.h[d]))return!1;4>c.length&&c.push("");b=E.parseInt(c[2])|0;d=kb.get_map();
e=c[1];d=(null!=m[e]?d.getReserved(e):d.h[e]).code;c=this.__stringToSwizzle(c[3]);a.data.writeShort(b);a.data.writeByte(0);a.data.writeByte(c);a.data.writeByte(d);a.data.writeByte(0);a.data.writeByte(0);a.data.writeByte(0)}return!0},__emitZeroDword:function(a){a.data.writeUnsignedInt(0)},__emitZeroQword:function(a){a.data.writeUnsignedInt(0);a.data.writeUnsignedInt(0)},__getGroupMatches:function(a,b,c){null==c&&(c=0);var d=[];if(!a.match(b))return d;b=0;for(var e=null,f=!1;;){var g;f?g=!1:(e=a.matched(b++),
g=null!=e);if(!g)break;d.push(e);0!=c&&Ca.gt(b,c)&&(f=!0)}return d},__getMatches:function(a,b){for(var c=[];a.match(b);){var d=a.matched(1);c.push(d);b=a.matchedRight()}return c},__processLine:function(a,b){var c=a.indexOf("//");-1!=c&&(a=a.substring(0,c));var d=new Rb("^\\s+|\\s+$","g");a=a.replace(d.r,"");if(!(0>=a.length))if(d=new Rb("<.*>","g"),c=null,d.match(a)&&(d=d.matchedPos().pos,c=this.__getMatches(new Rb("([\\w\\.\\-\\+]+)","gi"),a.substring(d)),a=a.substring(0,d)),d=this.__getMatches(new Rb("([\\w\\.\\+\\[\\]]+)",
"gi"),a),0==d.length)3<=a.length&&hb.trace("Warning: bad line "+E.string(Ca.toFloat(b))+": "+a,{fileName:"AGALMiniAssembler.hx",lineNumber:385,className:"openfl.utils.AGALMiniAssembler",methodName:"__processLine"});else switch(d[0]){case "endpart":if(null==this.__cur)throw new n("Unexpected endpart");this.__cur.data.position=0;this.__cur=null;break;case "part":this.__addHeader(d[1],E.parseInt(d[2]));break;default:if(null==this.__cur){hb.trace("Warning: bad line "+E.string(Ca.toFloat(b))+": "+a+" (Outside of any part definition)",
{fileName:"AGALMiniAssembler.hx",lineNumber:416,className:"openfl.utils.AGALMiniAssembler",methodName:"__processLine"});break}if("comment"==this.__cur.name)break;var e=Aa.get_map().get(d[0]);if(null==e)throw new n("Bad opcode "+d[0]+" "+E.string(Ca.toFloat(b))+": "+a);this.__emitOpcode(this.__cur,e.opcode);var f=1;if(null!=e.dest&&"none"!=e.dest){if(!this.__emitDest(this.__cur,d[f++],e.dest))throw new n("Bad destination register "+d[f-1]+" "+E.string(Ca.toFloat(b))+": "+a);}else this.__emitZeroDword(this.__cur);
if(null!=e.a&&"none"!=e.a.format){if(!this.__emitSource(this.__cur,d[f++],e.a))throw new n("Bad source register "+d[f-1]+" "+E.string(Ca.toFloat(b))+": "+a);}else this.__emitZeroQword(this.__cur);if(null!=e.b&&"none"!=e.b.format)if("sampler"==e.b.format){if(!this.__emitSampler(this.__cur,d[f++],e.b,c))throw new n("Bad sampler register "+d[f-1]+" "+E.string(Ca.toFloat(b))+": "+a);}else{if(!this.__emitSource(this.__cur,d[f++],e.b))throw new n("Bad source register "+d[f-1]+" "+E.string(Ca.toFloat(b))+
": "+a);}else this.__emitZeroQword(this.__cur)}},__stringToMask:function(a){if(null==a)return 15;var b=0;-1!=a.indexOf("x")&&(b|=1);-1!=a.indexOf("y")&&(b|=2);-1!=a.indexOf("z")&&(b|=4);-1!=a.indexOf("w")&&(b|=8);return b},__stringToSwizzle:function(a){if(""==a)return 228;var b={x:0,y:1,z:2,w:3},c=0;if("."!=a.charAt(0))throw new n("Missing . for swizzle");1<a.length&&(c|=la.field(b,a.charAt(1)));c=2<a.length?c|la.field(b,a.charAt(2))<<2:c|(c&3)<<2;c=3<a.length?c|la.field(b,a.charAt(3))<<4:c|(c&12)<<
2;return c=4<a.length?c|la.field(b,a.charAt(4))<<6:c|(c&48)<<2},__class__:dg};var Sa={};h["openfl.utils._ByteArray.ByteArray_Impl_"]=Sa;Sa.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"];Sa.__properties__={set_length:"set_length",get_length:"get_length"};Sa.toArrayBuffer=function(a){return a.b.bufferValue};Sa.toBytes=function(a){return a};Sa.get_length=function(a){return a.length};Sa.set_length=function(a,b){0<b&&a.__resize(b);return a.length=b};var mh=function(){};h["openfl.utils.IDataOutput"]=
mh;mh.__name__=["openfl","utils","IDataOutput"];mh.prototype={__class__:mh};var nh=function(){};h["openfl.utils.IDataInput"]=nh;nh.__name__=["openfl","utils","IDataInput"];nh.prototype={__class__:nh};var Lc=function(a){null==a&&(a=0);var b=new gb(new yd(a));gb.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};h["openfl.utils.ByteArrayData"]=Lc;Lc.__name__=["openfl","utils","ByteArrayData"];Lc.__interfaces__=[mh,nh];Lc.fromBytes=function(a){var b=new Lc;b.__fromBytes(a);return b};
Lc.__super__=gb;Lc.prototype=q(gb.prototype,{position:null,__endian:null,__length:null,clear:function(){this.position=this.length=0},readByte:function(){var a=this.readUnsignedByte();return 0!=(a&128)?a-256:a},readInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new n(new ge);
},readUnsignedInt:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte(),c=this.readUnsignedByte(),d=this.readUnsignedByte();return 1==this.__endian?d<<24|c<<16|b<<8|a:a<<24|b<<16|c<<8|d},readUnsignedShort:function(){var a=this.readUnsignedByte(),b=this.readUnsignedByte();return 1==this.__endian?(b<<8)+a:a<<8|b},readUTF:function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)},readUTFBytes:function(a){if(this.position+a>this.length)throw new n(new ge);this.position+=a;return this.getString(this.position-
a,a)},uncompress:function(a){null==a&&(a=2);if(this.__length>this.length){var b=this.length;this.length=this.__length;var c=new gb(new yd(b));c.blit(0,this,0,b);this.b=c.b;this.__length=c.length;this.data=c.data;this.length=b}switch(a){case 0:a=Lh.decompress(this);break;case 1:a=Mh.decompress(this);break;default:a=Nh.decompress(this)}null!=a&&(this.b=a.b,this.__length=a.length,this.data=a.data,this.position=this.length=this.__length)},writeByte:function(a){this.__resize(this.position+1);this.b[this.position++]=
a&255},writeBytes:function(a,b,c){null==c&&(c=0);null==b&&(b=0);0!=Sa.get_length(a)&&(0==c&&(c=Sa.get_length(a)-b),this.__resize(this.position+c),this.blit(this.position,a,b,c),this.position+=c)},writeInt:function(a){this.__resize(this.position+4);1==this.__endian?(this.b[this.position++]=a&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>24&255):(this.b[this.position++]=a>>24&255,this.b[this.position++]=a>>16&255,this.b[this.position++]=a>>8&255,this.b[this.position++]=
a&255)},writeShort:function(a){this.__resize(this.position+2);1==this.__endian?(this.b[this.position++]=a&255,this.b[this.position++]=a>>8&255):(this.b[this.position++]=a>>8&255,this.b[this.position++]=a&255)},writeUnsignedInt:function(a){this.writeInt(a)},__fromBytes:function(a){this.b=a.b;this.__length=a.length;this.data=a.data;this.length=a.length},__resize:function(a){if(a>this.__length){var b=new gb(new yd(3*(a+1)>>1)),c=this.length;this.length=this.__length;b.blit(0,this,0,this.__length);this.length=
c;this.b=b.b;this.__length=b.length;this.data=b.data}this.length<a&&(this.length=a)},__class__:Lc});var ai=function(){};h["haxe.lang.Iterator"]=ai;ai.__name__=["haxe","lang","Iterator"];ai.prototype={hasNext:null,next:null,__class__:ai};var bi=function(){};h["haxe.lang.Iterable"]=bi;bi.__name__=["haxe","lang","Iterable"];bi.prototype={iterator:null,__class__:bi};var na=function(){J.call(this);this._backButton=new Jc("Back",88,50);this._backButton.set_x(Ra.CenterX-this._backButton.get_width()/2);this._backButton.set_y(Ra.GameHeight-
this._backButton.get_height()+12);this._backButton.set_name("backButton");this._backButton.get_textBounds().y-=3;this._backButton.readjustSize();this.addChild(this._backButton)};h["scenes.Scene"]=na;na.__name__=["scenes","Scene"];na.__super__=mb;na.prototype=q(mb.prototype,{_backButton:null,__class__:na});var hf=function(){na.call(this);this._transitions=["linear","easeInOut","easeOutBack","easeOutBounce","easeOutElastic"];this._startButton=new Jc("Start animation");this._startButton.addEventListener("triggered",
p(this,this.onStartButtonTriggered));this._startButton.set_x(Ra.CenterX-(this._startButton.get_width()/2|0));this._startButton.set_y(20);this.addChild(this._startButton);this._delayButton=new Jc("Delayed call");this._delayButton.addEventListener("triggered",p(this,this.onDelayButtonTriggered));this._delayButton.set_x(this._startButton.get_x());this._delayButton.set_y(this._startButton.get_y()+40);this.addChild(this._delayButton);this._egg=new z(fb.get_assets().getTexture("starling_front"));this.addChild(this._egg);
this.resetEgg();this._transitionLabel=new ka(320,30);this._transitionLabel.get_format().set_size(20);this._transitionLabel.get_format().set_bold(!0);this._transitionLabel.set_y(this._delayButton.get_y()+40);this._transitionLabel.set_alpha(0);this.addChild(this._transitionLabel)};h["scenes.AnimationScene"]=hf;hf.__name__=["scenes","AnimationScene"];hf.__super__=na;hf.prototype=q(na.prototype,{_startButton:null,_delayButton:null,_egg:null,_transitionLabel:null,_transitions:null,resetEgg:function(){this._egg.set_x(20);
this._egg.set_y(100);this._egg.set_scaleX(this._egg.set_scaleY(1));this._egg.set_rotation(0)},onStartButtonTriggered:function(){var a=this;this._startButton.set_enabled(!1);this.resetEgg();var b=this._transitions.shift();this._transitions.push(b);var c=new pb(this._egg,2,b);c.animate("rotation",Y.deg2rad(90));c.moveTo(300,360);c.scaleTo(.5);c.set_onComplete(function(b){a._startButton.set_enabled(!0)});x.get_sJuggler().add(c);this._transitionLabel.set_text(b);this._transitionLabel.set_alpha(1);b=new pb(this._transitionLabel,
2,"easeIn");b.animate("alpha",0);x.get_sJuggler().add(b)},onDelayButtonTriggered:function(){var a=this;this._delayButton.set_enabled(!1);x.get_sJuggler().delayCall(p(this,this.colorizeEgg),1,[!0]);x.get_sJuggler().delayCall(p(this,this.colorizeEgg),2,[!1]);x.get_sJuggler().delayCall(function(b){a._delayButton.set_enabled(!0)},2,[])},colorizeEgg:function(a){this._egg.set_color(a[0]?16711680:16777215)},dispose:function(){this._startButton.removeEventListener("triggered",p(this,this.onStartButtonTriggered));
this._delayButton.removeEventListener("triggered",p(this,this.onDelayButtonTriggered));na.prototype.dispose.call(this)},__class__:hf});var Pd=function(){na.call(this);this._container=new mb;this._container.set_x(Ra.CenterX);this._container.set_y(Ra.CenterY);this._container.set_touchable(!1);this.addChildAt(this._container,0);this._statusText=new ka(Ra.GameWidth-40,30);this._statusText.set_format(new qd("mini",-2));this._statusText.set_x(20);this._statusText.set_y(10);this.addChild(this._statusText);
this._startButton=new Jc("Start benchmark",140);this._startButton.addEventListener("triggered",p(this,this.onStartButtonTriggered));this._startButton.set_x(Ra.CenterX-(this._startButton.get_width()/2|0));this._startButton.set_y(20);this.addChild(this._startButton);this._started=!1;this._frameTimes=[];this._objectPool=[];this._objectTexture=fb.get_assets().getTexture("benchmark_object");this.addEventListener("enterFrame",p(this,this.onEnterFrame))};h["scenes.BenchmarkScene"]=Pd;Pd.__name__=["scenes",
"BenchmarkScene"];Pd.__super__=na;Pd.prototype=q(na.prototype,{_startButton:null,_resultText:null,_statusText:null,_container:null,_objectPool:null,_objectTexture:null,_frameCount:null,_failCount:null,_started:null,_frameTimes:null,_targetFps:null,_phase:null,dispose:function(){this.removeEventListener("enterFrame",p(this,this.onEnterFrame));this._startButton.removeEventListener("triggered",p(this,this.onStartButtonTriggered));for(var a=0,b=this._objectPool;a<b.length;){var c=b[a];++a;c.dispose()}na.prototype.dispose.call(this)},
onStartButtonTriggered:function(){hb.trace("Starting benchmark",{fileName:"BenchmarkScene.hx",lineNumber:83,className:"scenes.BenchmarkScene",methodName:"onStartButtonTriggered"});this._startButton.set_visible(!1);this._started=!0;this._targetFps=x.get_current().get_nativeStage().get_frameRate()|0;for(var a=this._phase=this._failCount=this._frameCount=0;10>a;){var b=a++;this._frameTimes[b]=1/this._targetFps}null!=this._resultText&&(this._resultText.removeFromParent(!0),this._resultText=null)},onEnterFrame:function(a,
b){if(this._started){this._frameCount++;var c=this._container;c.set_rotation(c.get_rotation()+.5*a.get_passedTime());for(c=this._frameTimes[10]=0;10>c;){var d=c++;this._frameTimes[d]+=b}c=10/this._frameTimes.shift();0==this._phase&&(c<.985*this._targetFps?(this._failCount++,100==this._failCount&&(this._phase=1)):(this.addTestObjects(16),d=this._container,d.set_scale(.99*d.get_scale()),this._failCount=0));1==this._phase&&(c>.99*this._targetFps?(this._failCount--,0==this._failCount&&this.benchmarkComplete()):
(this.removeTestObjects(1),c=this._container,c.set_scale(c.get_scale()/.9993720513)));0==this._frameCount%(this._targetFps/4|0)&&this._statusText.set_text(this._container.get_numChildren()+" objects")}},addTestObjects:function(a){for(var b=1/this._container.get_scale(),c=0;c<a;){c++;var d=this.getObjectFromPool(),e=(100+100*Math.random())*b,f=Math.random()*Math.PI*2;d.set_x(Math.cos(f)*e);d.set_y(Math.sin(f)*e);d.set_rotation(f+Math.PI/2);d.set_scale(b);this._container.addChild(d)}},removeTestObjects:function(a){var b=
this._container.get_numChildren();a>=b&&(a=b);for(b=0;b<a;)b++,this.putObjectToPool(this._container.removeChildAt(this._container.get_numChildren()-1))},getObjectFromPool:function(){if(0==this._objectPool.length){var a=new z(this._objectTexture);a.alignPivot();a.set_pixelSnapping(!1);return a}return this._objectPool.pop()},putObjectToPool:function(a){this._objectPool[this._objectPool.length]=a},benchmarkComplete:function(){this._started=!1;this._startButton.set_visible(!0);var a=x.get_current().get_nativeStage().get_frameRate()|
0,b=this._container.get_numChildren(),a=rd.format("Result:\n{0} objects\nwith {1} fps",[b,a]);hb.trace(a.replace(RegExp("\n","g")," "),{fileName:"BenchmarkScene.hx",lineNumber:210,className:"scenes.BenchmarkScene",methodName:"benchmarkComplete"});this._resultText=new ka(240,200,a);this._resultText.get_format().set_size(30);this._resultText.set_x(Ra.CenterX-this._resultText.get_width()/2);this._resultText.set_y(Ra.CenterY-this._resultText.get_height()/2);this.addChild(this._resultText);this._container.set_scale(1);
Ka.clear(this._frameTimes);this._statusText.set_text("");for(--b;0<=b;)this.putObjectToPool(this._container.removeChildAt(b)),--b},__class__:Pd});var mf=function(){this._blendModes="normal multiply screen add erase none".split(" ");na.call(this);this._button=new Jc("Switch Mode");this._button.set_x(Ra.CenterX-this._button.get_width()/2|0);this._button.set_y(15);this._button.addEventListener("triggered",p(this,this.onButtonTriggered));this.addChild(this._button);this._image=new z(fb.get_assets().getTexture("starling_rocket"));
this._image.set_x(Ra.CenterX-this._image.get_width()/2|0);this._image.set_y(170);this.addChild(this._image);this._infoText=new ka(300,32);this._infoText.get_format().set_size(19);this._infoText.set_x(10);this._infoText.set_y(330);this.addChild(this._infoText);this.onButtonTriggered()};h["scenes.BlendModeScene"]=mf;mf.__name__=["scenes","BlendModeScene"];mf.__super__=na;mf.prototype=q(na.prototype,{_button:null,_image:null,_infoText:null,_blendModes:null,onButtonTriggered:function(){var a=this._blendModes.shift();
this._blendModes.push(a);this._infoText.set_text(a);this._image.set_blendMode(a)},__class__:mf});var jf=function(){na.call(this);var a=new ka(300,100,"Pushing the bird only works when the touch occurs within a circle.This can be accomplished by overriding the method 'hitTest'.");a.set_x(a.set_y(10));a.get_format().set_verticalAlign("top");a.get_format().set_horizontalAlign("center");this.addChild(a);a=new eg(fb.get_assets().getTexture("starling_round"));a.set_x(Ra.CenterX-(a.get_width()/2|0));a.set_y(150);
this.addChild(a)};h["scenes.CustomHitTestScene"]=jf;jf.__name__=["scenes","CustomHitTestScene"];jf.__super__=na;jf.prototype=q(na.prototype,{__class__:jf});var lf=function(){na.call(this);this._button=new Jc("Switch Filter");this._button.set_x(Ra.CenterX-this._button.get_width()/2|0);this._button.set_y(15);this._button.addEventListener("triggered",p(this,this.onButtonTriggered));this.addChild(this._button);this._image=new z(fb.get_assets().getTexture("starling_rocket"));this._image.set_x(Ra.CenterX-
this._image.get_width()/2|0);this._image.set_y(170);this.addChild(this._image);this._infoText=new ka(300,32);this._infoText.get_format().set_size(19);this._infoText.set_x(10);this._infoText.set_y(330);this.addChild(this._infoText);this.initFilters();this.onButtonTriggered()};h["scenes.FilterScene"]=lf;lf.__name__=["scenes","FilterScene"];lf.__super__=na;lf.prototype=q(na.prototype,{_button:null,_image:null,_infoText:null,_filterInfos:null,_displacementMap:null,dispose:function(){this._displacementMap.dispose();
na.prototype.dispose.call(this)},onButtonTriggered:function(){var a=this._filterInfos.shift();this._filterInfos.push(a);this._infoText.set_text(a[0]);this._image.set_filter(a[1])},initFilters:function(){this._filterInfos=[["Identity",new za],["Blur",new ke],["Drop Shadow",new Oe],["Glow",new fg]];this._displacementMap=this.createDisplacementMap(this._image.get_width(),this._image.get_height());var a=new gg(this._displacementMap,1,2,25,25);this._filterInfos.push(["Displacement Map",a]);a=new Pa;a.invert();
this._filterInfos.push(["Invert",a]);a=new Pa;a.adjustSaturation(-1);this._filterInfos.push(["Grayscale",a]);a=new Pa;a.adjustSaturation(1);this._filterInfos.push(["Saturation",a]);a=new Pa;a.adjustContrast(.75);this._filterInfos.push(["Contrast",a]);a=new Pa;a.adjustBrightness(-.25);this._filterInfos.push(["Brightness",a]);a=new Pa;a.adjustHue(1);this._filterInfos.push(["Hue",a]);a=new ec([a,new Oe]);this._filterInfos.push(["Hue + Shadow",a])},createDisplacementMap:function(a,b){var c=x.get_sContentScaleFactor(),
d=new La(a*c|0,b*c|0,!1);d.perlinNoise(20*c,20*c,3,5,!1,!0);return da.fromBitmapData(d,!1,!1,c)},__class__:lf});var of=function(){na.call(this);this._contents=new mb;this.addChild(this._contents);var a=x.get_current().get_stage().get_stageWidth(),b=x.get_current().get_stage().get_stageHeight(),b=new Va(a,b);b.set_alpha(0);this.addChildAt(b,0);b=new z(fb.get_assets().getTexture("flight_00"));b.set_x((a-b.get_width())/2);b.set_y(80);this._contents.addChild(b);var c=new Pa;c.adjustHue(-.5);b.set_filter(c);
b=new ka(256,128,"Move the mouse (or a finger) over the screen to move the mask.");b.set_x((a-b.get_width())/2);b.set_y(260);b.get_format().set_size(20);this._contents.addChild(b);this._maskDisplay=this.createCircle();this._maskDisplay.set_alpha(.1);this._maskDisplay.set_touchable(!1);this.addChild(this._maskDisplay);this._mask2=this.createCircle();this._contents.set_mask(this._mask2);this.addEventListener("touch",p(this,this.onTouch))};h["scenes.MaskScene"]=of;of.__name__=["scenes","MaskScene"];
of.__super__=na;of.prototype=q(na.prototype,{_contents:null,_mask2:null,_maskDisplay:null,onTouch:function(a){var b=a.getTouch(this,"hover");null==b&&(b=a.getTouch(this,"began"));null==b&&(b=a.getTouch(this,"moved"));null!=b&&(a=b.getLocation(this),this._mask2.set_x(this._maskDisplay.set_x(a.x)),this._mask2.set_y(this._maskDisplay.set_y(a.y)))},createCircle:function(){var a=new hg;a.beginFill(16711680);a.drawCircle(0,0,100);a.endFill();return a},__class__:of});var kf=function(){na.call(this);var a=
fb.get_assets().getTextures("flight");this._movie=new Pe(a,15);a=fb.get_assets().getSound("wing_flap");this._movie.setFrameSound(2,a);this._movie.set_x(Ra.CenterX-(this._movie.get_width()/2|0));this._movie.set_y(Ra.CenterY-(this._movie.get_height()/2|0));this.addChild(this._movie);this.addEventListener("addedToStage",p(this,this.onAddedToStage));this.addEventListener("removedFromStage",p(this,this.onRemovedFromStage))};h["scenes.MovieScene"]=kf;kf.__name__=["scenes","MovieScene"];kf.__super__=na;
kf.prototype=q(na.prototype,{_movie:null,onAddedToStage:function(){x.get_sJuggler().add(this._movie)},onRemovedFromStage:function(){x.get_sJuggler().remove(this._movie)},dispose:function(){this.removeEventListener("removedFromStage",p(this,this.onRemovedFromStage));this.removeEventListener("addedToStage",p(this,this.onAddedToStage));na.prototype.dispose.call(this)},__class__:kf});var nf=function(){na.call(this);this._colors=new Ib;this._renderTexture=new Wc(320,435);this._canvas=new z(this._renderTexture);
this._canvas.addEventListener("touch",p(this,this.onTouch));this.addChild(this._canvas);this._brush=new z(fb.get_assets().getTexture("brush"));this._brush.set_pivotX(this._brush.get_width()/2);this._brush.set_pivotY(this._brush.get_height()/2);this._brush.set_blendMode("normal");var a=new ka(256,128,"Touch the screen\nto draw!");a.get_format().set_size(24);a.set_x(Ra.CenterX-a.get_width()/2);a.set_y(Ra.CenterY-a.get_height()/2);this._renderTexture.draw(a);this._button=new Jc("Mode: Draw");this._button.set_x(Ra.CenterX-
this._button.get_width()/2|0);this._button.set_y(15);this._button.addEventListener("triggered",p(this,this.onButtonTriggered));this.addChild(this._button)};h["scenes.RenderTextureScene"]=nf;nf.__name__=["scenes","RenderTextureScene"];nf.__super__=na;nf.prototype=q(na.prototype,{_renderTexture:null,_canvas:null,_brush:null,_button:null,_colors:null,onTouch:function(a){var b=this;this._renderTexture.drawBundled(function(c,d,e){c=a.getTouches(b._canvas);for(d=0;d<c.length;){e=c[d];++d;if("began"==e.get_phase()){var f=
b._colors,g=e.get_id(),l=Math.random(),l=Ca.toFloat(ci.UINT_MAX_VALUE)*l|0;f.h[g]=l}"hover"!=e.get_phase()&&"ended"!=e.get_phase()&&(f=e.getLocation(b._canvas),b._brush.set_x(f.x),b._brush.set_y(f.y),f=b._brush,g=b._colors,e=e.get_id(),f.set_color(g.h[e]),b._brush.set_rotation(Math.random()*Math.PI*2),b._renderTexture.draw(b._brush),b.setRequiresRedraw())}})},onButtonTriggered:function(){"normal"==this._brush.get_blendMode()?(this._brush.set_blendMode("erase"),this._button.set_text("Mode: Erase")):
(this._brush.set_blendMode("normal"),this._button.set_text("Mode: Draw"))},dispose:function(){this._renderTexture.dispose();na.prototype.dispose.call(this)},__class__:nf});var pf=function(){na.call(this);var a=fb.get_assets().getTexture("gamua-logo");this._cube=this.createCube(a);this._cube.set_x(Ra.CenterX);this._cube.set_y(Ra.CenterY);this._cube.set_z(100);this.addChild(this._cube);this.addEventListener("addedToStage",p(this,this.start));this.addEventListener("removedFromStage",p(this,this.stop))};
h["scenes.Sprite3DScene"]=pf;pf.__name__=["scenes","Sprite3DScene"];pf.__super__=na;pf.prototype=q(na.prototype,{_cube:null,start:function(){var a=2*Math.PI;x.get_sJuggler().tween(this._cube,6,{rotationX:a,repeatCount:0});a=2*Math.PI;x.get_sJuggler().tween(this._cube,7,{rotationY:a,repeatCount:0});a=2*Math.PI;x.get_sJuggler().tween(this._cube,8,{rotationZ:a,repeatCount:0})},stop:function(){x.get_sJuggler().removeTweens(this._cube)},createCube:function(a){var b=a.get_width()/2,c=this.createSidewall(a,
16711680);c.set_z(-b);var d=this.createSidewall(a,65280);d.set_rotationX(Math.PI);d.set_z(b);var e=this.createSidewall(a,255);e.set_y(-b);e.set_rotationX(Math.PI/-2);var f=this.createSidewall(a,16776960);f.set_y(b);f.set_rotationX(Math.PI/2);var g=this.createSidewall(a,16711935);g.set_x(-b);g.set_rotationY(Math.PI/2);a=this.createSidewall(a,65535);a.set_x(b);a.set_rotationY(Math.PI/-2);b=new Ob;b.addChild(c);b.addChild(d);b.addChild(e);b.addChild(f);b.addChild(g);b.addChild(a);return b},createSidewall:function(a,
b){null==b&&(b=16777215);var c=new z(a);c.set_color(b);c.alignPivot();var d=new Ob;d.addChild(c);return d},render:function(a){a.pushState();a.get_state().set_culling(0);na.prototype.render.call(this,a);a.popState()},__class__:pf});var gf=function(){na.call(this);this.init()};h["scenes.TextScene"]=gf;gf.__name__=["scenes","TextScene"];gf.__super__=na;gf.prototype=q(na.prototype,{init:function(){var a=new ka(300,80,"TextFields can have a border and a color. They can be aligned in different ways, ...");
a.get_format().setTo("Ubuntu",19,209817);a.set_x(a.set_y(10));a.set_border(!0);this.addChild(a);var b=new ka(145,80,"... e.g.\ntop-left ...");b.get_format().setTo("Ubuntu",19,10040115);b.get_format().set_horizontalAlign("left");b.get_format().set_verticalAlign("top");b.set_x(10);b.set_y(a.get_y()+a.get_height()+10);b.set_border(!0);this.addChild(b);a=new ka(145,80,"... or\nbottom right ...");a.get_format().setTo("Ubuntu",19,2129952);a.get_format().set_horizontalAlign("right");a.get_format().set_verticalAlign("bottom");
a.set_border(!0);a.set_x(20+b.get_width());a.set_y(b.get_y());this.addChild(a);a=new ka(300,80,"... or centered. Embedded fonts are detected automatically and <font color='#208080'>support</font> <font color='#993333'>basic</font> <font color='#333399'>HTML</font> <font color='#208020'>formatting</font>.");a.get_format().setTo("Ubuntu",19);a.set_x(10);a.set_y(b.get_y()+b.get_height()+10);a.set_border(!0);a.set_isHtmlText(!0);this.addChild(a);b=new ka(300,150,"It is very easy to use Bitmap fonts,\nas well!");
b.get_format().set_font("Desyrel");b.get_format().set_size(-1);b.get_format().set_color(16777215);b.set_x(10);b.set_y(a.get_y()+a.get_height()+10);this.addChild(b)},__class__:gf});var ef=function(){na.call(this);var a=new z(fb.get_assets().getTexture("flight_00"));a.set_x(-20);a.set_y(0);this.addChild(a);a=new z(fb.get_assets().getTexture("flight_04"));a.set_x(90);a.set_y(85);this.addChild(a);a=new z(fb.get_assets().getTexture("flight_08"));a.set_x(100);a.set_y(-60);this.addChild(a);a=fb.get_assets().getTexture("compressed_texture");
a=new z(a);a.set_x(Ra.CenterX-a.get_width()/2);a.set_y(280);this.addChild(a)};h["scenes.TextureScene"]=ef;ef.__name__=["scenes","TextureScene"];ef.__super__=na;ef.prototype=q(na.prototype,{__class__:ef});var ff=function(){na.call(this);var a=new ka(300,25,"[use Ctrl/Cmd & Shift to simulate multi-touch]");a.set_x(a.set_y(10));this.addChild(a);a=new ig(new z(fb.get_assets().getTexture("starling_sheet")));a.set_x(Ra.CenterX);a.set_y(Ra.CenterY);a.set_rotation(Y.deg2rad(10));this.addChild(a)};h["scenes.TouchScene"]=
ff;ff.__name__=["scenes","TouchScene"];ff.__super__=na;ff.prototype=q(na.prototype,{__class__:ff});var Hd=function(){};h["starling.animation.IAnimatable"]=Hd;Hd.__name__=["starling","animation","IAnimatable"];Hd.prototype={advanceTime:null,__class__:Hd};var qc=function(a,b,c){this.reset(a,b,c)};h["starling.animation.DelayedCall"]=qc;qc.__name__=["starling","animation","DelayedCall"];qc.__interfaces__=[Hd];qc.fromPool=function(a,b,c){return 0!=qc.sPool.length?qc.sPool.pop().reset(a,b,c):new qc(a,b,
c)};qc.toPool=function(a){a._callback=null;a._args=null;a.removeEventListeners();qc.sPool.push(a)};qc.__super__=Ja;qc.prototype=q(Ja.prototype,{_currentTime:null,_totalTime:null,_callback:null,_args:null,_repeatCount:null,reset:function(a,b,c){this._currentTime=0;this._totalTime=Math.max(b,1E-4);this._callback=a;this._args=c;this._repeatCount=1;return this},advanceTime:function(a){var b=this._currentTime;this._currentTime+=a;this._currentTime>this._totalTime&&(this._currentTime=this._totalTime);b<
this._totalTime&&this._currentTime>=this._totalTime&&(0==this._repeatCount||1<this._repeatCount?(this._callback(this._args),0<this._repeatCount&&--this._repeatCount,this._currentTime=0,this.advanceTime(b+a-this._totalTime)):(a=this._callback,b=this._args,this.dispatchEventWith("removeFromJuggler"),a(b)))},__class__:qc});var Id=function(){this._elapsedTime=0;this._objects=[];this._objectIDs=new jc};h["starling.animation.Juggler"]=Id;Id.__name__=["starling","animation","Juggler"];Id.__interfaces__=
[Hd];Id.getNextID=function(){return++Id.sCurrentObjectID};Id.prototype={_objects:null,_objectIDs:null,_elapsedTime:null,add:function(a){return this.addWithID(a,Id.getNextID())},addWithID:function(a,b){if(null!=a&&null==this._objectIDs.h.__keys__[a.__id__]){var c=w.__instanceof(a,Ja)?a:null;null!=c&&c.addEventListener("removeFromJuggler",p(this,this.onRemove));this._objects[this._objects.length]=a;this._objectIDs.set(a,b);return b}return 0},remove:function(a){var b=0;null!=a&&null!=this._objectIDs.h.__keys__[a.__id__]&&
(b=w.__instanceof(a,Ja)?a:null,null!=b&&b.removeEventListener("removeFromJuggler",p(this,this.onRemove)),b=this._objects.indexOf(a),this._objects[b]=null,b=this._objectIDs.h[a.__id__],this._objectIDs.remove(a));return b},removeTweens:function(a){if(null!=a)for(var b=this._objects.length-1;0<=b;){var c=this._objects[b],c=w.__instanceof(c,pb)?c:null;null!=c&&c.get_target()==a&&(c.removeEventListener("removeFromJuggler",p(this,this.onRemove)),this._objects[b]=null,this._objectIDs.remove(c));--b}},delayCall:function(a,
b,c){if(null==a)throw new n(new sa("call must not be null"));a=qc.fromPool(a,b,c);a.addEventListener("removeFromJuggler",p(this,this.onPooledDelayedCallComplete));return this.add(a)},onPooledDelayedCallComplete:function(a){a=a.get_target();qc.toPool(w.__instanceof(a,qc)?a:null)},tween:function(a,b,c){if(null==a)throw new n(new sa("target must not be null"));b=pb.fromPool(a,b);for(var d=0,e=la.fields(c);d<e.length;){var f=e[d];++d;var g=la.field(c,f);if(null!=la.getProperty(b,f))la.setProperty(b,f,
g);else if(null!=la.getProperty(a,f))b.animate(f,w.__cast(g,Dh));else throw new n(new sa("Invalid property: "+f));}b.addEventListener("removeFromJuggler",p(this,this.onPooledTweenComplete));return this.add(b)},onPooledTweenComplete:function(a){pb.toPool(w.__cast(a.get_target(),pb))},advanceTime:function(a){var b=this._objects.length,c=0,d=0;this._elapsedTime+=a;if(0!=b){for(;d<b;){var e=this._objects[d];null!=e&&(c!=d&&(this._objects[c]=e,this._objects[d]=null),e.advanceTime(a),++c);++d}if(c!=d){for(b=
this._objects.length;d<b;)this._objects[c++]=this._objects[d++];Ka.resize(this._objects,c)}}},onRemove:function(a){var b=a.get_target(),b=this.remove(w.__instanceof(b,Hd)?b:null);0!=b&&(a=a.get_target(),a=w.__instanceof(a,pb)?a:null,null!=a&&a.get_isComplete()&&this.addWithID(a.get_nextTween(),b))},__class__:Id};var F=function(){};h["starling.animation.Transitions"]=F;F.__name__=["starling","animation","Transitions"];F.getTransition=function(a){null==F.sTransitions&&F.registerDefaults();var b=F.sTransitions;
return null!=m[a]?b.getReserved(a):b.h[a]};F.register=function(a,b){null==F.sTransitions&&F.registerDefaults();var c=F.sTransitions;null!=m[a]?c.setReserved(a,b):c.h[a]=b};F.registerDefaults=function(){F.sTransitions=new T;F.register("linear",F.linear);F.register("easeIn",F.easeIn);F.register("easeOut",F.easeOut);F.register("easeInOut",F.easeInOut);F.register("easeOutIn",F.easeOutIn);F.register("easeInBack",F.easeInBack);F.register("easeOutBack",F.easeOutBack);F.register("easeInOutBack",F.easeInOutBack);
F.register("easeOutInBack",F.easeOutInBack);F.register("easeInElastic",F.easeInElastic);F.register("easeOutElastic",F.easeOutElastic);F.register("easeInOutElastic",F.easeInOutElastic);F.register("easeOutInElastic",F.easeOutInElastic);F.register("easeInBounce",F.easeInBounce);F.register("easeOutBounce",F.easeOutBounce);F.register("easeInOutBounce",F.easeInOutBounce);F.register("easeOutInBounce",F.easeOutInBounce)};F.linear=function(a){return a};F.easeIn=function(a){return a*a*a};F.easeOut=function(a){--a;
return a*a*a+1};F.easeInOut=function(a){return F.easeCombined(F.easeIn,F.easeOut,a)};F.easeOutIn=function(a){return F.easeCombined(F.easeOut,F.easeIn,a)};F.easeInBack=function(a){return Math.pow(a,2)*(2.70158*a-1.70158)};F.easeOutBack=function(a){--a;return Math.pow(a,2)*(2.70158*a+1.70158)+1};F.easeInOutBack=function(a){return F.easeCombined(F.easeInBack,F.easeOutBack,a)};F.easeOutInBack=function(a){return F.easeCombined(F.easeOutBack,F.easeInBack,a)};F.easeInElastic=function(a){if(0==a||1==a)return a;
--a;return-1*Math.pow(2,10*a)*Math.sin(2*(a-.075)*Math.PI/.3)};F.easeOutElastic=function(a){return 0==a||1==a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};F.easeInOutElastic=function(a){return F.easeCombined(F.easeInElastic,F.easeOutElastic,a)};F.easeOutInElastic=function(a){return F.easeCombined(F.easeOutElastic,F.easeInElastic,a)};F.easeInBounce=function(a){return 1-F.easeOutBounce(1-a)};F.easeOutBounce=function(a){a<1/2.75?a=7.5625*Math.pow(a,2):a<2/2.75?a=7.5625*Math.pow(a-1.5/2.75,
2)+.75:a<2.5/2.75?(a-=2.25/2.75,a=7.5625*Math.pow(a,2)+.9375):(a-=2.625/2.75,a=7.5625*Math.pow(a,2)+.984375);return a};F.easeInOutBounce=function(a){return F.easeCombined(F.easeInBounce,F.easeOutBounce,a)};F.easeOutInBounce=function(a){return F.easeCombined(F.easeOutBounce,F.easeInBounce,a)};F.easeCombined=function(a,b,c){return.5>c?.5*a(2*c):.5*b(2*(c-.5))+.5};var pb=function(a,b,c){null==c&&(c="linear");this.reset(a,b,c)};h["starling.animation.Tween"]=pb;pb.__name__=["starling","animation","Tween"];
pb.__interfaces__=[Hd];pb.getPropertyHint=function(a){if(-1!=a.indexOf("color")||-1!=a.indexOf("Color"))return"rgb";var b=a.indexOf("#");return-1!=b?I.substr(a,b+1,null):null};pb.getPropertyName=function(a){var b=a.indexOf("#");return-1!=b?a.substring(0,b):a};pb.fromPool=function(a,b,c){null==c&&(c="linear");return 0!=pb.sTweenPool.length?pb.sTweenPool.pop().reset(a,b,c):new pb(a,b,c)};pb.toPool=function(a){a._onStart=a._onUpdate=a._onRepeat=a._onComplete=null;a._onStartArgs=a._onUpdateArgs=a._onRepeatArgs=
a._onCompleteArgs=null;a._target=null;a._transitionFunc=null;a.removeEventListeners();pb.sTweenPool.push(a)};pb.__super__=Ja;pb.prototype=q(Ja.prototype,{_target:null,_transitionFunc:null,_transitionName:null,_properties:null,_startValues:null,_endValues:null,_updateFuncs:null,_onStart:null,_onUpdate:null,_onRepeat:null,_onComplete:null,_onStartArgs:null,_onUpdateArgs:null,_onRepeatArgs:null,_onCompleteArgs:null,_totalTime:null,_currentTime:null,_progress:null,_delay:null,_roundToInt:null,_nextTween:null,
_repeatCount:null,_repeatDelay:null,_reverse:null,_currentCycle:null,reset:function(a,b,c){null==c&&(c="linear");this._target=a;this._currentTime=0;this._totalTime=Math.max(1E-4,b);this._delay=this._repeatDelay=this._progress=0;this._onStartArgs=this._onUpdateArgs=this._onRepeatArgs=this._onCompleteArgs=this._onStart=this._onUpdate=this._onRepeat=this._onComplete=null;this._roundToInt=this._reverse=!1;this._repeatCount=1;this._currentCycle=-1;this._nextTween=null;if("string"==typeof c)this.set_transition(c);
else if(la.isFunction(c))this.set_transitionFunc(c);else throw new n(new sa("Transition must be either a string or a function"));null!=this._properties?Ka.clear(this._properties):this._properties=[];null!=this._startValues?Ka.clear(this._startValues):this._startValues=[];null!=this._endValues?Ka.clear(this._endValues):this._endValues=[];null!=this._updateFuncs?Ka.clear(this._updateFuncs):this._updateFuncs=[];return this},animate:function(a,b){if(null!=this._target){var c=this._properties.length,d=
this.getUpdateFuncFromProperty(a);this._properties[c]=pb.getPropertyName(a);this._startValues[c]=NaN;this._endValues[c]=b;this._updateFuncs[c]=d}},scaleTo:function(a){this.animate("scaleX",a);this.animate("scaleY",a)},moveTo:function(a,b){this.animate("x",a);this.animate("y",b)},fadeTo:function(a){this.animate("alpha",a)},rotateTo:function(a,b){null==b&&(b="rad");this.animate("rotation#"+b,a)},advanceTime:function(a){if(0!=a&&(1!=this._repeatCount||this._currentTime!=this._totalTime)){var b=this._currentTime,
c=this._totalTime-this._currentTime,c=a>c?a-c:0;this._currentTime+=a;if(!(0>=this._currentTime)){this._currentTime>this._totalTime&&(this._currentTime=this._totalTime);0>this._currentCycle&&0>=b&&0<this._currentTime&&(this._currentCycle++,null!=this._onStart&&this._onStart(this._onStartArgs));var d=this._currentTime/this._totalTime;a=this._startValues.length;this._progress=this._reverse&&1==this._currentCycle%2?this._transitionFunc(1-d):this._transitionFunc(d);for(d=0;d<a;){var e=d++;this._startValues[e]!=
this._startValues[e]&&(this._startValues[e]=la.getProperty(this._target,this._properties[e]));(0,this._updateFuncs[e])(this._properties[e],this._startValues[e],this._endValues[e])}null!=this._onUpdate&&this._onUpdate(this._onUpdateArgs);b<this._totalTime&&this._currentTime>=this._totalTime&&(0==this._repeatCount||1<this._repeatCount?(this._currentTime=-this._repeatDelay,this._currentCycle++,1<this._repeatCount&&this._repeatCount--,null!=this._onRepeat&&this._onRepeat(this._onRepeatArgs)):(b=this._onComplete,
a=this._onCompleteArgs,this.dispatchEventWith("removeFromJuggler"),null!=b&&b(a),0==this._currentTime&&(c=0)));0!=c&&this.advanceTime(c)}}},getUpdateFuncFromProperty:function(a){a=pb.getPropertyHint(a);if(null==a)a=p(this,this.updateStandard);else switch(a){case "deg":a=p(this,this.updateDeg);break;case "rad":a=p(this,this.updateRad);break;case "rgb":a=p(this,this.updateRgb);break;default:hb.trace("[Starling] Ignoring unknown property hint:",{fileName:"Tween.hx",lineNumber:261,className:"starling.animation.Tween",
methodName:"getUpdateFuncFromProperty",customParams:[a]}),a=p(this,this.updateStandard)}return a},updateStandard:function(a,b,c){b+=this._progress*(c-b);this._roundToInt&&(b=Math.round(b));la.setProperty(this._target,a,b)},updateRgb:function(a,b,c){la.setProperty(this._target,a,Xb.interpolate(b|0,c|0,this._progress))},updateRad:function(a,b,c){this.updateAngle(Math.PI,a,b,c)},updateDeg:function(a,b,c){this.updateAngle(180,a,b,c)},updateAngle:function(a,b,c,d){for(;Math.abs(d-c)>a;)d=c<d?d-2*a:d+2*
a;this.updateStandard(b,c,d)},getEndValue:function(a){var b=this._properties.indexOf(a);if(-1==b)throw new n(new sa("The property '"+a+"' is not animated"));return this._endValues[b]},get_isComplete:function(){return this._currentTime>=this._totalTime?1==this._repeatCount:!1},get_target:function(){return this._target},get_transition:function(){return this._transitionName},set_transition:function(a){this._transitionName=a;this._transitionFunc=F.getTransition(a);if(null==this._transitionFunc)throw new n(new sa("Invalid transiton: "+
a));return a},get_transitionFunc:function(){return this._transitionFunc},set_transitionFunc:function(a){this._transitionName="custom";return this._transitionFunc=a},get_totalTime:function(){return this._totalTime},get_currentTime:function(){return this._currentTime},get_progress:function(){return this._progress},get_delay:function(){return this._delay},set_delay:function(a){this._currentTime=this._currentTime+this._delay-a;return this._delay=a},get_repeatCount:function(){return this._repeatCount},
set_repeatCount:function(a){return this._repeatCount=a},get_repeatDelay:function(){return this._repeatDelay},set_repeatDelay:function(a){return this._repeatDelay=a},get_reverse:function(){return this._reverse},set_reverse:function(a){return this._reverse=a},get_roundToInt:function(){return this._roundToInt},set_roundToInt:function(a){return this._roundToInt=a},get_onStart:function(){return this._onStart},set_onStart:function(a){return this._onStart=a},get_onUpdate:function(){return this._onUpdate},
set_onUpdate:function(a){return this._onUpdate=a},get_onRepeat:function(){return this._onRepeat},set_onRepeat:function(a){return this._onRepeat=a},get_onComplete:function(){return this._onComplete},set_onComplete:function(a){return this._onComplete=a},get_onStartArgs:function(){return this._onStartArgs},set_onStartArgs:function(a){return this._onStartArgs=a},get_onUpdateArgs:function(){return this._onUpdateArgs},set_onUpdateArgs:function(a){return this._onUpdateArgs=a},get_onRepeatArgs:function(){return this._onRepeatArgs},
set_onRepeatArgs:function(a){return this._onRepeatArgs=a},get_onCompleteArgs:function(){return this._onCompleteArgs},set_onCompleteArgs:function(a){return this._onCompleteArgs=a},get_nextTween:function(){return this._nextTween},set_nextTween:function(a){return this._nextTween=a},__class__:pb,__properties__:{set_nextTween:"set_nextTween",get_nextTween:"get_nextTween",set_onCompleteArgs:"set_onCompleteArgs",get_onCompleteArgs:"get_onCompleteArgs",set_onRepeatArgs:"set_onRepeatArgs",get_onRepeatArgs:"get_onRepeatArgs",
set_onUpdateArgs:"set_onUpdateArgs",get_onUpdateArgs:"get_onUpdateArgs",set_onStartArgs:"set_onStartArgs",get_onStartArgs:"get_onStartArgs",set_onComplete:"set_onComplete",get_onComplete:"get_onComplete",set_onRepeat:"set_onRepeat",get_onRepeat:"get_onRepeat",set_onUpdate:"set_onUpdate",get_onUpdate:"get_onUpdate",set_onStart:"set_onStart",get_onStart:"get_onStart",set_roundToInt:"set_roundToInt",get_roundToInt:"get_roundToInt",set_reverse:"set_reverse",get_reverse:"get_reverse",set_repeatDelay:"set_repeatDelay",
get_repeatDelay:"get_repeatDelay",set_repeatCount:"set_repeatCount",get_repeatCount:"get_repeatCount",set_delay:"set_delay",get_delay:"get_delay",get_progress:"get_progress",get_currentTime:"get_currentTime",get_totalTime:"get_totalTime",set_transitionFunc:"set_transitionFunc",get_transitionFunc:"get_transitionFunc",set_transition:"set_transition",get_transition:"get_transition",get_target:"get_target",get_isComplete:"get_isComplete"}});var x=function(a,b,c,d,e,f){null==f&&(f="auto");if(null==b)throw new n(new sa("Stage must not be null"));
null==c&&(c=new O(0,0,b.stageWidth,b.stageHeight));null==d&&(d=b.stage3Ds.get(0));null==e&&(e=0);ib.initialize();x.sAll.push(this);this.makeCurrent();this._rootClass=a;this._viewPort=c;this._previousViewPort=new O;this._stage=new Dc(c.width|0,c.height|0,b.get_color());this._nativeOverlay=new Gb;this._nativeStage=b;this._nativeStage.addChild(this._nativeOverlay);this._touchProcessor=new Jb(this._stage);this._juggler=new Id;this._antiAliasing=0;this._supportHighResolutions=!1;this._frameTimestamp=oa.getTimer()/
1E3;this._painter=this.createPainter(d);b.scaleMode=2;b.align=6;a=0;for(c=this.get_touchEventTypes();a<c.length;){var g=c[a];++a;b.addEventListener(g,p(this,this.onTouch),!1,0,!0)}b.addEventListener("enterFrame",p(this,this.onEnterFrame),!1,0,!0);b.addEventListener("keyDown",p(this,this.onKey),!1,0,!0);b.addEventListener("keyUp",p(this,this.onKey),!1,0,!0);b.addEventListener("resize",p(this,this.onResize),!1,0,!0);b.addEventListener("mouseLeave",p(this,this.onMouseLeave),!1,0,!0);d.addEventListener("context3DCreate",
p(this,this.onContextCreated),!1,10,!0);d.addEventListener("error",p(this,this.onStage3DError),!1,10,!0);this._painter.get_shareContext()?vc.delay(p(this,this.initialize),1):(ib.get_supportsDepthAndStencil()||hb.trace("[Starling] Mask support requires 'depthAndStencil' to be enabled in the application descriptor.",{fileName:"Starling.hx",lineNumber:342,className:"starling.core.Starling",methodName:"new"}),this._painter.requestContext3D(e,f));this._frameID=0};h["starling.core.Starling"]=x;x.__name__=
["starling","core","Starling"];x.__properties__={get_sFrameID:"get_sFrameID",set_multitouchEnabled:"set_multitouchEnabled",get_multitouchEnabled:"get_multitouchEnabled",get_sContentScaleFactor:"get_sContentScaleFactor",get_sPainter:"get_sPainter",get_sJuggler:"get_sJuggler",get_sContext:"get_sContext",get_current:"get_current"};x.get_current=function(){return x.sCurrent};x.get_sContext=function(){return null!=x.sCurrent?x.sCurrent.get_context():null};x.get_sJuggler=function(){return null!=x.sCurrent?
x.sCurrent._juggler:null};x.get_sPainter=function(){return null!=x.sCurrent?x.sCurrent._painter:null};x.get_sContentScaleFactor=function(){return null!=x.sCurrent?x.sCurrent.get_contentScaleFactor():1};x.get_multitouchEnabled=function(){return 2==je.inputMode};x.set_multitouchEnabled=function(a){if(null!=x.sCurrent)throw new n(new Ba("'multitouchEnabled' must be set before Starling instance is created"));je.inputMode=a?2:1;return a};x.get_sFrameID=function(){return null!=x.sCurrent?x.sCurrent._frameID:
0};x.__super__=Ja;x.prototype=q(Ja.prototype,{_stage:null,_rootClass:null,_root:null,_juggler:null,_painter:null,_touchProcessor:null,_antiAliasing:null,_frameTimestamp:null,_frameID:null,_leftMouseDown:null,_statsDisplay:null,_started:null,_rendering:null,_supportHighResolutions:null,_skipUnchangedFrames:null,_showStats:null,_viewPort:null,_previousViewPort:null,_clippedViewPort:null,_nativeStage:null,_nativeStageEmpty:null,_nativeOverlay:null,initialize:function(){this.makeCurrent();this.updateViewPort(!0);
this.dispatchEventWith("context3DCreate",!1,this.get_context());this.initializeRoot();this._frameTimestamp=oa.getTimer()/1E3},initializeRoot:function(){if(null==this._root&&null!=this._rootClass){this._root=w.__cast(ea.createInstance(this.get_rootClass(),[]),V);if(null==this._root)throw new n(new wa("Invalid root class: "+E.string(this._rootClass)));this._stage.addChildAt(this._root,0);this.dispatchEventWith("rootCreated",!1,this._root)}},createPainter:function(a){var b=x.sPainters.h[a.__id__];null==
b&&(b=new Ga(a),x.sPainters.set(a,b));return b},nextFrame:function(){var a=oa.getTimer()/1E3,b=a-this._frameTimestamp;this._frameTimestamp=a;1<b&&(b=1);0>b&&(b=1/this._nativeStage.get_frameRate());this.advanceTime(b);this.render()},advanceTime:function(a){this.get_contextValid()&&(this.makeCurrent(),this._touchProcessor.advanceTime(a),this._stage.advanceTime(a),this._juggler.advanceTime(a))},render:function(){if(this.get_contextValid()){this.makeCurrent();this.updateViewPort();var a=this._stage.get_requiresRedraw()||
this.get_mustAlwaysRender();if(a){this.dispatchEventWith("render");var b=this._painter.get_shareContext(),c=this._viewPort.width/this._stage.get_stageWidth(),d=this._viewPort.height/this._stage.get_stageHeight();this._painter.nextFrame();this._painter.set_pixelSize(1/this.get_contentScaleFactor());this._painter.get_state().setProjectionMatrix(0>this._viewPort.x?-this._viewPort.x/c:0,0>this._viewPort.y?-this._viewPort.y/d:0,this._clippedViewPort.width/c,this._clippedViewPort.height/d,this._stage.get_stageWidth(),
this._stage.get_stageHeight(),this._stage.get_cameraPosition());b||this._painter.clear(this._stage.get_color(),1);this._stage.render(this._painter);this._painter.finishFrame();this._painter.set_frameID(++this._frameID);b||this._painter.present()}null!=this._statsDisplay&&(this._statsDisplay.set_drawCount(this._painter.get_drawCount()),a||this._statsDisplay.markFrameAsSkipped())}else hb.trace("context is invalid",{fileName:"Starling.hx",lineNumber:473,className:"starling.core.Starling",methodName:"render"})},
updateViewPort:function(a){null==a&&(a=!1);if(a||this._previousViewPort.width!=this._viewPort.width||this._previousViewPort.height!=this._viewPort.height||this._previousViewPort.x!=this._viewPort.x||this._previousViewPort.y!=this._viewPort.y)this._previousViewPort.setTo(this._viewPort.x,this._viewPort.y,this._viewPort.width,this._viewPort.height),this._clippedViewPort=this._viewPort.intersection(new O(0,0,this._nativeStage.stageWidth,this._nativeStage.stageHeight)),this.get_shareContext()||this._painter.configureBackBuffer(this._clippedViewPort,
1,this._antiAliasing,!0)},updateNativeOverlay:function(){this._nativeOverlay.set_x(this._viewPort.x);this._nativeOverlay.set_y(this._viewPort.y);this._nativeOverlay.set_scaleX(this._viewPort.width/this._stage.get_stageWidth());this._nativeOverlay.set_scaleY(this._viewPort.height/this._stage.get_stageHeight())},stopWithFatalError:function(a){var b=new dd;b.get_graphics().beginFill(0,.8);b.get_graphics().drawRect(0,0,this._stage.get_stageWidth(),this._stage.get_stageHeight());b.get_graphics().endFill();
var c=new oc,d=new od("Verdana",14,16777215);d.align=0;c.set_defaultTextFormat(d);c.set_wordWrap(!0);c.set_width(.75*this._stage.get_stageWidth());c.set_autoSize(0);c.set_text(a);c.set_x((this._stage.get_stageWidth()-c.get_width())/2);c.set_y((this._stage.get_stageHeight()-c.get_height())/2);c.set_background(!0);c.set_backgroundColor(5570560);this.updateNativeOverlay();this.get_nativeOverlay().addChild(b);this.get_nativeOverlay().addChild(c);this.stop(!0);hb.trace("[Starling]",{fileName:"Starling.hx",
lineNumber:586,className:"starling.core.Starling",methodName:"stopWithFatalError",customParams:[a]});this.dispatchEventWith("fatalError",!1,a)},makeCurrent:function(){x.sCurrent=this},start:function(){this._started=this._rendering=!0;this._frameTimestamp=oa.getTimer()/1E3;vc.delay(p(this,this.setRequiresRedraw),1)},stop:function(a){null==a&&(a=!1);this._started=!1;this._rendering=!a},setRequiresRedraw:function(){this._stage.setRequiresRedraw()},onStage3DError:function(a){3702==a.errorID?this.stopWithFatalError("Context3D not available! Possible reasons: wrong "+
("Desktop"==Zc.playerType?"renderMode":"wmode")+" or missing device support."):this.stopWithFatalError("Stage3D error: "+a.text)},onContextCreated:function(a){var b=this;this.get_stage3D().removeEventListener("context3DCreate",p(this,this.onContextCreated));vc.delay(function(){b.get_stage3D().addEventListener("context3DCreate",p(b,b.onContextRestored),!1,10,!0)},1);hb.trace("[Starling] Context ready. Display Driver:",{fileName:"Starling.hx",lineNumber:658,className:"starling.core.Starling",methodName:"onContextCreated",
customParams:[this.get_context().driverInfo]});this.initialize()},onContextRestored:function(a){hb.trace("[Starling] Context restored.",{fileName:"Starling.hx",lineNumber:664,className:"starling.core.Starling",methodName:"onContextRestored"});this.updateViewPort(!0);this.dispatchEventWith("context3DCreate",!1,this.get_context())},onEnterFrame:function(a){this.get_shareContext()||(this._started?this.nextFrame():this._rendering&&this.render());this.updateNativeOverlay()},onKey:function(a){if(this._started){var b=
new jg(a.type,a.charCode,a.keyCode,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey);this.makeCurrent();this._stage.dispatchEvent(b);b.isDefaultPrevented()&&a.preventDefault()}},onResize:function(a){var b=this;a=w.__cast(a.target,be);var c=a.stageWidth,d=a.stageHeight,e=null;a=e=function(){b.makeCurrent();b.removeEventListener("context3DCreate",e);b._stage.dispatchEvent(new kg("resize",c,d))};this.get_contextValid()?a():this.addEventListener("context3DCreate",a)},onMouseLeave:function(a){this._touchProcessor.enqueueMouseLeftStage()},
onTouch:function(a){if(this._started){var b,c,d,e=null,f=1,g=1,l=1;if(w.__instanceof(a,ja))c=w.__cast(a,ja),b=c.stageX,c=c.stageY,d=0,"mouseDown"==a.type?this._leftMouseDown=!0:"mouseUp"==a.type&&(this._leftMouseDown=!1);else{l=w.__cast(a,Kb);if(l.isPrimaryTouchPoint)return;b=l.stageX;c=l.stageY;d=l.touchPointID;f=l.pressure;g=l.sizeX;l=l.sizeY}switch(a.type){case "mouseDown":e="began";break;case "mouseMove":e=this._leftMouseDown?"moved":"hover";break;case "mouseUp":e="ended";break;case "touchBegin":e=
"began";break;case "touchEnd":e="ended";break;case "touchMove":e="moved"}b=this._stage.get_stageWidth()*(b-this._viewPort.x)/this._viewPort.width;c=this._stage.get_stageHeight()*(c-this._viewPort.y)/this._viewPort.height;this._touchProcessor.enqueue(d,e,b,c,f,g,l);"mouseUp"==a.type&&this._touchProcessor.enqueue(d,"hover",b,c)}},get_touchEventTypes:function(){var a=[];x.get_multitouchEnabled()&&(a.push("touchBegin"),a.push("touchMove"),a.push("touchEnd"));a.push("mouseDown");a.push("mouseMove");a.push("mouseUp");
return a},get_mustAlwaysRender:function(){return!0},get_context:function(){return this._painter.get_context()},set_simulateMultitouch:function(a){return this._touchProcessor.set_simulateMultitouch(a)},set_enableErrorChecking:function(a){return this._painter.set_enableErrorChecking(a)},set_viewPort:function(a){return this._viewPort=a.clone()},get_contentScaleFactor:function(){return this._viewPort.width*this._painter.get_backBufferScaleFactor()/this._stage.get_stageWidth()},get_nativeOverlay:function(){return this._nativeOverlay},
get_showStats:function(){return this._showStats},set_showStats:function(a){(this._showStats=a)?null!=this._statsDisplay?this._stage.addChild(this._statsDisplay):this.showStatsAt():null!=this._statsDisplay&&this._statsDisplay.removeFromParent();return a},showStatsAt:function(a,b,c){null==c&&(c=1);null==b&&(b="top");null==a&&(a="left");var d=this;this._showStats=!0;var e=null,f=e=function(){d._showStats&&d.showStatsAt(a,b,c);d.removeEventListener("rootCreated",e)};if(null==this.get_context())this.addEventListener("rootCreated",
f);else{var f=this._stage.get_stageWidth(),g=this._stage.get_stageHeight();null==this._statsDisplay&&(this._statsDisplay=new lg,this._statsDisplay.set_touchable(!1));this._stage.addChild(this._statsDisplay);this._statsDisplay.set_scaleX(this._statsDisplay.set_scaleY(c));if("left"==a)this._statsDisplay.set_x(0);else if("right"==a)this._statsDisplay.set_x(f-this._statsDisplay.get_width());else if("center"==a)this._statsDisplay.set_x((f-this._statsDisplay.get_width())/2);else throw new n(new sa("Invalid horizontal alignment: "+
a));if("top"==b)this._statsDisplay.set_y(0);else if("bottom"==b)this._statsDisplay.set_y(g-this._statsDisplay.get_height());else if("center"==b)this._statsDisplay.set_y((g-this._statsDisplay.get_height())/2);else throw new n(new sa("Invalid vertical alignment: "+b));}},get_stage:function(){return this._stage},get_stage3D:function(){return this._painter.get_stage3D()},get_nativeStage:function(){return this._nativeStage},get_root:function(){return this._root},get_rootClass:function(){return this._rootClass},
get_shareContext:function(){return this._painter.get_shareContext()},get_profile:function(){return this._painter.get_profile()},set_skipUnchangedFrames:function(a){this._skipUnchangedFrames=a;this._nativeStageEmpty=!1;return a},get_contextValid:function(){return this._painter.get_contextValid()},__class__:x,__properties__:{get_contextValid:"get_contextValid",set_skipUnchangedFrames:"set_skipUnchangedFrames",get_profile:"get_profile",get_shareContext:"get_shareContext",get_rootClass:"get_rootClass",
get_root:"get_root",get_nativeStage:"get_nativeStage",get_stage3D:"get_stage3D",get_stage:"get_stage",set_showStats:"set_showStats",get_showStats:"get_showStats",get_nativeOverlay:"get_nativeOverlay",get_contentScaleFactor:"get_contentScaleFactor",set_viewPort:"set_viewPort",set_enableErrorChecking:"set_enableErrorChecking",set_simulateMultitouch:"set_simulateMultitouch",get_context:"get_context",get_mustAlwaysRender:"get_mustAlwaysRender",get_touchEventTypes:"get_touchEventTypes"}});var lg=function(){this._frameCount=
this._totalTime=this._fps=this._memory=this._drawCount=this._skipCount=0;J.call(this);var a=new qd("mini",-1,16777215,"left","top");this._background=new Va(50,25,0);this._textField=new ka(48,25,"",a);this._textField.set_x(2);this._background.get_style().get_type()!=Yb&&this._background.set_style(new Yb);this._textField.get_style().get_type()!=Yb&&this._textField.set_style(new Yb);this.addChild(this._background);this.addChild(this._textField);this.addEventListener("addedToStage",p(this,this.onAddedToStage));
this.addEventListener("removedFromStage",p(this,this.onRemovedFromStage))};h["starling.core.StatsDisplay"]=lg;lg.__name__=["starling","core","StatsDisplay"];lg.__super__=mb;lg.prototype=q(mb.prototype,{_background:null,_textField:null,_frameCount:null,_totalTime:null,_fps:null,_memory:null,_drawCount:null,_skipCount:null,onAddedToStage:function(){this.addEventListener("enterFrame",p(this,this.onEnterFrame));this._totalTime=this._frameCount=this._skipCount=0;this.update()},onRemovedFromStage:function(){this.removeEventListener("enterFrame",
p(this,this.onEnterFrame))},onEnterFrame:function(a){this._totalTime+=a.get_passedTime();this._frameCount++;.5<this._totalTime&&(this.update(),this._totalTime=this._frameCount=this._skipCount=0)},update:function(){this._fps=0<this._totalTime?this._frameCount/this._totalTime:0;this._memory=9.54E-7*ue.get_totalMemory();this._background.set_color(this._skipCount>this._frameCount/2?16128:0);this._textField.set_text("FPS: "+Math.round(10*this._fps)/10+"\nMEM: "+Math.round(10*this._memory)/10+"\nDRW: "+
(0<this._totalTime?this._drawCount-2:this._drawCount))},markFrameAsSkipped:function(){this._skipCount+=1},render:function(a){a.excludeFromCache(this);a.finishMeshBatch();mb.prototype.render.call(this,a)},set_drawCount:function(a){return this._drawCount=a},__class__:lg,__properties__:q(mb.prototype.__properties__,{set_drawCount:"set_drawCount"})});var qb=function(a,b,c){this._name=a;this._sourceFactor=b;this._destinationFactor=c};h["starling.display.BlendMode"]=qb;qb.__name__=["starling","display",
"BlendMode"];qb.get=function(a){null==qb.sBlendModes&&qb.registerDefaults();var b=qb.sBlendModes,b=null!=m[a]?b.getReserved(a):b.h[a];if(null!=b)return b;throw new n(new sa("Blend mode not found: "+a));};qb.register=function(a,b,c){null==qb.sBlendModes&&qb.registerDefaults();b=new qb(a,b,c);c=qb.sBlendModes;null!=m[a]?c.setReserved(a,b):c.h[a]=b;return b};qb.registerDefaults=function(){null==qb.sBlendModes&&(qb.sBlendModes=new T,qb.register("none",2,9),qb.register("normal",2,5),qb.register("add",
2,2),qb.register("multiply",1,5),qb.register("screen",2,6),qb.register("erase",9,5),qb.register("mask",9,7),qb.register("below",3,0))};qb.prototype={_name:null,_sourceFactor:null,_destinationFactor:null,activate:function(){x.get_sContext().setBlendFactors(this._sourceFactor,this._destinationFactor)},__class__:qb};var Pc=function(a,b,c,d,e){null==b&&(b="");J.call(this);if(null==a)throw new n(new sa("Texture 'upState' cannot be null"));this._upState=a;this._downState=c;this._overState=d;this._disabledState=
e;this._state="up";this._body=new z(a);this._body.set_pixelSnapping(!0);this._scaleWhenDown=null!=c?1:.9;this._scaleWhenOver=this._alphaWhenDown=1;this._alphaWhenDisabled=null!=e?1:.5;this._useHandCursor=this._enabled=!0;this._textBounds=new O(0,0,this._body.get_width(),this._body.get_height());this._triggerBounds=new O;this._contents=new mb;this._contents.addChild(this._body);this.addChild(this._contents);this.addEventListener("touch",p(this,this.onTouch));this.set_touchGroup(!0);this.set_text(b)};
h["starling.display.Button"]=Pc;Pc.__name__=["starling","display","Button"];Pc.__super__=J;Pc.prototype=q(J.prototype,{_upState:null,_downState:null,_overState:null,_disabledState:null,_contents:null,_body:null,_textField:null,_textBounds:null,_scaleWhenDown:null,_scaleWhenOver:null,_alphaWhenDown:null,_alphaWhenDisabled:null,_enabled:null,_state:null,_triggerBounds:null,dispose:function(){null!=this._textField&&this._textField.dispose();J.prototype.dispose.call(this)},readjustSize:function(){var a=
this._body.get_width(),b=this._body.get_height();this._body.readjustSize();a=this._body.get_width()/a;b=this._body.get_height()/b;this._textBounds.x*=a;this._textBounds.y*=b;this._textBounds.width*=a;this._textBounds.height*=b;null!=this._textField&&this.createTextField()},createTextField:function(){null==this._textField&&(this._textField=new ka(this._textBounds.width|0,this._textBounds.height|0),this._textField.set_pixelSnapping(this._body.get_pixelSnapping()),this._textField.set_touchable(!1),this._textField.set_autoScale(!0),
this._textField.set_batchable(!0));this._textField.set_width(this._textBounds.width);this._textField.set_height(this._textBounds.height);this._textField.set_x(this._textBounds.x);this._textField.set_y(this._textBounds.y)},onTouch:function(a){a=a.getTouch(this);this._enabled&&(null==a?this.set_state("up"):"hover"==a.get_phase()?this.set_state("over"):"began"==a.get_phase()&&"down"!=this._state?(this._triggerBounds=this.getBounds(this.get_stage(),this._triggerBounds),this._triggerBounds.inflate(50,
50),this.set_state("down")):"moved"==a.get_phase()?(a=this._triggerBounds.contains(a.get_globalX(),a.get_globalY()),"down"!=this._state||a?"up"==this._state&&a&&this.set_state("down"):this.set_state("up")):"ended"==a.get_phase()&&"down"==this._state&&(this.set_state("up"),a.get_cancelled()||this.dispatchEventWith("triggered",!0)))},set_state:function(a){this._state=a;this._contents.set_x(this._contents.set_y(0));this._contents.set_scaleX(this._contents.set_scaleY(this._contents.set_alpha(1)));switch(this._state){case "disabled":this.setStateTexture(this._disabledState);
this._contents.set_alpha(this._alphaWhenDisabled);break;case "down":this.setStateTexture(this._downState);this._contents.set_alpha(this._alphaWhenDown);this._contents.set_scaleX(this._contents.set_scaleY(this._scaleWhenDown));this._contents.set_x((1-this._scaleWhenDown)/2*this._body.get_width());this._contents.set_y((1-this._scaleWhenDown)/2*this._body.get_height());break;case "over":this.setStateTexture(this._overState);this._contents.set_scaleX(this._contents.set_scaleY(this._scaleWhenOver));this._contents.set_x((1-
this._scaleWhenOver)/2*this._body.get_width());this._contents.set_y((1-this._scaleWhenOver)/2*this._body.get_height());break;case "up":this.setStateTexture(this._upState);break;default:throw new n(new sa("Invalid button state: "+this._state));}return a},setStateTexture:function(a){this._body.set_texture(null!=a?a:this._upState)},set_enabled:function(a){this._enabled!=a&&(this._enabled=a,this.set_state(a?"up":"disabled"));return a},set_text:function(a){0==a.length?null!=this._textField&&(this._textField.set_text(a),
this._textField.removeFromParent()):(this.createTextField(),this._textField.set_text(a),null==this._textField.get_parent()&&this._contents.addChild(this._textField));return a},get_textBounds:function(){return this._textBounds},set_useHandCursor:function(a){return this._useHandCursor=a},set_width:function(a){var b=a/Y.logicalOr(this.get_scaleX(),1),c=b/Y.logicalOr(this._body.get_width(),1);this._body.set_width(b);this._textBounds.x*=c;this._textBounds.width*=c;null!=this._textField&&this._textField.set_width(b);
return a},set_height:function(a){var b=a/Y.logicalOr(this.get_scaleY(),1),c=b/Y.logicalOr(this._body.get_height(),1);this._body.set_height(b);this._textBounds.y*=c;this._textBounds.height*=c;null!=this._textField&&this._textField.set_height(b);return a},set_scale9Grid:function(a){return this._body.set_scale9Grid(a)},__class__:Pc,__properties__:q(J.prototype.__properties__,{set_scale9Grid:"set_scale9Grid",get_textBounds:"get_textBounds",set_text:"set_text",set_enabled:"set_enabled",set_state:"set_state"})});
var hg=function(){J.call(this);this._polygons=[];this._fillColor=16777215;this._fillAlpha=1;this.set_touchGroup(!0)};h["starling.display.Canvas"]=hg;hg.__name__=["starling","display","Canvas"];hg.__super__=J;hg.prototype=q(J.prototype,{_polygons:null,_fillColor:null,_fillAlpha:null,dispose:function(){Ka.clear(this._polygons);J.prototype.dispose.call(this)},hitTest:function(a){if(!this.get_visible()||!this.get_touchable()||!this.hitTestMask(a))return null;for(var b=0,c=this._polygons.length;b<c;){var d=
b++;if(this._polygons[d].containsPoint(a))return this}return null},drawCircle:function(a,b,c){this.appendPolygon(Db.createCircle(a,b,c))},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=16777215);this._fillColor=a;this._fillAlpha=b},endFill:function(){this._fillColor=16777215;this._fillAlpha=1},appendPolygon:function(a){var b=new N,c=new Ma(3*a.get_numTriangles());a.triangulate(c);a.copyToVertexData(b);b.colorize("color",this._fillColor,this._fillAlpha);this.addChild(new wb(b,c));this._polygons[this._polygons.length]=
a},__class__:hg});var fc=function(){this._attributes=[]};h["starling.rendering.VertexDataFormat"]=fc;fc.__name__=["starling","rendering","VertexDataFormat"];fc.fromString=function(a){var b=fc.sFormats,c=null!=m[a]?b.getReserved(a):b.h[a];if(null!=c)return c;b=new fc;b.parseFormat(a);var d=b._format,c=fc.sFormats,c=null!=m[d]?c.getReserved(d):c.h[d];null!=c&&(b=c);c=fc.sFormats;null!=m[a]?c.setReserved(a,b):c.h[a]=b;a=fc.sFormats;null!=m[d]?a.setReserved(d,b):a.h[d]=b;return b};fc.getVertexBufferFormatFromString=
function(a){switch(a){case "FLOAT_2":case "float2":return 2;case "FLOAT_4":case "float4":return 4;case "BYTES_4":case "bytes4":return 0;case "FLOAT_1":case "float1":return 1;case "FLOAT_3":case "float3":return 3;default:return null}};fc.prototype={_format:null,_vertexSize:null,_attributes:null,extend:function(a){return fc.fromString(this._format+", "+a)},getOffset:function(a){return this.getAttribute(a).offset},hasAttribute:function(a){for(var b=0,c=this._attributes.length;b<c;){var d=b++;if(this._attributes[d].name==
a)return!0}return!1},setVertexBufferAt:function(a,b,c){c=this.getAttribute(c);var d=c.offset/4|0;x.get_sContext().setVertexBufferAt(a,b,d,c.format)},parseFormat:function(a){if(null!=a&&""!=a){Ka.clear(this._attributes);this._format="";a=a.split(",");for(var b=0,c=0,d=a.length;c<d;){var e=c++,f=a[e],g=f.split(":");if(2!=g.length)throw new n(new sa("Missing colon: "+f));var l=rd.trim(g[0]),g=rd.trim(g[1]);if(0==l.length||0==g.length)throw new n(new sa("Invalid format string: "+f));f=new oh(l,fc.getVertexBufferFormatFromString(g),
b);b+=f.size;this._format+=(0==e?"":", ")+f.name+":"+Yh.toString(f.format);this._attributes[this._attributes.length]=f}this._vertexSize=b}else this._format=""},getAttribute:function(a){for(var b,c=0,d=this._attributes.length;c<d;)if(b=c++,b=this._attributes[b],b.name==a)return b;return null},get_attributes:function(){return this._attributes},get_vertexSize:function(){return this._vertexSize},get_numAttributes:function(){return this._attributes.length},__class__:fc,__properties__:{get_numAttributes:"get_numAttributes",
get_vertexSize:"get_vertexSize",get_attributes:"get_attributes"}};var gc=function(){this._mvpMatrix3D=new jb;this._programBaseName=ea.getClassName(w.getClass(this));x.get_current().get_stage3D().addEventListener("context3DCreate",p(this,this.onContextCreated),!1,0,!0);this._indexBufferSize=this._vertexBufferSize=0;this._indexBufferUsesQuadLayout=!1};h["starling.rendering.Effect"]=gc;gc.__name__=["starling","rendering","Effect"];gc.prototype={_vertexBuffer:null,_vertexBufferSize:null,_indexBuffer:null,
_indexBufferSize:null,_indexBufferUsesQuadLayout:null,_mvpMatrix3D:null,_onRestore:null,_programBaseName:null,dispose:function(){x.get_current().get_stage3D().removeEventListener("context3DCreate",p(this,this.onContextCreated));this.purgeBuffers()},onContextCreated:function(a){this.purgeBuffers();this._onRestore()},purgeBuffers:function(a,b){null==b&&(b=!0);null==a&&(a=!0);null!=this._vertexBuffer&&a&&(this._vertexBuffer.dispose(),this._vertexBuffer=null);null!=this._indexBuffer&&b&&(this._indexBuffer.dispose(),
this._indexBuffer=null)},uploadIndexData:function(a,b){null==b&&(b=1);var c=a.get_numIndices(),d=a.get_useQuadLayout(),e=this._indexBufferUsesQuadLayout;null!=this._indexBuffer&&(c<=this._indexBufferSize?d&&e||(a.uploadToIndexBuffer(this._indexBuffer),this._indexBufferUsesQuadLayout=d&&c==this._indexBufferSize):this.purgeBuffers(!1,!0));null==this._indexBuffer&&(this._indexBuffer=a.createIndexBuffer(!0,b),this._indexBufferSize=c,this._indexBufferUsesQuadLayout=d)},uploadVertexData:function(a,b){null==
b&&(b=1);null!=this._vertexBuffer&&(a.get_size()<=this._vertexBufferSize?a.uploadToVertexBuffer(this._vertexBuffer):this.purgeBuffers(!0,!1));null==this._vertexBuffer&&(this._vertexBuffer=a.createVertexBuffer(!0,b),this._vertexBufferSize=a.get_size())},render:function(a,b){null==b&&(b=-1);null==a&&(a=0);0>b&&(b=this._indexBufferSize/3|0);if(0!=b){var c=x.get_sContext();if(null==c)throw new n(new sd);this.beforeDraw(c);c.drawTriangles(this.get_indexBuffer(),a,b);this.afterDraw(c)}},beforeDraw:function(a){this.get_program().activate(a);
this.get_vertexFormat().setVertexBufferAt(0,this.get_vertexBuffer(),"position");a.setProgramConstantsFromMatrix(1,0,this.get_mvpMatrix3D(),!0)},afterDraw:function(a){a.setVertexBufferAt(0,null)},createProgram:function(){return rc.fromSource("m44 op, va0, vc0\nseq v0, va0, va0","mov oc, v0")},get_programVariantName:function(){return 0},get_programBaseName:function(){return this._programBaseName},get_programName:function(){var a=this.get_programBaseName(),b=this.get_programVariantName(),c=gc.sProgramNameCache,
c=null!=m[a]?c.getReserved(a):c.h[a];if(null==c){var c=new Ib,d=gc.sProgramNameCache;null!=m[a]?d.setReserved(a,c):d.h[a]=c}d=c.h[b];null==d&&(d=0!=b?a+"#"+ba.hex(b):a,c.h[b]=d);return d},get_program:function(){var a=this.get_programName(),b=x.get_sPainter(),c=b.getProgram(a);null==c&&(c=this.createProgram(),b.registerProgram(a,c));return c},set_onRestore:function(a){return this._onRestore=a},get_vertexFormat:function(){return gc.VERTEX_FORMAT},get_mvpMatrix3D:function(){return this._mvpMatrix3D},
set_mvpMatrix3D:function(a){this._mvpMatrix3D.copyFrom(a);return a},get_indexBuffer:function(){return this._indexBuffer},get_vertexBuffer:function(){return this._vertexBuffer},__class__:gc,__properties__:{get_vertexBuffer:"get_vertexBuffer",get_indexBuffer:"get_indexBuffer",set_mvpMatrix3D:"set_mvpMatrix3D",get_mvpMatrix3D:"get_mvpMatrix3D",get_vertexFormat:"get_vertexFormat",set_onRestore:"set_onRestore",get_program:"get_program",get_programName:"get_programName",get_programBaseName:"get_programBaseName",
get_programVariantName:"get_programVariantName"}};var R=function(){gc.call(this);this._textureSmoothing="bilinear";this._textureRepeat=!1};h["starling.rendering.FilterEffect"]=R;R.__name__=["starling","rendering","FilterEffect"];R.tex=function(a,b,c,d,e){null==e&&(e=!0);return Ac.createAGALTexOperation(a,b,c,d,e)};R.__super__=gc;R.prototype=q(gc.prototype,{_texture:null,_textureSmoothing:null,_textureRepeat:null,get_programVariantName:function(){return Ac.getTextureVariantBits(this._texture)},createProgram:function(){if(null!=
this._texture){var a=R.STD_VERTEX_SHADER,b=R.tex("oc","v0",0,this._texture);return rc.fromSource(a,b)}return gc.prototype.createProgram.call(this)},beforeDraw:function(a){gc.prototype.beforeDraw.call(this,a);if(null!=this._texture){var b=this._textureRepeat&&this._texture.get_root().get_isPotTexture();Ac.setSamplerStateAt(0,this._texture.get_mipMapping(),this._textureSmoothing,b);a.setTextureAt(0,this._texture.get_base());this.get_vertexFormat().setVertexBufferAt(1,this.get_vertexBuffer(),"texCoords")}},
afterDraw:function(a){null!=this._texture&&(a.setTextureAt(0,null),a.setVertexBufferAt(1,null));gc.prototype.afterDraw.call(this,a)},get_vertexFormat:function(){return R.VERTEX_FORMAT},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=a},get_textureSmoothing:function(){return this._textureSmoothing},set_textureSmoothing:function(a){return this._textureSmoothing=a},set_textureRepeat:function(a){return this._textureRepeat=a},__class__:R,__properties__:q(gc.prototype.__properties__,
{set_textureRepeat:"set_textureRepeat",set_textureSmoothing:"set_textureSmoothing",get_textureSmoothing:"get_textureSmoothing",set_texture:"set_texture",get_texture:"get_texture"})});var sc=function(){R.call(this);this._alpha=1;this._optimizeIfNotTinted=null!=(this instanceof sc?this:null)};h["starling.rendering.MeshEffect"]=sc;sc.__name__=["starling","rendering","MeshEffect"];sc.__super__=R;sc.prototype=q(R.prototype,{_alpha:null,_tinted:null,_optimizeIfNotTinted:null,get_programVariantName:function(){var a=
this._optimizeIfNotTinted&&!this._tinted&&1==this._alpha?1:0;return R.prototype.get_programVariantName.call(this)|a<<3},createProgram:function(){var a,b;if(null!=this.get_texture()){if(this._optimizeIfNotTinted&&!this._tinted&&1==this._alpha)return R.prototype.createProgram.call(this);a="m44 op, va0, vc0 \nmov v0, va1      \nmul v1, va2, vc4 \n";b=R.tex("ft0","v0",0,this.get_texture())+"mul oc, ft0, v1  \n"}else a="m44 op, va0, vc0 \nmul v0, va2, vc4 \n",b="mov oc, v0       \n";return rc.fromSource(a,
b)},beforeDraw:function(a){R.prototype.beforeDraw.call(this,a);sc.sRenderAlpha.set(0,sc.sRenderAlpha.set(1,sc.sRenderAlpha.set(2,sc.sRenderAlpha.set(3,this._alpha))));a.setProgramConstantsFromVector(1,4,sc.sRenderAlpha);!this._tinted&&1==this._alpha&&this._optimizeIfNotTinted&&null!=this.get_texture()||this.get_vertexFormat().setVertexBufferAt(2,this.get_vertexBuffer(),"color")},afterDraw:function(a){a.setVertexBufferAt(2,null);R.prototype.afterDraw.call(this,a)},get_vertexFormat:function(){return sc.VERTEX_FORMAT},
set_alpha:function(a){return this._alpha=a},set_tinted:function(a){return this._tinted=a},__class__:sc,__properties__:q(R.prototype.__properties__,{set_tinted:"set_tinted",set_alpha:"set_alpha"})});var Yb=function(){this._textureSmoothing="bilinear";this._type=w.getClass(this)};h["starling.styles.MeshStyle"]=Yb;Yb.__name__=["starling","styles","MeshStyle"];Yb.__super__=Ja;Yb.prototype=q(Ja.prototype,{_type:null,_target:null,_texture:null,_textureBase:null,_textureSmoothing:null,_textureRepeat:null,
_vertexData:null,_indexData:null,copyFrom:function(a){this._texture=a._texture;this._textureBase=a._textureBase;this._textureRepeat=a._textureRepeat;this._textureSmoothing=a._textureSmoothing},createEffect:function(){return new sc},updateEffect:function(a,b){a.set_texture(this._texture);a.set_textureRepeat(this._textureRepeat);a.set_textureSmoothing(this._textureSmoothing);a.set_mvpMatrix3D(b.get_mvpMatrix3D());a.set_alpha(b.get_alpha());a.set_tinted(this._vertexData.get_tinted())},canBatchWith:function(a){if(this._type==
a._type){var b=a._texture;return null==this._texture&&null==b?!0:null!=this._texture&&null!=b?this._textureBase==a._textureBase&&this._textureSmoothing==a._textureSmoothing?this._textureRepeat==a._textureRepeat:!1:!1}return!1},batchVertexData:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==b&&(b=0);this._vertexData.copyTo(a._vertexData,b,c,d,e)},batchIndexData:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);this._indexData.copyTo(a._indexData,b,c,d,e)},setRequiresRedraw:function(){null!=
this._target&&this._target.setRequiresRedraw()},onTargetAssigned:function(a){},addEventListener:function(a,b){"enterFrame"==a&&null!=this._target&&this._target.addEventListener("enterFrame",p(this,this.onEnterFrame));Ja.prototype.addEventListener.call(this,a,b)},removeEventListener:function(a,b){"enterFrame"==a&&null!=this._target&&this._target.removeEventListener(a,p(this,this.onEnterFrame));Ja.prototype.removeEventListener.call(this,a,b)},onEnterFrame:function(a){this.dispatchEvent(a)},setTarget:function(a,
b,c){this._target!=a&&(null!=this._target&&this._target.removeEventListener("enterFrame",p(this,this.onEnterFrame)),null!=b&&b.set_format(this.get_vertexFormat()),this._target=a,this._vertexData=b,this._indexData=c,null!=a&&(this.hasEventListener("enterFrame")&&a.addEventListener("enterFrame",p(this,this.onEnterFrame)),this.onTargetAssigned(a)))},getTexCoords:function(a,b){return null!=this._texture?this._texture.getTexCoords(this._vertexData,a,"texCoords",b):this._vertexData.getPoint(a,"texCoords",
b)},get_type:function(){return this._type},set_color:function(a){for(var b=0,c=this._vertexData.get_numVertices();b<c;){var d=b++;this._vertexData.setColor(d,"color",a)}16777215==a&&this._vertexData.get_tinted()&&this._vertexData.updateTinted();this.setRequiresRedraw();return a},get_vertexFormat:function(){return Yb.VERTEX_FORMAT},get_texture:function(){return this._texture},set_texture:function(a){if(a!=this._texture){if(null!=a)for(var b=0,c=null!=this._vertexData?this._vertexData.get_numVertices():
0;b<c;){var d=b++;this.getTexCoords(d,Yb.sPoint);a.setTexCoords(this._vertexData,d,"texCoords",Yb.sPoint.x,Yb.sPoint.y)}this._texture=a;this._textureBase=null!=a?a.get_base():null;this.setRequiresRedraw()}return a},set_textureSmoothing:function(a){a!=this._textureSmoothing&&(this._textureSmoothing=a,this.setRequiresRedraw());return a},get_target:function(){return this._target},__class__:Yb,__properties__:{get_target:"get_target",set_textureSmoothing:"set_textureSmoothing",set_texture:"set_texture",
get_texture:"get_texture",get_vertexFormat:"get_vertexFormat",set_color:"set_color",get_type:"get_type"}});var wb=function(a,b,c){V.call(this);if(null==a)throw new n(new sa("VertexData must not be null"));if(null==b)throw new n(new sa("IndexData must not be null"));this._vertexData=a;this._indexData=b;this.setStyle(c,!1);this._pixelSnapping=!1};h["starling.display.Mesh"]=wb;wb.__name__=["starling","display","Mesh"];wb.__super__=V;wb.prototype=q(V.prototype,{_style:null,_vertexData:null,_indexData:null,
_pixelSnapping:null,dispose:function(){this._vertexData.clear();this._indexData.clear();V.prototype.dispose.call(this)},hitTest:function(a){return this.get_visible()&&this.get_touchable()&&this.hitTestMask(a)?Bc.containsPoint(this._vertexData,this._indexData,a)?this:null:null},getBounds:function(a,b){return Bc.calculateBounds(this._vertexData,this,a,b)},render:function(a){this._pixelSnapping&&H.snapToPixels(a.get_state().get_modelviewMatrix(),a.get_pixelSize());a.batchMesh(this)},setStyle:function(a,
b){null==b&&(b=!0);if(null==a)a=ea.createInstance(wb.sDefaultStyle,[]);else{if(a==this._style)return;null!=a.get_target()&&a.get_target().setStyle()}null!=this._style&&(b&&a.copyFrom(this._style),this._style.setTarget(null));this._style=a;this._style.setTarget(this,this._vertexData,this._indexData)},get_vertexData:function(){return this._vertexData},get_indexData:function(){return this._indexData},get_style:function(){return this._style},set_style:function(a){this.setStyle(a);return a},get_texture:function(){return this._style.get_texture()},
set_texture:function(a){return this._style.set_texture(a)},set_color:function(a){return this._style.set_color(a)},set_textureSmoothing:function(a){return this._style.set_textureSmoothing(a)},get_pixelSnapping:function(){return this._pixelSnapping},set_pixelSnapping:function(a){return this._pixelSnapping=a},get_numVertices:function(){return this._vertexData.get_numVertices()},get_numIndices:function(){return this._indexData.get_numIndices()},__class__:wb,__properties__:q(V.prototype.__properties__,
{get_numIndices:"get_numIndices",get_numVertices:"get_numVertices",set_pixelSnapping:"set_pixelSnapping",get_pixelSnapping:"get_pixelSnapping",set_textureSmoothing:"set_textureSmoothing",set_color:"set_color",set_texture:"set_texture",get_texture:"get_texture",set_style:"set_style",get_style:"get_style",get_indexData:"get_indexData",get_vertexData:"get_vertexData"})});var Va=function(a,b,c){null==c&&(c=16777215);this._bounds=new O(0,0,a,b);var d=new N(Yb.VERTEX_FORMAT,4),e=new Ma(6);wb.call(this,
d,e);if(0==a||0==b)throw new n(new sa("Invalid size: width and height must not be zero"));this.setupVertices();this.set_color(c)};h["starling.display.Quad"]=Va;Va.__name__=["starling","display","Quad"];Va.fromTexture=function(a){var b=new Va(100,100);b.set_texture(a);b.readjustSize();return b};Va.__super__=wb;Va.prototype=q(wb.prototype,{_bounds:null,setupVertices:function(){var a=this.get_style().get_texture(),b=this.get_vertexData(),c=this.get_indexData();c.set_numIndices(0);c.addQuad(0,1,2,3);
b.set_numVertices(4);b.trim();null!=a?(a.setupVertexPositions(b,0,"position",this._bounds),a.setupTextureCoordinates(b,0,"texCoords")):(b.setPoint(0,"position",this._bounds.get_left(),this._bounds.get_top()),b.setPoint(1,"position",this._bounds.get_right(),this._bounds.get_top()),b.setPoint(2,"position",this._bounds.get_left(),this._bounds.get_bottom()),b.setPoint(3,"position",this._bounds.get_right(),this._bounds.get_bottom()),b.setPoint(0,"texCoords",0,0),b.setPoint(1,"texCoords",1,0),b.setPoint(2,
"texCoords",0,1),b.setPoint(3,"texCoords",1,1));this.setRequiresRedraw()},getBounds:function(a,b){null==b&&(b=new O);if(a==this)b.copyFrom(this._bounds);else if(a==this.get_parent()&&0==this.get_rotation()){var c=this.get_scaleX(),d=this.get_scaleY();b.setTo(this.get_x()-this.get_pivotX()*c,this.get_y()-this.get_pivotY()*d,this._bounds.width*c,this._bounds.height*d);0>c&&(b.width*=-1,b.x-=b.width);0>d&&(b.height*=-1,b.y-=b.height)}else this.get_is3D()&&null!=this.get_stage()?(this.get_stage().getCameraPosition(a,
Va.sPoint3D),this.getTransformationMatrix3D(a,Va.sMatrix3D),aa.getBoundsProjected(this._bounds,Va.sMatrix3D,Va.sPoint3D,b)):(this.getTransformationMatrix(a,Va.sMatrix),aa.getBounds(this._bounds,Va.sMatrix,b));return b},hitTest:function(a){return this.get_visible()&&this.get_touchable()&&this.hitTestMask(a)?this._bounds.containsPoint(a)?this:null:null},readjustSize:function(a,b){null==b&&(b=-1);null==a&&(a=-1);0>=a&&(a=null!=this.get_texture()?this.get_texture().get_frameWidth():this._bounds.width);
0>=b&&(b=null!=this.get_texture()?this.get_texture().get_frameHeight():this._bounds.height);if(a!=this._bounds.width||b!=this._bounds.height)this._bounds.setTo(0,0,a,b),this.setupVertices()},set_texture:function(a){a!=this.get_texture()&&(wb.prototype.set_texture.call(this,a),this.setupVertices());return a},__class__:Va});var le=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.setTo(a,b,c,d)};h["starling.utils.Padding"]=le;le.__name__=["starling","utils","Padding"];
le.__super__=Ja;le.prototype=q(Ja.prototype,{_left:null,_right:null,_top:null,_bottom:null,setTo:function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);var e=this._left!=a||this._right!=b||this._top!=c||this._bottom!=d;this._left=a;this._right=b;this._top=c;this._bottom=d;e&&this.dispatchEventWith("change")},copyFrom:function(a){null==a?this.setTo(0,0,0,0):this.setTo(a._left,a._right,a._top,a._bottom)},get_left:function(){return this._left},set_left:function(a){this._left!=
a&&(this._left=a,this.dispatchEventWith("change"));return a},get_right:function(){return this._right},set_right:function(a){this._right!=a&&(this._right=a,this.dispatchEventWith("change"));return a},get_top:function(){return this._top},set_top:function(a){this._top!=a&&(this._top=a,this.dispatchEventWith("change"));return a},get_bottom:function(){return this._bottom},set_bottom:function(a){this._bottom!=a&&(this._bottom=a,this.dispatchEventWith("change"));return a},__class__:le,__properties__:{set_bottom:"set_bottom",
get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}});var z=function(a){Va.call(this,100,100);this.set_texture(a);this.readjustSize()};h["starling.display.Image"]=z;z.__name__=["starling","display","Image"];z.__super__=Va;z.prototype=q(Va.prototype,{_scale9Grid:null,_tileGrid:null,set_scale9Grid:function(a){null!=a?(null==this._scale9Grid?this._scale9Grid=a.clone():this._scale9Grid.copyFrom(a),this.readjustSize(),
this._tileGrid=null):this._scale9Grid=null;this.setupVertices();return a},setupVertices:function(){null!=this.get_texture()&&null!=this._scale9Grid?this.setupScale9Grid():null!=this.get_texture()&&null!=this._tileGrid?this.setupTileGrid():Va.prototype.setupVertices.call(this)},set_scaleX:function(a){Va.prototype.set_scaleX.call(this,a);null==this.get_texture()||null==this._scale9Grid&&null==this._tileGrid||this.setupVertices();return a},set_scaleY:function(a){Va.prototype.set_scaleY.call(this,a);
null==this.get_texture()||null==this._scale9Grid&&null==this._tileGrid||this.setupVertices();return a},set_texture:function(a){a!=this.get_texture()&&(Va.prototype.set_texture.call(this,a),null!=this._scale9Grid&&null!=a&&this.readjustSize());return a},setupScale9Grid:function(){var a=this.get_texture(),b=a.get_frame(),c=0<this.get_scaleX()?this.get_scaleX():-this.get_scaleX(),d=0<this.get_scaleY()?this.get_scaleY():-this.get_scaleY(),e=1/c,f=1/d,g=this.get_vertexData(),l=this.get_indexData(),h=g.get_numVertices(),
k=W.getRectangle(),n=W.getRectangle(),m=W.getRectangle(),q=W.getRectangle();k.copyFrom(this._scale9Grid);n.setTo(0,0,a.get_frameWidth(),a.get_frameHeight());null!=b?m.setTo(-b.x,-b.y,a.get_width(),a.get_height()):m.copyFrom(n);aa.intersect(k,m,q);z.sBasCols.set(0,z.sBasCols.set(2,0));z.sBasRows.set(0,z.sBasRows.set(2,0));z.sBasCols.set(1,q.width);z.sBasRows.set(1,q.height);m.x<k.x&&z.sBasCols.set(0,k.x-m.x);m.y<k.y&&z.sBasRows.set(0,k.y-m.y);m.get_right()>k.get_right()&&z.sBasCols.set(2,m.get_right()-
k.get_right());m.get_bottom()>k.get_bottom()&&z.sBasRows.set(2,m.get_bottom()-k.get_bottom());m.x<k.x?z.sPadding.set_left(m.x*e):z.sPadding.set_left(k.x*e+m.x-k.x);m.get_right()>k.get_right()?z.sPadding.set_right((n.width-m.get_right())*e):z.sPadding.set_right((n.width-k.get_right())*e+k.get_right()-m.get_right());m.y<k.y?z.sPadding.set_top(m.y*f):z.sPadding.set_top(k.y*f+m.y-k.y);m.get_bottom()>k.get_bottom()?z.sPadding.set_bottom((n.height-m.get_bottom())*f):z.sPadding.set_bottom((n.height-k.get_bottom())*
f+k.get_bottom()-m.get_bottom());z.sPosCols.set(0,z.sBasCols.get(0)*e);z.sPosCols.set(2,z.sBasCols.get(2)*e);z.sPosCols.set(1,n.width-z.sPadding.get_left()-z.sPadding.get_right()-z.sPosCols.get(0)-z.sPosCols.get(2));z.sPosRows.set(0,z.sBasRows.get(0)*f);z.sPosRows.set(2,z.sBasRows.get(2)*f);z.sPosRows.set(1,n.height-z.sPadding.get_top()-z.sPadding.get_bottom()-z.sPosRows.get(0)-z.sPosRows.get(2));0>z.sPosCols.get(1)&&(a=n.width/(n.width-k.width)*c,b=z.sPadding,b.set_left(b.get_left()*a),b=z.sPosCols,
b.set(0,b.get(0)*a),z.sPosCols.set(1,1E-4),b=z.sPosCols,b.set(2,b.get(2)*a));0>z.sPosRows.get(1)&&(a=n.height/(n.height-k.height)*d,d=z.sPadding,d.set_top(d.get_top()*a),d=z.sPosRows,d.set(0,d.get(0)*a),z.sPosRows.set(1,1E-4),d=z.sPosRows,d.set(2,d.get(2)*a));d=this.setupScale9GridAttributes(z.sPadding.get_left(),z.sPadding.get_top(),z.sPosCols,z.sPosRows,p(this,this.setupScale9GridVertexPosition));z.sTexCols.set(0,z.sBasCols.get(0)/m.width);z.sTexCols.set(2,z.sBasCols.get(2)/m.width);z.sTexCols.set(1,
1-z.sTexCols.get(0)-z.sTexCols.get(2));z.sTexRows.set(0,z.sBasRows.get(0)/m.height);z.sTexRows.set(2,z.sBasRows.get(2)/m.height);z.sTexRows.set(1,1-z.sTexRows.get(0)-z.sTexRows.get(2));this.setupScale9GridAttributes(0,0,z.sTexCols,z.sTexRows,p(this,this.setupScale9GridVertexTexCoords));a=d/4|0;g.set_numVertices(d);l.set_numIndices(0);for(b=0;b<a;)c=b++,l.addQuad(4*c,4*c+1,4*c+2,4*c+3);d!=h&&(l=0!=h?g.getColor(0):16777215,h=0!=h?g.getAlpha(0):1,g.colorize("color",l,h));W.putRectangle(n);W.putRectangle(m);
W.putRectangle(k);W.putRectangle(q);this.setRequiresRedraw()},setupScale9GridVertexPosition:function(a,b,c,d,e){a.setPoint(c,"position",d,e)},setupScale9GridVertexTexCoords:function(a,b,c,d,e){b.setTexCoords(a,c,"texCoords",d,e)},setupScale9GridAttributes:function(a,b,c,d,e){for(var f,g,l=this.get_vertexData(),h=this.get_texture(),k=a,m=0,n=0;3>n;){g=n++;g=d.get(g);if(0<g){for(var p=0;3>p;)f=p++,f=c.get(f),0<f&&(e(l,h,m++,k,b),e(l,h,m++,k+f,b),e(l,h,m++,k,b+g),e(l,h,m++,k+f,b+g),k+=f);b+=g}k=a}return m},
setupTileGrid:function(){var a=this.get_texture(),b=a.get_frame(),c=this.get_vertexData(),d=this.get_indexData(),e=this.getBounds(this,z.sBounds),f=c.get_numVertices(),g=0!=f?c.getColor(0):16777215,l=0!=f?c.getAlpha(0):1,h=0<this.get_scaleX()?1/this.get_scaleX():-1/this.get_scaleX(),k=0<this.get_scaleY()?1/this.get_scaleY():-1/this.get_scaleY(),m=0<this._tileGrid.width?this._tileGrid.width:a.get_frameWidth(),n=0<this._tileGrid.height?this._tileGrid.height:a.get_frameHeight(),m=m*h,n=n*k,p=null!=b?
m/b.width*-b.x:0,q=null!=b?n/b.height*-b.y:0,b=a.get_width()*(m/a.get_frameWidth()),r=a.get_height()*(n/a.get_frameHeight()),h=this._tileGrid.x*h%m,k=this._tileGrid.y*k%n;0>h&&(h+=m);0>k&&(k+=n);p=h+p;q=k+q;p>m-b&&(p-=m);q>n-r&&(q-=n);var u,v,w,x,h=q,q=0;for(d.set_numIndices(0);h<e.height;){for(k=p;k<e.width;)d.addQuad(q,q+1,q+2,q+3),u=0>k?0:k,w=0>h?0:h,v=k+b>e.width?e.width:k+b,x=h+r>e.height?e.height:h+r,c.setPoint(q,"position",u,w),c.setPoint(q+1,"position",v,w),c.setPoint(q+2,"position",u,x),
c.setPoint(q+3,"position",v,x),u=(u-k)/b,w=(w-h)/r,v=(v-k)/b,x=(x-h)/r,a.setTexCoords(c,q,"texCoords",u,w),a.setTexCoords(c,q+1,"texCoords",v,w),a.setTexCoords(c,q+2,"texCoords",u,x),a.setTexCoords(c,q+3,"texCoords",v,x),k+=m,q+=4;h+=n}c.set_numVertices(q);a=f;for(d=q;a<d;)e=a++,c.setColor(e,"color",g),c.setAlpha(e,"color",l);this.setRequiresRedraw()},__class__:z,__properties__:q(Va.prototype.__properties__,{set_scale9Grid:"set_scale9Grid"})});var Qe=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=
0);null==b&&(b=-1);null==a&&(a=0);this.setTo(a,b,c,d)};h["starling.utils.MeshSubset"]=Qe;Qe.__name__=["starling","utils","MeshSubset"];Qe.prototype={vertexID:null,numVertices:null,indexID:null,numIndices:null,setTo:function(a,b,c,d){null==d&&(d=-1);null==c&&(c=0);null==b&&(b=-1);null==a&&(a=0);this.vertexID=a;this.numVertices=b;this.indexID=c;this.numIndices=d},__class__:Qe};var Jd=function(){var a=new N,b=new Ma;wb.call(this,a,b)};h["starling.display.MeshBatch"]=Jd;Jd.__name__=["starling","display",
"MeshBatch"];Jd.__super__=wb;Jd.prototype=q(wb.prototype,{_effect:null,_batchable:null,_vertexSyncRequired:null,_indexSyncRequired:null,dispose:function(){null!=this._effect&&this._effect.dispose();wb.prototype.dispose.call(this)},setVertexAndIndexDataChanged:function(){this._vertexSyncRequired=this._indexSyncRequired=!0},syncVertexBuffer:function(){this._effect.uploadVertexData(this._vertexData);this._vertexSyncRequired=!1},syncIndexBuffer:function(){this._effect.uploadIndexData(this._indexData);
this._indexSyncRequired=!1},clear:function(){this._vertexData.set_numVertices(0);this._indexData.set_numIndices(0);this._indexSyncRequired=this._vertexSyncRequired=!0},addMesh:function(a,b,c,d,e){null==e&&(e=!1);null==c&&(c=1);e?b=null:null==b&&(b=a.get_transformationMatrix());null==d&&(d=Jd.sFullMeshSubset);e=this._vertexData.get_numVertices();var f=this._indexData.get_numIndices(),g=a._style;0==e&&this.setupFor(a);g.batchVertexData(this._style,e,b,d.vertexID,d.numVertices);g.batchIndexData(this._style,
f,e-d.vertexID,d.indexID,d.numIndices);1!=c&&this._vertexData.scaleAlphas("color",c,e,d.numVertices);this._batchable&&this.setRequiresRedraw();this._indexSyncRequired=this._vertexSyncRequired=!0},setupFor:function(a){a=a._style;var b=a.get_type();this._style.get_type()!=b&&this.setStyle(ea.createInstance(b,[]),!1);this._style.copyFrom(a)},canAddMesh:function(a,b){null==b&&(b=-1);var c=this._vertexData.get_numVertices();if(0==c)return!0;0>b&&(b=a.get_numVertices());return 0==b?!0:65535<b+c?!1:this._style.canBatchWith(a._style)},
render:function(a){0!=this._vertexData.get_numVertices()&&(this._pixelSnapping&&H.snapToPixels(a.get_state().get_modelviewMatrix(),a.get_pixelSize()),this._batchable?a.batchMesh(this):(a.finishMeshBatch(),a.set_drawCount(a.get_drawCount()+1),a.prepareToDraw(),a.excludeFromCache(this),this._vertexSyncRequired&&this.syncVertexBuffer(),this._indexSyncRequired&&this.syncIndexBuffer(),this._style.updateEffect(this._effect,a.get_state()),this._effect.render(0,this._indexData.get_numTriangles())))},setStyle:function(a,
b){null==b&&(b=!0);wb.prototype.setStyle.call(this,a,b);null!=this._effect&&this._effect.dispose();this._effect=this.get_style().createEffect();this._effect.set_onRestore(p(this,this.setVertexAndIndexDataChanged))},set_numVertices:function(a){this._vertexData.set_numVertices(a);this._vertexSyncRequired=!0;return a},set_numIndices:function(a){this._indexData.set_numIndices(a);this._indexSyncRequired=!0;return a},set_batchable:function(a){this._batchable=a;this.setRequiresRedraw();return a},__class__:Jd,
__properties__:q(wb.prototype.__properties__,{set_batchable:"set_batchable"})});var Pe=function(a,b){null==b&&(b=12);if(0<a.length)z.call(this,a[0]),this.init(a,b);else throw new n(new sa("Empty texture array"));};h["starling.display.MovieClip"]=Pe;Pe.__name__=["starling","display","MovieClip"];Pe.__interfaces__=[Hd];Pe.__super__=z;Pe.prototype=q(z.prototype,{_frames:null,_defaultFrameDuration:null,_currentTime:null,_currentFrameID:null,_loop:null,_playing:null,_wasStopped:null,_soundTransform:null,
init:function(a,b){if(0>=b)throw new n(new sa("Invalid fps: "+b));var c=a.length;this._defaultFrameDuration=1/b;this._playing=this._loop=!0;this._currentFrameID=this._currentTime=0;this._wasStopped=!0;this._frames=[];for(var d=0;d<c;){var e=d++;this._frames[e]=new ph(a[e],this._defaultFrameDuration,this._defaultFrameDuration*e)}},setFrameSound:function(a,b){if(0>a||a>=this.get_numFrames())throw new n(new sa("Invalid frame id"));this._frames[a].sound=b},advanceTime:function(a){if(this._playing){var b=
this._frames[this._currentFrameID];if(this._wasStopped&&(this._wasStopped=!1,b.playSound(this._soundTransform),null!=b.action)){b.executeAction(this,this._currentFrameID);this.advanceTime(a);return}if(this._currentTime==this.get_totalTime())if(this._loop){if(this._currentFrameID=this._currentTime=0,b=this._frames[0],b.playSound(this._soundTransform),this.set_texture(b.texture),null!=b.action){b.executeAction(this,this._currentFrameID);this.advanceTime(a);return}}else return;for(var c=this._frames.length-
1,d=b.duration-this._currentTime+b.startTime,e=!1,f=null,g=this._currentFrameID,l;a>=d;){l=!1;a-=d;this._currentTime=b.startTime+b.duration;if(this._currentFrameID==c)if(this.hasEventListener("complete"))e=!0;else if(this._loop)this._currentFrameID=this._currentTime=0,l=!0;else return;else this._currentFrameID+=1,l=!0;b=this._frames[this._currentFrameID];f=b.action;l&&b.playSound(this._soundTransform);if(e){this.set_texture(b.texture);this.dispatchEventWith("complete");this.advanceTime(a);return}if(null!=
f){this.set_texture(b.texture);b.executeAction(this,this._currentFrameID);this.advanceTime(a);return}d=b.duration;a+1E-4>d&&a-1E-4<d&&(a=d)}g!=this._currentFrameID&&this.set_texture(this._frames[this._currentFrameID].texture);this._currentTime+=a}},get_numFrames:function(){return this._frames.length},get_totalTime:function(){var a=this._frames[this._frames.length-1];return a.startTime+a.duration},__class__:Pe,__properties__:q(z.prototype.__properties__,{get_totalTime:"get_totalTime",get_numFrames:"get_numFrames"})});
var ph=function(a,b,c){null==c&&(c=0);null==b&&(b=.1);this.texture=a;this.duration=b;this.startTime=c};h["starling.display.MovieClipFrame"]=ph;ph.__name__=["starling","display","MovieClipFrame"];ph.prototype={texture:null,sound:null,duration:null,startTime:null,action:null,playSound:function(a){null!=this.sound&&this.sound.play(0,0,a)},executeAction:function(a,b){null!=this.action&&this.action.apply(null,[a,b])},__class__:ph};var Ob=function(){J.call(this);this._scaleZ=1;this._rotationX=this._rotationY=
this._pivotZ=this._z=0;this._transformationMatrix=new fa;this._transformationMatrix3D=new jb;this._is2D=!0;this.setIs3D(!0);this.addEventListener("added",p(this,this.onAddedChild));this.addEventListener("removed",p(this,this.onRemovedChild))};h["starling.display.Sprite3D"]=Ob;Ob.__name__=["starling","display","Sprite3D"];Ob.__super__=J;Ob.prototype=q(J.prototype,{_rotationX:null,_rotationY:null,_scaleZ:null,_pivotZ:null,_z:null,_transformationChanged:null,_is2D:null,render:function(a){this._is2D?
J.prototype.render.call(this,a):(a.finishMeshBatch(),a.pushState(),a.get_state().transformModelviewMatrix3D(this.get_transformationMatrix3D()),J.prototype.render.call(this,a),a.finishMeshBatch(),a.excludeFromCache(this),a.popState())},hitTest:function(a){if(!this._is2D){if(!this.get_visible()||!this.get_touchable())return null;Ob.sHelperMatrix.copyFrom(this.get_transformationMatrix3D());Ob.sHelperMatrix.invert();this.get_stage().getCameraPosition(this,Ob.sHelperPoint);H.transformCoords3D(Ob.sHelperMatrix,
a.x,a.y,0,Ob.sHelperPointAlt);Y.intersectLineWithXYPlane(Ob.sHelperPoint,Ob.sHelperPointAlt,a)}return J.prototype.hitTest.call(this,a)},setRequiresRedraw:function(){this._is2D=-1E-5<this._z&&1E-5>this._z&&-1E-5<this._rotationX&&1E-5>this._rotationX&&-1E-5<this._rotationY&&1E-5>this._rotationY&&-1E-5<this._pivotZ&&1E-5>this._pivotZ;J.prototype.setRequiresRedraw.call(this)},onAddedChild:function(a){this.recursivelySetIs3D(w.__cast(a.get_target(),V),!0)},onRemovedChild:function(a){this.recursivelySetIs3D(w.__cast(a.get_target(),
V),!1)},recursivelySetIs3D:function(a,b){if(!w.__instanceof(a,Ob)){if(w.__instanceof(a,J))for(var c=0,d=a.get_numChildren();c<d;){var e=c++;this.recursivelySetIs3D(a.getChildAt(e),b)}a.setIs3D(b)}},updateMatrices:function(){var a=this.get_x(),b=this.get_y(),c=this.get_scaleX(),d=this.get_scaleY(),e=this.get_pivotX(),f=this.get_pivotY(),g=this.get_rotation();this._transformationMatrix3D.identity();1==c&&1==d&&1==this._scaleZ||this._transformationMatrix3D.appendScale(c,d,this._scaleZ);0!=this._rotationX&&
this._transformationMatrix3D.appendRotation(Y.rad2deg(this._rotationX),new Hb(1,0,0));0!=this._rotationY&&this._transformationMatrix3D.appendRotation(Y.rad2deg(this._rotationY),new Hb(0,1,0));0!=g&&this._transformationMatrix3D.appendRotation(Y.rad2deg(g),new Hb(0,0,1));0==a&&0==b&&0==this._z||this._transformationMatrix3D.appendTranslation(a,b,this._z);0==e&&0==f&&0==this._pivotZ||this._transformationMatrix3D.prependTranslation(-e,-f,-this._pivotZ);this._is2D?H.convertTo2D(this._transformationMatrix3D,
this._transformationMatrix):this._transformationMatrix.identity()},get_transformationMatrix:function(){this._transformationChanged&&(this.updateMatrices(),this._transformationChanged=!1);return this._transformationMatrix},set_transformationMatrix:function(a){J.prototype.set_transformationMatrix.call(this,a);this._rotationX=this._rotationY=this._pivotZ=this._z=0;this._transformationChanged=!0;return a},get_transformationMatrix3D:function(){this._transformationChanged&&(this.updateMatrices(),this._transformationChanged=
!1);return this._transformationMatrix3D},set_x:function(a){J.prototype.set_x.call(this,a);this._transformationChanged=!0;return a},set_y:function(a){J.prototype.set_y.call(this,a);this._transformationChanged=!0;return a},get_z:function(){return this._z},set_z:function(a){this._z=a;this._transformationChanged=!0;this.setRequiresRedraw();return a},set_pivotX:function(a){J.prototype.set_pivotX.call(this,a);this._transformationChanged=!0;return a},set_pivotY:function(a){J.prototype.set_pivotY.call(this,
a);this._transformationChanged=!0;return a},get_pivotZ:function(){return this._pivotZ},set_pivotZ:function(a){this._pivotZ=a;this._transformationChanged=!0;this.setRequiresRedraw();return a},set_scaleX:function(a){J.prototype.set_scaleX.call(this,a);this._transformationChanged=!0;return a},set_scaleY:function(a){J.prototype.set_scaleY.call(this,a);this._transformationChanged=!0;return a},get_scaleZ:function(){return this._scaleZ},set_scaleZ:function(a){this._scaleZ=a;this._transformationChanged=!0;
this.setRequiresRedraw();return a},set_skewX:function(a){throw new n(new wa("3D objects do not support skewing"));},set_skewY:function(a){throw new n(new wa("3D objects do not support skewing"));},set_rotation:function(a){J.prototype.set_rotation.call(this,a);this._transformationChanged=!0;return a},get_rotationX:function(){return this._rotationX},set_rotationX:function(a){this._rotationX=Y.normalizeAngle(a);this._transformationChanged=!0;this.setRequiresRedraw();return a},get_rotationY:function(){return this._rotationY},
set_rotationY:function(a){this._rotationY=Y.normalizeAngle(a);this._transformationChanged=!0;this.setRequiresRedraw();return a},get_rotationZ:function(){return this.get_rotation()},set_rotationZ:function(a){return this.set_rotation(a)},__class__:Ob,__properties__:q(J.prototype.__properties__,{set_rotationZ:"set_rotationZ",get_rotationZ:"get_rotationZ",set_rotationY:"set_rotationY",get_rotationY:"get_rotationY",set_rotationX:"set_rotationX",get_rotationX:"get_rotationX",set_scaleZ:"set_scaleZ",get_scaleZ:"get_scaleZ",
set_pivotZ:"set_pivotZ",get_pivotZ:"get_pivotZ",set_z:"set_z",get_z:"get_z"})});var Dc=function(a,b,c){null==c&&(c=0);J.call(this);this._width=a;this._height=b;this._color=c;this._fieldOfView=1;this._projectionOffset=new X;this._cameraPosition=new Hb;this._enterFrameEvent=new mg("enterFrame",0);this._enterFrameListeners=[]};h["starling.display.Stage"]=Dc;Dc.__name__=["starling","display","Stage"];Dc.__super__=J;Dc.prototype=q(J.prototype,{_width:null,_height:null,_color:null,_fieldOfView:null,_projectionOffset:null,
_cameraPosition:null,_enterFrameEvent:null,_enterFrameListeners:null,advanceTime:function(a){this._enterFrameEvent.reset("enterFrame",!1,a);this.broadcastEvent(this._enterFrameEvent)},hitTest:function(a){if(!this.get_visible()||!this.get_touchable()||0>a.x||a.x>this._width||0>a.y||a.y>this._height)return null;a=J.prototype.hitTest.call(this,a);return null!=a?a:this},getStageBounds:function(a,b){null==b&&(b=new O);b.setTo(0,0,this._width,this._height);this.getTransformationMatrix(a,Dc.sMatrix);return aa.getBounds(b,
Dc.sMatrix,b)},getCameraPosition:function(a,b){this.getTransformationMatrix3D(a,Dc.sMatrix3D);return H.transformCoords3D(Dc.sMatrix3D,this._width/2+this._projectionOffset.x,this._height/2+this._projectionOffset.y,-this.get_focalLength(),b)},addEnterFrameListener:function(a){0>this._enterFrameListeners.indexOf(a)&&(this._enterFrameListeners[this._enterFrameListeners.length]=a)},removeEnterFrameListener:function(a){a=this._enterFrameListeners.indexOf(a);0<=a&&this._enterFrameListeners.splice(a,1)},
getChildEventListeners:function(a,b,c){if("enterFrame"==b&&a==this)for(a=0,b=this._enterFrameListeners.length;a<b;){var d=a++;c[c.length]=this._enterFrameListeners[d]}else J.prototype.getChildEventListeners.call(this,a,b,c)},set_width:function(a){throw new n(new Ba("Cannot set width of stage"));},set_height:function(a){throw new n(new Ba("Cannot set height of stage"));},set_x:function(a){throw new n(new Ba("Cannot set x-coordinate of stage"));},set_y:function(a){throw new n(new Ba("Cannot set y-coordinate of stage"));
},set_scaleX:function(a){throw new n(new Ba("Cannot scale stage"));},set_scaleY:function(a){throw new n(new Ba("Cannot scale stage"));},set_rotation:function(a){throw new n(new Ba("Cannot rotate stage"));},set_filter:function(a){throw new n(new Ba("Cannot add filter to stage. Add it to 'root' instead!"));},get_color:function(){return this._color},get_stageWidth:function(){return this._width},get_stageHeight:function(){return this._height},get_focalLength:function(){return this._width/(2*Math.tan(this._fieldOfView/
2))},get_cameraPosition:function(){return this.getCameraPosition(null,this._cameraPosition)},__class__:Dc,__properties__:q(J.prototype.__properties__,{get_cameraPosition:"get_cameraPosition",get_focalLength:"get_focalLength",get_stageHeight:"get_stageHeight",get_stageWidth:"get_stageWidth",get_color:"get_color"})});var Od=function(a,b){null==b&&(b=0);null==a&&(a="Method needs to be implemented in subclass");wa.call(this,a,b)};h["starling.errors.AbstractMethodError"]=Od;Od.__name__=["starling","errors",
"AbstractMethodError"];Od.__super__=wa;Od.prototype=q(wa.prototype,{__class__:Od});var sd=function(a,b){null==b&&(b=0);null==a&&(a="Starling context is missing");wa.call(this,a,b)};h["starling.errors.MissingContextError"]=sd;sd.__name__=["starling","errors","MissingContextError"];sd.__super__=wa;sd.prototype=q(wa.prototype,{__class__:sd});var ng=function(a,b){null==b&&(b=0);null==a&&(a="");wa.call(this,a,b)};h["starling.errors.NotSupportedError"]=ng;ng.__name__=["starling","errors","NotSupportedError"];
ng.__super__=wa;ng.prototype=q(wa.prototype,{__class__:ng});var bb=function(a,b,c){null==b&&(b=!1);this._type=a;this._bubbles=b;this._data=c};h["starling.events.Event"]=bb;bb.__name__=["starling","events","Event"];bb.fromPool=function(a,b,c){null==b&&(b=!1);return 0!=bb.sEventPool.length?bb.sEventPool.pop().reset(a,b,c):new bb(a,b,c)};bb.toPool=function(a){a._data=a._target=a._currentTarget=null;bb.sEventPool[bb.sEventPool.length]=a};bb.prototype={_target:null,_currentTarget:null,_type:null,_bubbles:null,
_stopsPropagation:null,_stopsImmediatePropagation:null,_data:null,get_bubbles:function(){return this._bubbles},get_target:function(){return this._target},get_type:function(){return this._type},get_data:function(){return this._data},setTarget:function(a){this._target=a},setCurrentTarget:function(a){this._currentTarget=a},get_stopsPropagation:function(){return this._stopsPropagation},get_stopsImmediatePropagation:function(){return this._stopsImmediatePropagation},reset:function(a,b,c){null==b&&(b=!1);
this._type=a;this._bubbles=b;this._data=c;this._target=this._currentTarget=null;this._stopsPropagation=this._stopsImmediatePropagation=!1;return this},__class__:bb,__properties__:{get_stopsImmediatePropagation:"get_stopsImmediatePropagation",get_stopsPropagation:"get_stopsPropagation",get_data:"get_data",get_type:"get_type",get_target:"get_target",get_bubbles:"get_bubbles"}};var mg=function(a,b,c){null==c&&(c=!1);bb.call(this,a,c,b)};h["starling.events.EnterFrameEvent"]=mg;mg.__name__=["starling",
"events","EnterFrameEvent"];mg.__super__=bb;mg.prototype=q(bb.prototype,{get_passedTime:function(){return w.__cast(this.get_data(),Dh)},__class__:mg,__properties__:q(bb.prototype.__properties__,{get_passedTime:"get_passedTime"})});var jg=function(a,b,c,d,e,f,g){null==g&&(g=!1);null==f&&(f=!1);null==e&&(e=!1);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);bb.call(this,a,!1,c);this._charCode=b;this._keyCode=c;this._keyLocation=d;this._ctrlKey=e;this._altKey=f;this._shiftKey=g};h["starling.events.KeyboardEvent"]=
jg;jg.__name__=["starling","events","KeyboardEvent"];jg.__super__=bb;jg.prototype=q(bb.prototype,{_charCode:null,_keyCode:null,_keyLocation:null,_altKey:null,_ctrlKey:null,_shiftKey:null,_isDefaultPrevented:null,isDefaultPrevented:function(){return this._isDefaultPrevented},get_keyCode:function(){return this._keyCode},__class__:jg,__properties__:q(bb.prototype.__properties__,{get_keyCode:"get_keyCode"})});var kg=function(a,b,c,d){null==d&&(d=!1);bb.call(this,a,d,new X(b,c))};h["starling.events.ResizeEvent"]=
kg;kg.__name__=["starling","events","ResizeEvent"];kg.__super__=bb;kg.prototype=q(bb.prototype,{__class__:kg});var Xc=function(a){this._id=a;this._tapCount=0;this._phase="hover";this._pressure=this._width=this._height=1;this._bubbleChain=[];this._height=this._width=this._timestamp=this._previousGlobalY=this._previousGlobalX=this._globalY=this._globalX=0;this._cancelled=!1};h["starling.events.Touch"]=Xc;Xc.__name__=["starling","events","Touch"];Xc.prototype={_id:null,_globalX:null,_globalY:null,_previousGlobalX:null,
_previousGlobalY:null,_tapCount:null,_phase:null,_target:null,_timestamp:null,_pressure:null,_width:null,_height:null,_cancelled:null,_bubbleChain:null,getLocation:function(a,b){Xc.sHelperPoint.setTo(this._globalX,this._globalY);return a.globalToLocal(Xc.sHelperPoint,b)},getPreviousLocation:function(a,b){Xc.sHelperPoint.setTo(this._previousGlobalX,this._previousGlobalY);return a.globalToLocal(Xc.sHelperPoint,b)},getMovement:function(a,b){null==b&&(b=new X);this.getLocation(a,b);var c=b.x,d=b.y;this.getPreviousLocation(a,
b);b.setTo(c-b.x,d-b.y);return b},isTouching:function(a){return-1!=this._bubbleChain.indexOf(a)},clone:function(){var a=new Xc(this._id);a._globalX=this._globalX;a._globalY=this._globalY;a._previousGlobalX=this._previousGlobalX;a._previousGlobalY=this._previousGlobalY;a._phase=this._phase;a._tapCount=this._tapCount;a._timestamp=this._timestamp;a._pressure=this._pressure;a._width=this._width;a._height=this._height;a._cancelled=this._cancelled;a.set_target(this._target);return a},updateBubbleChain:function(){if(null!=
this._target){var a=1,b=this._target;Ka.resize(this._bubbleChain,1);for(this._bubbleChain[0]=b;;){b=b.get_parent();if(null==b)break;this._bubbleChain[a++]=b}}else Ka.clear(this._bubbleChain)},get_id:function(){return this._id},get_globalX:function(){return this._globalX},set_globalX:function(a){this._previousGlobalX=this._globalX!=this._globalX?a:this._globalX;return this._globalX=a},get_globalY:function(){return this._globalY},set_globalY:function(a){this._previousGlobalY=this._globalY!=this._globalY?
a:this._globalY;return this._globalY=a},get_tapCount:function(){return this._tapCount},set_tapCount:function(a){return this._tapCount=a},get_phase:function(){return this._phase},set_phase:function(a){return this._phase=a},get_target:function(){return this._target},set_target:function(a){this._target!=a&&(this._target=a,this.updateBubbleChain());return a},get_timestamp:function(){return this._timestamp},set_timestamp:function(a){return this._timestamp=a},set_pressure:function(a){return this._pressure=
a},set_width:function(a){return this._width=a},set_height:function(a){return this._height=a},get_cancelled:function(){return this._cancelled},set_cancelled:function(a){return this._cancelled=a},dispatchEvent:function(a){null!=this._target&&a.dispatch(this._bubbleChain)},get_bubbleChain:function(){return this._bubbleChain.slice()},__class__:Xc,__properties__:{get_bubbleChain:"get_bubbleChain",set_cancelled:"set_cancelled",get_cancelled:"get_cancelled",set_height:"set_height",set_width:"set_width",
set_pressure:"set_pressure",set_timestamp:"set_timestamp",get_timestamp:"get_timestamp",set_target:"set_target",get_target:"get_target",set_phase:"set_phase",get_phase:"get_phase",set_tapCount:"set_tapCount",get_tapCount:"get_tapCount",set_globalY:"set_globalY",get_globalY:"get_globalY",set_globalX:"set_globalX",get_globalX:"get_globalX",get_id:"get_id"}};var hc=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!1);null==c&&(c=!1);bb.call(this,a,e,b);this._shiftKey=c;this._ctrlKey=d;this._timestamp=
-1;this._visitedObjects=[];a=0;for(c=b.length;a<c;)d=a++,b[d].get_timestamp()>this._timestamp&&(this._timestamp=b[d].get_timestamp())};h["starling.events.TouchEvent"]=hc;hc.__name__=["starling","events","TouchEvent"];hc.__super__=bb;hc.prototype=q(bb.prototype,{_shiftKey:null,_ctrlKey:null,_timestamp:null,_visitedObjects:null,getTouches:function(a,b,c){null==c&&(c=[]);for(var d=w.__cast(this.get_data(),Array),e=0,f=d.length;e<f;){var g=e++,g=w.__cast(d[g],Xc),l=g.isTouching(a),h=null==b||b==g.get_phase();
l&&h&&(c[c.length]=g)}return c},getTouch:function(a,b,c){null==c&&(c=-1);this.getTouches(a,b,hc.sTouches);a=hc.sTouches.length;if(0<a){b=null;if(0>c)b=hc.sTouches[0];else for(var d=0;d<a;){var e=d++;if(hc.sTouches[e].get_id()==c){b=hc.sTouches[e];break}}Ka.clear(hc.sTouches);return b}return null},interactsWith:function(a){var b=!1;this.getTouches(a,null,hc.sTouches);for(a=hc.sTouches.length-1;0<=a;){if("ended"!=hc.sTouches[a].get_phase()){b=!0;break}--a}Ka.clear(hc.sTouches);return b},dispatch:function(a){if(null!=
a&&0!=a.length){var b=this.get_bubbles()?a.length:1,c=this.get_target();this.setTarget(a[0]);for(var d=0;d<b;){var e=d++,e=a[e];if(-1==this._visitedObjects.indexOf(e)){var f=e.invokeEvent(this);this._visitedObjects[this._visitedObjects.length]=e;if(f)break}}this.setTarget(c)}},__class__:hc});var og=function(){J.call(this);this._center=new X;this._texture=this.createTexture();for(var a=0;2>a;){a++;var b=new z(this._texture);b.set_pivotX(this._texture.get_width()/2);b.set_pivotY(this._texture.get_height()/
2);b.set_touchable(!1);this.addChild(b)}};h["starling.events.TouchMarker"]=og;og.__name__=["starling","events","TouchMarker"];og.__super__=mb;og.prototype=q(mb.prototype,{_center:null,_texture:null,dispose:function(){this._texture.dispose();mb.prototype.dispose.call(this)},moveMarker:function(a,b,c){null==c&&(c=!1);c&&(this._center.x+=a-this.get_realMarker().get_x(),this._center.y+=b-this.get_realMarker().get_y());this.get_realMarker().set_x(a);this.get_realMarker().set_y(b);this.get_mockMarker().set_x(2*
this._center.x-a);this.get_mockMarker().set_y(2*this._center.y-b)},moveCenter:function(a,b){this._center.x=a;this._center.y=b;this.moveMarker(this.get_realX(),this.get_realY())},createTexture:function(){var a=x.get_sContentScaleFactor(),b=12*a,c=32*a|0,d=32*a|0,e=1.5*a,f=new dd;f.get_graphics().lineStyle(e,0,.3);f.get_graphics().drawCircle(c/2,d/2,b+e);f.get_graphics().beginFill(16777215,.4);f.get_graphics().lineStyle(e,16777215);f.get_graphics().drawCircle(c/2,d/2,b);f.get_graphics().endFill();b=
new La(c,d,!0,0);b.draw(f);return da.fromBitmapData(b,!1,!1,a)},get_realMarker:function(){return w.__cast(this.getChildAt(0),z)},get_mockMarker:function(){return w.__cast(this.getChildAt(1),z)},get_realX:function(){return this.get_realMarker().get_x()},get_realY:function(){return this.get_realMarker().get_y()},get_mockX:function(){return this.get_mockMarker().get_x()},get_mockY:function(){return this.get_mockMarker().get_y()},__class__:og,__properties__:q(mb.prototype.__properties__,{get_mockY:"get_mockY",
get_mockX:"get_mockX",get_realY:"get_realY",get_realX:"get_realX",get_mockMarker:"get_mockMarker",get_realMarker:"get_realMarker"})});var Jb=function(a){this._multitapDistance=25;this._multitapTime=.3;this._shiftDown=this._ctrlDown=!1;this._root=this._stage=a;this._elapsedTime=0;this._currentTouches=[];this._queue=[];this._lastTaps=[];this._stage.addEventListener("keyDown",p(this,this.onKey));this._stage.addEventListener("keyUp",p(this,this.onKey));this.monitorInterruptions(!0)};h["starling.events.TouchProcessor"]=
Jb;Jb.__name__=["starling","events","TouchProcessor"];Jb.prototype={_stage:null,_root:null,_elapsedTime:null,_lastTaps:null,_shiftDown:null,_ctrlDown:null,_multitapTime:null,_multitapDistance:null,_touchMarker:null,_simulateMultitouch:null,_queue:null,_currentTouches:null,advanceTime:function(a){this._elapsedTime+=a;Ka.clear(Jb.sUpdatedTouches);if(0<this._lastTaps.length)for(a=this._lastTaps.length-1;0<=a;)this._elapsedTime-this._lastTaps[a].get_timestamp()>this._multitapTime&&this._lastTaps.splice(a,
1),--a;for(;0<this._queue.length;){a=0;for(var b=this._currentTouches;a<b.length;){var c=b[a];++a;"began"!=c.get_phase()&&"moved"!=c.get_phase()||c.set_phase("stationary")}for(;0<this._queue.length&&!this.containsTouchWithID(Jb.sUpdatedTouches,this._queue[this._queue.length-1][0]);)a=this._queue.pop(),a=this.createOrUpdateTouch(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),Jb.sUpdatedTouches[Jb.sUpdatedTouches.length]=a;this.processTouches(Jb.sUpdatedTouches,this._shiftDown,this._ctrlDown);for(a=this._currentTouches.length-
1;0<=a;)"ended"==this._currentTouches[a].get_phase()&&this._currentTouches.splice(a,1),--a;Ka.clear(Jb.sUpdatedTouches)}},processTouches:function(a,b,c){Ka.clear(Jb.sHoveringTouchData);b=new hc("touch",this._currentTouches,b,c);for(c=0;c<a.length;){var d=a[c];++c;"hover"==d.get_phase()&&null!=d.get_target()&&(Jb.sHoveringTouchData[Jb.sHoveringTouchData.length]={touch:d,target:d.get_target(),bubbleChain:d.get_bubbleChain()});if("hover"==d.get_phase()||"began"==d.get_phase())Jb.sHelperPoint.setTo(d.get_globalX(),
d.get_globalY()),d.set_target(this._root.hitTest(Jb.sHelperPoint))}c=0;for(d=Jb.sHoveringTouchData;c<d.length;){var e=d[c];++c;e.touch.get_target()!=e.target&&b.dispatch(e.bubbleChain)}for(c=0;c<a.length;)d=a[c],++c,d.dispatchEvent(b)},enqueue:function(a,b,c,d,e,f,g){null==g&&(g=1);null==f&&(f=1);null==e&&(e=1);this._queue.unshift([a,b,c,d,e,f,g]);this._ctrlDown&&null!=this._touchMarker&&0==a&&(this._touchMarker.moveMarker(c,d,this._shiftDown),this._queue.unshift([1,b,this._touchMarker.get_mockX(),
this._touchMarker.get_mockY()]))},enqueueMouseLeftStage:function(){var a=this.getCurrentTouch(0);if(null!=a&&"hover"==a.get_phase()){var b=a.get_globalX(),c=a.get_globalY(),d=a.get_globalX(),e=this._stage.get_stageWidth()-d,a=a.get_globalY(),f=this._stage.get_stageHeight()-a,f=Math.min(d,Math.min(e,Math.min(a,f)));f==d?b=-1:f==e?b=this._stage.get_stageWidth()+1:c=f==a?-1:this._stage.get_stageHeight()+1;this.enqueue(0,"hover",b,c)}},cancelTouches:function(){if(0<this._currentTouches.length){for(var a=
0,b=this._currentTouches;a<b.length;){var c=b[a];++a;if("began"==c.get_phase()||"moved"==c.get_phase()||"stationary"==c.get_phase())c.set_phase("ended"),c.set_cancelled(!0)}this.processTouches(this._currentTouches,this._shiftDown,this._ctrlDown)}Ka.clear(this._currentTouches);Ka.clear(this._queue)},createOrUpdateTouch:function(a,b,c,d,e,f,g){null==g&&(g=1);null==f&&(f=1);null==e&&(e=1);var l=this.getCurrentTouch(a);null==l&&(l=new Xc(a),this.addCurrentTouch(l));l.set_globalX(c);l.set_globalY(d);l.set_phase(b);
l.set_timestamp(this._elapsedTime);l.set_pressure(e);l.set_width(f);l.set_height(g);"began"==b&&this.updateTapCount(l);return l},updateTapCount:function(a){for(var b=null,c=this._multitapDistance*this._multitapDistance,d=0,e=this._lastTaps;d<e.length;){var f=e[d];++d;if(Math.pow(f.get_globalX()-a.get_globalX(),2)+Math.pow(f.get_globalY()-a.get_globalY(),2)<=c){b=f;break}}null!=b?(a.set_tapCount(b.get_tapCount()+1),this._lastTaps.splice(this._lastTaps.indexOf(b),1)):a.set_tapCount(1);this._lastTaps[this._lastTaps.length]=
a.clone()},addCurrentTouch:function(a){for(var b=this._currentTouches.length-1;0<=b;)this._currentTouches[b].get_id()==a.get_id()&&this._currentTouches.splice(b,1),--b;this._currentTouches[this._currentTouches.length]=a},getCurrentTouch:function(a){for(var b=0,c=this._currentTouches;b<c.length;){var d=c[b];++b;if(d.get_id()==a)return d}return null},containsTouchWithID:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(d.get_id()==b)return!0}return!1},get_simulateMultitouch:function(){return this._simulateMultitouch},
set_simulateMultitouch:function(a){var b=this;if(this.get_simulateMultitouch()==a)return a;this._simulateMultitouch=a;var c=x.get_current(),d=null,e=d=function(){c.removeEventListener("context3DCreate",d);null==b._touchMarker&&(b._touchMarker=new og,b._touchMarker.set_visible(!1),b._stage.addChild(b._touchMarker))};a&&null==this._touchMarker?x.get_current().get_contextValid()?e():c.addEventListener("context3DCreate",e):a||null==this._touchMarker||(this._touchMarker.removeFromParent(!0),this._touchMarker=
null);return a},onKey:function(a){if(17==a.get_keyCode()||15==a.get_keyCode()){var b=this._ctrlDown;this._ctrlDown="keyDown"==a.get_type();if(null!=this._touchMarker&&b!=this._ctrlDown){this._touchMarker.set_visible(this._ctrlDown);this._touchMarker.moveCenter(this._stage.get_stageWidth()/2,this._stage.get_stageHeight()/2);a=this.getCurrentTouch(0);var c=this.getCurrentTouch(1);null!=a&&this._touchMarker.moveMarker(a.get_globalX(),a.get_globalY());b&&null!=c&&"ended"!=c.get_phase()?this._queue.unshift([1,
"ended",c.get_globalX(),c.get_globalY()]):this._ctrlDown&&null!=a&&("hover"==a.get_phase()||"ended"==a.get_phase()?this._queue.unshift([1,"hover",this._touchMarker.get_mockX(),this._touchMarker.get_mockY()]):this._queue.unshift([1,"began",this._touchMarker.get_mockX(),this._touchMarker.get_mockY()]))}}else 16==a.get_keyCode()&&(this._shiftDown="keyDown"==a.get_type())},monitorInterruptions:function(a){try{a?oa.current.addEventListener("deactivate",p(this,this.onInterruption),!1,0,!0):oa.current.removeEventListener("deactivate",
p(this,this.onInterruption))}catch(b){if(b instanceof n&&(b=b.val),!w.__instanceof(b,wa))throw b;}},onInterruption:function(a){this.cancelTouches()},__class__:Jb,__properties__:{set_simulateMultitouch:"set_simulateMultitouch",get_simulateMultitouch:"get_simulateMultitouch"}};var za=function(){this._textureFormat=this._resolution=1;this._textureSmoothing="bilinear";x.get_current().get_stage3D().addEventListener("context3DCreate",p(this,this.onContextCreated),!1,0,!0);this._cached=this._cacheRequested=
this._alwaysDrawToBackBuffer=!1};h["starling.filters.FragmentFilter"]=za;za.__name__=["starling","filters","FragmentFilter"];za.__super__=Ja;za.prototype=q(Ja.prototype,{_quad:null,_target:null,_effect:null,_vertexData:null,_indexData:null,_token:null,_padding:null,_helper:null,_resolution:null,_textureFormat:null,_textureSmoothing:null,_alwaysDrawToBackBuffer:null,_cacheRequested:null,_cached:null,dispose:function(){x.get_current().get_stage3D().removeEventListener("context3DCreate",p(this,this.onContextCreated));
null!=this._helper&&this._helper.dispose();null!=this._effect&&this._effect.dispose();null!=this._quad&&this._quad.dispose();this._quad=this._effect=null},onContextCreated:function(a){this.setRequiresRedraw()},render:function(a){if(null==this._target)throw new n(new Ba("Cannot render filter without target"));this._target.get_is3D()&&(this._cached=this._cacheRequested=!1);!this._cached||this._cacheRequested?(this.renderPasses(a,this._cacheRequested),this._cacheRequested=!1):this._quad.get_visible()&&
this._quad.render(a)},renderPasses:function(a,b){null==this._token&&(this._token=new wd);null==this._helper&&(this._helper=new me(this._textureFormat));null==this._quad?this._quad=new Kd(this._textureSmoothing):(this._helper.putTexture(this._quad.get_texture()),this._quad.set_texture(null));var c=W.getRectangle(),d=!1,e=this._resolution,f=null!=this._target.get_stage()?this._target.get_stage():null!=this._target.get_parent()?this._target.get_parent():null,g=w.__instanceof(f,Dc),l=x.get_current().get_stage();
b||!this._alwaysDrawToBackBuffer&&!this._target.get_requiresRedraw()||(d=!0,a.excludeFromCache(this._target));this._target==x.get_current().get_root()?l.getStageBounds(this._target,c):(this._target.getBounds(f,c),!b&&g&&(g=l.getStageBounds(null,W.getRectangle()),aa.intersect(c,g,c),W.putRectangle(g)));this._quad.set_visible(!c.isEmpty());this._quad.get_visible()&&(null!=this._padding&&aa.extend(c,this._padding.get_left(),this._padding.get_right(),this._padding.get_top(),this._padding.get_bottom()),
this._helper.set_textureScale(x.get_sContentScaleFactor()*this._resolution),this._helper.set_projectionMatrix3D(a.get_state().get_projectionMatrix3D()),this._helper.set_renderTarget(a.get_state().get_renderTarget()),this._helper.set_targetBounds(c),this._helper.set_target(this._target),this._helper.start(this.get_numPasses(),d),this._quad.setBounds(c),this._resolution=1,d=this._helper.getTexture(),g=a.get_frameID(),a.set_frameID(0),a.pushState3D(this._token),a.get_state().set_renderTarget(d),a.get_state().setProjectionMatrix(c.x,
c.y,d.get_root().get_width(),d.get_root().get_height(),l.get_stageWidth(),l.get_stageHeight(),l.get_cameraPosition()),this._target.render(a),a.finishMeshBatch(),a.get_state().setModelviewMatricesToIdentity(),a.get_state().set_clipRect(null),l=this.process(a,this._helper,d),a.popState(),a.set_frameID(g),a.rewindCacheTo(this._token),null!=l&&(a.pushState(),this._target.get_is3D()?a.get_state().setModelviewMatricesToIdentity():this._quad.moveVertices(f,this._target),this._quad.set_texture(l),this._quad.render(a),
a.finishMeshBatch(),a.popState()),this._helper.set_target(null),this._helper.putTexture(d),this._resolution=e);W.putRectangle(c)},process:function(a,b,c,d,e,f){d=this.get_effect();e=b.getTexture(this._resolution);f=null;var g;null!=e?(g=e,b=H.createPerspectiveProjectionMatrix(0,0,e.get_root().get_width()/this._resolution,e.get_root().get_height()/this._resolution,0,0,null,za.sMatrix3D)):(f=b.get_targetBounds(),g=w.__cast(b,me).get_renderTarget(),b=w.__cast(b,me).get_projectionMatrix3D(),d.set_textureSmoothing(this._textureSmoothing));
a.get_state().set_renderTarget(g);a.prepareToDraw();a.set_drawCount(a.get_drawCount()+1);c.setupVertexPositions(this.get_vertexData(),0,"position",f);c.setupTextureCoordinates(this.get_vertexData());d.set_texture(c);d.set_mvpMatrix3D(b);d.uploadVertexData(this.get_vertexData());d.uploadIndexData(this.get_indexData());d.render(0,this.get_indexData().get_numTriangles());return e},createEffect:function(){return new R},addEventListener:function(a,b){"enterFrame"==a&&null!=this._target&&this._target.addEventListener("enterFrame",
p(this,this.onEnterFrame));Ja.prototype.addEventListener.call(this,a,b)},removeEventListener:function(a,b){"enterFrame"==a&&null!=this._target&&this._target.removeEventListener(a,p(this,this.onEnterFrame));Ja.prototype.removeEventListener.call(this,a,b)},onEnterFrame:function(a){this.dispatchEvent(a)},get_effect:function(){null==this._effect&&(this._effect=this.createEffect());return this._effect},get_vertexData:function(){null==this._vertexData&&(this._vertexData=new N(this.get_effect().get_vertexFormat(),
4));return this._vertexData},get_indexData:function(){null==this._indexData&&(this._indexData=new Ma(6),this._indexData.addQuad(0,1,2,3));return this._indexData},setRequiresRedraw:function(){this.dispatchEventWith("change");null!=this._target&&this._target.setRequiresRedraw();this._cached&&(this._cacheRequested=!0)},get_numPasses:function(){return 1},onTargetAssigned:function(a){},get_padding:function(){null==this._padding&&(this._padding=new le,this._padding.addEventListener("change",p(this,this.setRequiresRedraw)));
return this._padding},get_resolution:function(){return this._resolution},set_resolution:function(a){if(a!=this._resolution){if(0<a)this._resolution=a;else throw new n(new sa("resolution must be > 0"));this.setRequiresRedraw()}return a},setTarget:function(a){if(a!=this._target){var b=this._target;this._target=a;null==a&&(null!=this._helper&&this._helper.purge(),null!=this._effect&&this._effect.purgeBuffers(),null!=this._quad&&this._quad.disposeTexture());null!=b&&(b.set_filter(null),b.removeEventListener("enterFrame",
p(this,this.onEnterFrame)));null!=a&&(this.hasEventListener("enterFrame")&&a.addEventListener("enterFrame",p(this,this.onEnterFrame)),this.onTargetAssigned(a))}},__class__:za,__properties__:{set_resolution:"set_resolution",get_resolution:"get_resolution",get_padding:"get_padding",get_numPasses:"get_numPasses",get_indexData:"get_indexData",get_vertexData:"get_vertexData",get_effect:"get_effect"}});var ke=function(a,b,c){null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);za.call(this);this._blurX=a;this._blurY=
b;this.set_resolution(c)};h["starling.filters.BlurFilter"]=ke;ke.__name__=["starling","filters","BlurFilter"];ke.__super__=za;ke.prototype=q(za.prototype,{_blurX:null,_blurY:null,process:function(a,b,c,d,e,f){d=w.__cast(this.get_effect(),tc);if(0==this._blurX&&0==this._blurY)return d.set_strength(0),za.prototype.process.call(this,a,b,c);e=Math.abs(this._blurX);f=Math.abs(this._blurY);var g=c,l;for(d.set_direction(tc.HORIZONTAL);0<e;)d.set_strength(Math.min(1,e)),e-=d.get_strength(),l=g,g=za.prototype.process.call(this,
a,b,l),l!=c&&b.putTexture(l);for(d.set_direction(tc.VERTICAL);0<f;)d.set_strength(Math.min(1,f)),f-=d.get_strength(),l=g,g=za.prototype.process.call(this,a,b,l),l!=c&&b.putTexture(l);return g},createEffect:function(){return new tc},set_resolution:function(a){za.prototype.set_resolution.call(this,a);this.updatePadding();return a},get_numPasses:function(){return Math.max(Math.ceil(this._blurX)+Math.ceil(this._blurY),1)|0},updatePadding:function(){var a=(0!=this._blurX?Math.ceil(Math.abs(this._blurX))+
3:1)/this.get_resolution(),b=(0!=this._blurY?Math.ceil(Math.abs(this._blurY))+3:1)/this.get_resolution();this.get_padding().setTo(a,a,b,b)},__class__:ke});var tc=function(a,b){null==b&&(b=1);null==a&&(a="horizontal");this.sTmpWeights=qa.toFloatVector(null,5,!0);for(var c=[0,0,0,0],d=qa.toFloatVector(null),e=0,f=c.length;e<f;){var g=e++;d.set(g,c[g])}this._weights=d;c=[0,0,0,0];d=qa.toFloatVector(null);e=0;for(f=c.length;e<f;)g=e++,d.set(g,c[g]);this._offsets=d;R.call(this);this.set_strength(b);this.set_direction(a)};
h["starling.filters.BlurEffect"]=tc;tc.__name__=["starling","filters","BlurEffect"];tc.__super__=R;tc.prototype=q(R.prototype,{_strength:null,_direction:null,_offsets:null,_weights:null,sTmpWeights:null,createProgram:function(){if(0==this._strength)return R.prototype.createProgram.call(this);var a=[R.tex("ft0","v0",0,this.get_texture()),"mul ft5, ft0, fc0.xxxx       ",R.tex("ft1","v1",0,this.get_texture()),"mul ft1, ft1, fc0.zzzz       \nadd ft5, ft5, ft1            ",R.tex("ft2","v2",0,this.get_texture()),
"mul ft2, ft2, fc0.yyyy       \nadd ft5, ft5, ft2            ",R.tex("ft3","v3",0,this.get_texture()),"mul ft3, ft3, fc0.yyyy       \nadd ft5, ft5, ft3            ",R.tex("ft4","v4",0,this.get_texture()),"mul ft4, ft4, fc0.zzzz       \nadd  oc, ft5, ft4            "].join("\n");return rc.fromSource("m44 op, va0, vc0     \nmov v0, va1          \nsub v1, va1, vc4.zwxx\nsub v2, va1, vc4.xyxx\nadd v3, va1, vc4.xyxx\nadd v4, va1, vc4.zwxx",a)},beforeDraw:function(a){R.prototype.beforeDraw.call(this,a);
0!=this._strength&&(this.updateParameters(),a.setProgramConstantsFromVector(1,4,this._offsets),a.setProgramConstantsFromVector(0,0,this._weights))},get_programVariantName:function(){return R.prototype.get_programVariantName.call(this)|(0!=this._strength?16:0)},updateParameters:function(){var a,b;this._direction==tc.HORIZONTAL?(a=this._strength*tc.MAX_SIGMA,b=1/this.get_texture().get_root().get_width()):(a=this._strength*tc.MAX_SIGMA,b=1/this.get_texture().get_root().get_height());a*=2*a;for(var c=
1/Math.sqrt(a*Math.PI),d=0;5>d;){var e=d++;this.sTmpWeights.set(e,c*Math.exp(-e*e/a))}this._weights.set(0,this.sTmpWeights.get(0));this._weights.set(1,this.sTmpWeights.get(1)+this.sTmpWeights.get(2));this._weights.set(2,this.sTmpWeights.get(3)+this.sTmpWeights.get(4));a=1/(this._weights.get(0)+2*this._weights.get(1)+2*this._weights.get(2));c=this._weights;c.set(0,c.get(0)*a);c=this._weights;c.set(1,c.get(1)*a);c=this._weights;c.set(2,c.get(2)*a);a=(b*this.sTmpWeights.get(1)+2*b*this.sTmpWeights.get(2))/
this._weights.get(1);b=(3*b*this.sTmpWeights.get(3)+4*b*this.sTmpWeights.get(4))/this._weights.get(2);this._direction==tc.HORIZONTAL?(this._offsets.set(0,a),this._offsets.set(1,0),this._offsets.set(2,b),this._offsets.set(3,0)):(this._offsets.set(0,0),this._offsets.set(1,a),this._offsets.set(2,0),this._offsets.set(3,b))},set_direction:function(a){return this._direction=a},get_strength:function(){return this._strength},set_strength:function(a){return this._strength=Y.clamp(a,0,1)},__class__:tc,__properties__:q(R.prototype.__properties__,
{set_strength:"set_strength",get_strength:"get_strength",set_direction:"set_direction"})});var Pa=function(a){za.call(this);null!=a&&this.get_colorEffect().set_matrix(a)};h["starling.filters.ColorMatrixFilter"]=Pa;Pa.__name__=["starling","filters","ColorMatrixFilter"];Pa.__super__=za;Pa.prototype=q(za.prototype,{createEffect:function(){return new Hc},invert:function(){this.concatValues(-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0)},adjustSaturation:function(a){++a;var b=1-a,c=.299*b,d=.587*b,
b=.114*b;this.concatValues(c+a,d,b,0,0,c,d+a,b,0,0,c,d,b+a,0,0,0,0,0,1,0)},adjustContrast:function(a){a+=1;var b=128*(1-a);this.concatValues(a,0,0,0,b,0,a,0,0,b,0,0,a,0,b,0,0,0,1,0)},adjustBrightness:function(a){a*=255;this.concatValues(1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0)},adjustHue:function(a){a*=Math.PI;var b=Math.cos(a);a=Math.sin(a);this.concatValues(.299+.7010000000000001*b+-.299*a,.587+-.587*b+-.587*a,.114+-.114*b+.886*a,0,0,.299+-.299*b+.143*a,.587+.41300000000000003*b+.14*a,.114+-.114*
b+-.283*a,0,0,.299+-.299*b+-.7010000000000001*a,.587+-.587*b+.587*a,.114+.886*b+.114*a,0,0,0,0,0,1,0)},concat:function(a){this.get_colorEffect().concat(a);this.setRequiresRedraw()},concatValues:function(a,b,c,d,e,f,g,l,h,k,m,n,p,q,r,u,v,w,x,y){Ka.clear(Pa.sMatrix);Pa.sMatrix.push(a);Pa.sMatrix.push(b);Pa.sMatrix.push(c);Pa.sMatrix.push(d);Pa.sMatrix.push(e);Pa.sMatrix.push(f);Pa.sMatrix.push(g);Pa.sMatrix.push(l);Pa.sMatrix.push(h);Pa.sMatrix.push(k);Pa.sMatrix.push(m);Pa.sMatrix.push(n);Pa.sMatrix.push(p);
Pa.sMatrix.push(q);Pa.sMatrix.push(r);Pa.sMatrix.push(u);Pa.sMatrix.push(v);Pa.sMatrix.push(w);Pa.sMatrix.push(x);Pa.sMatrix.push(y);this.concat(Pa.sMatrix)},get_colorEffect:function(){return w.__cast(this.get_effect(),Hc)},__class__:Pa,__properties__:q(za.prototype.__properties__,{get_colorEffect:"get_colorEffect"})});var Hc=function(){R.call(this);this._userMatrix=[];this._shaderMatrix=qa.toFloatVector(null);this.set_matrix(null)};h["starling.filters.ColorMatrixEffect"]=Hc;Hc.__name__=["starling",
"filters","ColorMatrixEffect"];Hc.__super__=R;Hc.prototype=q(R.prototype,{_userMatrix:null,_shaderMatrix:null,createProgram:function(){var a=R.STD_VERTEX_SHADER,b=[R.tex("ft0","v0",0,this.get_texture()),"max ft0, ft0, fc5              \ndiv ft0.xyz, ft0.xyz, ft0.www  \nm44 ft0, ft0, fc0              \nadd ft0, ft0, fc4              \nmul ft0.xyz, ft0.xyz, ft0.www  \nmov oc, ft0                    "].join("\n");return rc.fromSource(a,b)},beforeDraw:function(a){R.prototype.beforeDraw.call(this,a);a.setProgramConstantsFromVector(0,
0,this._shaderMatrix,5);a.setProgramConstantsFromVector(0,5,Hc.MIN_COLOR)},concat:function(a){for(var b=0,c=0;4>c;){c++;for(var d=0;5>d;){var e=d++;Hc.sMatrix[b+e]=a[b]*this._userMatrix[e]+a[b+1]*this._userMatrix[e+5]+a[b+2]*this._userMatrix[e+10]+a[b+3]*this._userMatrix[e+15]+(4==e?a[b+4]:0)}b+=5}this.copyMatrix(Hc.sMatrix,this._userMatrix);this.updateShaderMatrix()},copyMatrix:function(a,b){for(var c=0;20>c;){var d=c++;b[d]=a[d]}},updateShaderMatrix:function(){this._shaderMatrix.set_length(0);this._shaderMatrix.push(this._userMatrix[0]);
this._shaderMatrix.push(this._userMatrix[1]);this._shaderMatrix.push(this._userMatrix[2]);this._shaderMatrix.push(this._userMatrix[3]);this._shaderMatrix.push(this._userMatrix[5]);this._shaderMatrix.push(this._userMatrix[6]);this._shaderMatrix.push(this._userMatrix[7]);this._shaderMatrix.push(this._userMatrix[8]);this._shaderMatrix.push(this._userMatrix[10]);this._shaderMatrix.push(this._userMatrix[11]);this._shaderMatrix.push(this._userMatrix[12]);this._shaderMatrix.push(this._userMatrix[13]);this._shaderMatrix.push(this._userMatrix[15]);
this._shaderMatrix.push(this._userMatrix[16]);this._shaderMatrix.push(this._userMatrix[17]);this._shaderMatrix.push(this._userMatrix[18]);this._shaderMatrix.push(this._userMatrix[4]/255);this._shaderMatrix.push(this._userMatrix[9]/255);this._shaderMatrix.push(this._userMatrix[14]/255);this._shaderMatrix.push(this._userMatrix[19]/255)},set_matrix:function(a){if(null!=a&&20!=a.length)throw new n(new sa("Invalid matrix length: must be 20"));if(null==a){Ka.clear(this._userMatrix);for(var b=0;20>b;){var c=
b++;this._userMatrix[c]=Hc.IDENTITY[c]}}else this.copyMatrix(a,this._userMatrix);this.updateShaderMatrix();return a},__class__:Hc,__properties__:q(R.prototype.__properties__,{set_matrix:"set_matrix"})});var Re=function(){za.call(this)};h["starling.filters.CompositeFilter"]=Re;Re.__name__=["starling","filters","CompositeFilter"];Re.__super__=za;Re.prototype=q(za.prototype,{process:function(a,b,c,d,e,f){this.get_compositeEffect().set_texture(c);this.get_compositeEffect().getLayerAt(1).texture=d;this.get_compositeEffect().getLayerAt(2).texture=
e;this.get_compositeEffect().getLayerAt(3).texture=f;null!=d&&d.setupTextureCoordinates(this.get_vertexData(),0,"texCoords1");null!=e&&e.setupTextureCoordinates(this.get_vertexData(),0,"texCoords2");null!=f&&f.setupTextureCoordinates(this.get_vertexData(),0,"texCoords3");return za.prototype.process.call(this,a,b,c,d,e,f)},createEffect:function(){return new tb},setOffsetAt:function(a,b,c){this.get_compositeEffect().getLayerAt(a).x=b;this.get_compositeEffect().getLayerAt(a).y=c},getColorAt:function(a){return this.get_compositeEffect().getLayerAt(a).color},
setColorAt:function(a,b,c){null==c&&(c=!1);this.get_compositeEffect().getLayerAt(a).color=b;this.get_compositeEffect().getLayerAt(a).replaceColor=c},getAlphaAt:function(a){return this.get_compositeEffect().getLayerAt(a).alpha},setAlphaAt:function(a,b){this.get_compositeEffect().getLayerAt(a).alpha=Y.clamp(b,0,1)},get_compositeEffect:function(){return w.__cast(this.get_effect(),tb)},__class__:Re,__properties__:q(za.prototype.__properties__,{get_compositeEffect:"get_compositeEffect"})});var tb=function(a){null==
a&&(a=4);R.call(this);if(1>a||4<a)throw new n(new sa("number of layers must be between 1 and 4"));this._layers=qa.toObjectVector(null,a,!0);for(var b=0;b<a;){var c=b++;this._layers.set(c,new qh)}};h["starling.filters.CompositeEffect"]=tb;tb.__name__=["starling","filters","CompositeEffect"];tb.__super__=R;tb.prototype=q(R.prototype,{_layers:null,getLayerAt:function(a){return this._layers.get(a)},getUsedLayers:function(a){null==a?a=[]:Ka.clear(a);for(var b=0,c=this._layers;b<c.get_length();){var d=
c.get(b);++b;null!=d.texture&&(a[a.length]=d)}return a},createProgram:function(){var a=this.getUsedLayers(tb.sLayers),b=a.length;if(0!=b){for(var c=["m44 op, va0, vc0"],d=this._layers.get(0),d=0;d<b;){var e=d++;c.push(rd.format("add v{0}, va{1}, vc{2}",[e,e+1,e+4]))}for(var e=["seq ft5, v0, v0"],f=0;f<b;){var g=f++,l="ft"+g,h="fc"+g,k="v"+g,d=this._layers.get(g);e.push(R.tex(l,k,g,a[g].texture));d.replaceColor?(e.push("mul "+l+".w,   "+l+".w,   "+h+".w"),e.push("mul "+l+".xyz, "+h+".xyz, "+l+".www")):
e.push("mul "+l+", "+l+", "+h);0!=g&&(e.push("sub ft4, ft5, "+l+".wwww"),e.push("mul ft0, ft0, ft4"),e.push("add ft0, ft0, "+l))}e.push("mov oc, ft0");return rc.fromSource(c.join("\n"),e.join("\n"))}return R.prototype.createProgram.call(this)},get_programVariantName:function(){for(var a,b=0,c=this.getUsedLayers(tb.sLayers),d=0,e=c.length;d<e;){var f=d++;a=c[f];a=Ac.getTextureVariantBits(a.texture)|(a.replaceColor?1:0)<<3;b|=a<<4*f}return b},beforeDraw:function(a){R.prototype.beforeDraw.call(this,
a);var b=this.getUsedLayers(tb.sLayers),c=b.length;if(0!=c){for(var d=0;d<c;){var e=d++,f=b[e],g=f.texture,l=f.replaceColor?1:f.alpha;tb.sOffset.set(0,-f.x/(g.get_root().get_nativeWidth()/g.get_scale()));tb.sOffset.set(1,-f.y/(g.get_root().get_nativeHeight()/g.get_scale()));tb.sColor.set(0,Xb.getRed(f.color)*l/255);tb.sColor.set(1,Xb.getGreen(f.color)*l/255);tb.sColor.set(2,Xb.getBlue(f.color)*l/255);tb.sColor.set(3,f.alpha);a.setProgramConstantsFromVector(1,e+4,tb.sOffset);a.setProgramConstantsFromVector(0,
e,tb.sColor);a.setTextureAt(e,g.get_base());Ac.setSamplerStateAt(e,g.get_mipMapping(),this.get_textureSmoothing())}for(a=1;a<c;)b=a++,this.get_vertexFormat().setVertexBufferAt(b+1,this.get_vertexBuffer(),"texCoords"+b)}},afterDraw:function(a){for(var b=0,c=this.getUsedLayers(tb.sLayers).length;b<c;){var d=b++;a.setTextureAt(d,null);a.setVertexBufferAt(d+1,null)}R.prototype.afterDraw.call(this,a)},get_vertexFormat:function(){return tb.VERTEX_FORMAT},set_texture:function(a){this._layers.get(0).texture=
a;return R.prototype.set_texture.call(this,a)},__class__:tb});var qh=function(){this.x=this.y=0;this.alpha=1;this.color=16777215};h["starling.filters.CompositeLayer"]=qh;qh.__name__=["starling","filters","CompositeLayer"];qh.prototype={texture:null,x:null,y:null,color:null,alpha:null,replaceColor:null,__class__:qh};var gg=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);za.call(this);this._mapX=this._mapY=0;this.set_mapTexture(a);this.set_componentX(b);this.set_componentY(c);
this.set_scaleX(d);this.set_scaleY(e)};h["starling.filters.DisplacementMapFilter"]=gg;gg.__name__=["starling","filters","DisplacementMapFilter"];gg.__super__=za;gg.prototype=q(za.prototype,{_mapX:null,_mapY:null,process:function(a,b,c,d,e,f){this.updateVertexData(c,this.get_mapTexture());return za.prototype.process.call(this,a,b,c)},createEffect:function(){return new Pb},updateVertexData:function(a,b){var c=(this._mapX+this.get_padding().get_left())/b.get_width(),d=(this._mapY+this.get_padding().get_top())/
b.get_height(),e=a.get_width()/b.get_width(),f=a.get_height()/b.get_height();b.setTexCoords(this.get_vertexData(),0,"mapTexCoords",-c,-d);b.setTexCoords(this.get_vertexData(),1,"mapTexCoords",-c+e,-d);b.setTexCoords(this.get_vertexData(),2,"mapTexCoords",-c,-d+f);b.setTexCoords(this.get_vertexData(),3,"mapTexCoords",-c+e,-d+f)},updatePadding:function(){var a=Math.ceil(Math.abs(this.get_dispEffect().get_scaleX())/2),b=Math.ceil(Math.abs(this.get_dispEffect().get_scaleY())/2);this.get_padding().setTo(a,
a,b,b)},set_componentX:function(a){this.get_dispEffect().get_componentX()!=a&&(this.get_dispEffect().set_componentX(a),this.setRequiresRedraw());return a},set_componentY:function(a){this.get_dispEffect().get_componentY()!=a&&(this.get_dispEffect().set_componentY(a),this.setRequiresRedraw());return a},set_scaleX:function(a){this.get_dispEffect().get_scaleX()!=a&&(this.get_dispEffect().set_scaleX(a),this.updatePadding());return a},set_scaleY:function(a){this.get_dispEffect().get_scaleY()!=a&&(this.get_dispEffect().set_scaleY(a),
this.updatePadding());return a},get_mapTexture:function(){return this.get_dispEffect().get_mapTexture()},set_mapTexture:function(a){this.get_dispEffect().get_mapTexture()!=a&&(this.get_dispEffect().set_mapTexture(a),this.setRequiresRedraw());return a},get_dispEffect:function(){return w.__cast(this.get_effect(),Pb)},__class__:gg,__properties__:q(za.prototype.__properties__,{get_dispEffect:"get_dispEffect",set_mapTexture:"set_mapTexture",get_mapTexture:"get_mapTexture",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",
set_componentY:"set_componentY",set_componentX:"set_componentX"})});var Pb=function(){R.call(this);this._scaleX=this._scaleY=this._componentX=this._componentY=0};h["starling.filters.DisplacementMapEffect"]=Pb;Pb.__name__=["starling","filters","DisplacementMapEffect"];Pb.__super__=R;Pb.prototype=q(R.prototype,{_mapTexture:null,_mapRepeat:null,_componentX:null,_componentY:null,_scaleX:null,_scaleY:null,createProgram:function(){if(null!=this._mapTexture){var a=[R.tex("ft0","v1",1,this._mapTexture,!1),
"sub ft1, ft0, fc0\nmul ft1.xy, ft1.xy, ft0.ww\nm44 ft2, ft1, fc1\nadd ft3,  v0, ft2",R.tex("oc","ft3",0,this.get_texture())].join("\n");return rc.fromSource("m44  op, va0, vc0\nmov  v0, va1\nmov  v1, va2",a)}return R.prototype.createProgram.call(this)},beforeDraw:function(a){R.prototype.beforeDraw.call(this,a);null!=this._mapTexture&&(this.getMapMatrix(Pb.sMatrix),this.get_vertexFormat().setVertexBufferAt(2,this.get_vertexBuffer(),"mapTexCoords"),a.setProgramConstantsFromVector(0,0,Pb.sOffset),a.setProgramConstantsFromMatrix(0,
1,Pb.sMatrix,!0),Ac.setSamplerStateAt(1,this._mapTexture.get_mipMapping(),this.get_textureSmoothing(),this._mapRepeat),a.setTextureAt(1,this._mapTexture.get_base()))},afterDraw:function(a){null!=this._mapTexture&&(a.setVertexBufferAt(2,null),a.setTextureAt(1,null));R.prototype.afterDraw.call(this,a)},get_vertexFormat:function(){return Pb.VERTEX_FORMAT},getMapMatrix:function(a){null==a&&(a=new jb);var b,c,d=x.get_sContentScaleFactor(),e=this.get_texture().get_root().get_nativeWidth(),f=this.get_texture().get_root().get_nativeHeight();
for(b=0;16>b;)c=b++,Pb.sMatrixData.set(c,0);b=1==this._componentX?0:2==this._componentX?1:4==this._componentX?2:3;c=1==this._componentY?0:2==this._componentY?1:4==this._componentY?2:3;Pb.sMatrixData.set(4*b,this._scaleX*d/e);Pb.sMatrixData.set(4*c+1,this._scaleY*d/f);a.copyRawDataFrom(Pb.sMatrixData);return a},get_componentX:function(){return this._componentX},set_componentX:function(a){return this._componentX=a},get_componentY:function(){return this._componentY},set_componentY:function(a){return this._componentY=
a},get_scaleX:function(){return this._scaleX},set_scaleX:function(a){return this._scaleX=a},get_scaleY:function(){return this._scaleY},set_scaleY:function(a){return this._scaleY=a},get_mapTexture:function(){return this._mapTexture},set_mapTexture:function(a){return this._mapTexture=a},__class__:Pb,__properties__:q(R.prototype.__properties__,{set_mapTexture:"set_mapTexture",get_mapTexture:"get_mapTexture",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",
set_componentY:"set_componentY",get_componentY:"get_componentY",set_componentX:"set_componentX",get_componentX:"get_componentX"})});var Oe=function(a,b,c,d,e,f){null==f&&(f=.5);null==e&&(e=1);null==d&&(d=.5);null==c&&(c=0);null==b&&(b=.785);null==a&&(a=4);za.call(this);this._compositeFilter=new Re;this._blurFilter=new ke(e,e,f);this._distance=a;this._angle=b;this.set_color(c);this.set_alpha(d);this.updatePadding()};h["starling.filters.DropShadowFilter"]=Oe;Oe.__name__=["starling","filters","DropShadowFilter"];
Oe.__super__=za;Oe.prototype=q(za.prototype,{_blurFilter:null,_compositeFilter:null,_distance:null,_angle:null,dispose:function(){this._blurFilter.dispose();this._compositeFilter.dispose();za.prototype.dispose.call(this)},process:function(a,b,c,d,e,f){d=this._blurFilter.process(a,b,c);a=this._compositeFilter.process(a,b,d,c);b.putTexture(d);return a},get_numPasses:function(){return this._blurFilter.get_numPasses()+this._compositeFilter.get_numPasses()},updatePadding:function(){var a=Math.cos(this._angle)*
this._distance,b=Math.sin(this._angle)*this._distance;this._compositeFilter.setOffsetAt(0,a,b);var c=this._blurFilter.get_padding(),d=c.get_left(),e=c.get_right(),f=c.get_top(),c=c.get_bottom();0<a?e+=a:d-=a;0<b?c+=b:f-=b;this.get_padding().setTo(d,e,f,c)},get_color:function(){return this._compositeFilter.getColorAt(0)},set_color:function(a){this.get_color()!=a&&(this._compositeFilter.setColorAt(0,a,!0),this.setRequiresRedraw());return a},get_alpha:function(){return this._compositeFilter.getAlphaAt(0)},
set_alpha:function(a){this.get_alpha()!=a&&(this._compositeFilter.setAlphaAt(0,a),this.setRequiresRedraw());return a},get_resolution:function(){return this._blurFilter.get_resolution()},set_resolution:function(a){this.get_resolution()!=a&&(this._blurFilter.set_resolution(a),this.updatePadding());return a},__class__:Oe,__properties__:q(za.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color"})});var ec=function(a){za.call(this);this._filters=
null!=a?a.slice():[];this.updatePadding();this.addEventListener("enterFrame",p(this,this.onEnterFrame))};h["starling.filters.FilterChain"]=ec;ec.__name__=["starling","filters","FilterChain"];ec.__super__=za;ec.prototype=q(za.prototype,{_filters:null,dispose:function(){for(var a=0,b=this._filters;a<b.length;){var c=b[a];++a;c.dispose()}Ka.clear(this._filters);za.prototype.dispose.call(this)},setRequiresRedraw:function(){this.updatePadding();za.prototype.setRequiresRedraw.call(this)},process:function(a,
b,c,d,e,f){e=0;for(f=this._filters.length;e<f;){var g=e++;d=c;c=this._filters[g].process(a,b,d);0!=g&&b.putTexture(d)}return c},get_numPasses:function(){for(var a=0,b=0,c=this._filters.length;b<c;)var d=b++,a=a+this._filters[d].get_numPasses();return a},updatePadding:function(){ec.sPadding.setTo();for(var a=0,b=this._filters;a<b.length;){var c=b[a];++a;c=c.get_padding();c.get_left()>ec.sPadding.get_left()&&ec.sPadding.set_left(c.get_left());c.get_right()>ec.sPadding.get_right()&&ec.sPadding.set_right(c.get_right());
c.get_top()>ec.sPadding.get_top()&&ec.sPadding.set_top(c.get_top());c.get_bottom()>ec.sPadding.get_bottom()&&ec.sPadding.set_bottom(c.get_bottom())}this.get_padding().copyFrom(ec.sPadding)},onEnterFrame:function(a){for(var b=0,c=this._filters.length;b<c;){var d=b++;this._filters[d].dispatchEvent(a)}},__class__:ec});var rh=function(){};h["starling.filters.IFilterHelper"]=rh;rh.__name__=["starling","filters","IFilterHelper"];rh.prototype={get_targetBounds:null,getTexture:null,putTexture:null,__class__:rh,
__properties__:{get_targetBounds:"get_targetBounds"}};var me=function(a){this.sRegion=new O;null==a&&(a=1);this._usePotTextures=1==x.get_current().get_profile();this._preferredScale=x.get_sContentScaleFactor();this._textureFormat=a;this._sizeStep=64;this._pool=[];this._projectionMatrix=new jb;this._targetBounds=new O;this.setSize(this._sizeStep,this._sizeStep)};h["starling.filters.FilterHelper"]=me;me.__name__=["starling","filters","FilterHelper"];me.__interfaces__=[rh];me.prototype={_width:null,
_height:null,_nativeWidth:null,_nativeHeight:null,_pool:null,_usePotTextures:null,_textureFormat:null,_preferredScale:null,_scale:null,_sizeStep:null,_numPasses:null,_projectionMatrix:null,_renderTarget:null,_targetBounds:null,_target:null,sRegion:null,dispose:function(){this.purge()},start:function(a,b){this._numPasses=b?a:-1},getTexture:function(a){null==a&&(a=1);var b,c;if(0<=this._numPasses&&0==this._numPasses--)return null;b=0!=this._pool.length?this._pool.pop():da.empty(this._nativeWidth/this._scale,
this._nativeHeight/this._scale,!0,!1,!0,this._scale,this._textureFormat);Y.isEquivalent(b.get_width(),this._width,.1)&&Y.isEquivalent(b.get_height(),this._height,.1)&&Y.isEquivalent(b.get_scale(),this._scale*a)||(this.sRegion.setTo(0,0,this._width*a,this._height*a),c=w.__instanceof(b,uc)?b:null,null!=c?c.setTo(b.get_root(),this.sRegion,!0,null,!1,a):b=new uc(b.get_root(),this.sRegion,!0,null,!1,a));b.get_root().clear();return b},putTexture:function(a){null!=a&&(a.get_root().get_nativeWidth()==this._nativeWidth&&
a.get_root().get_nativeHeight()==this._nativeHeight?this._pool.splice(this._pool.length,0,a):a.dispose())},purge:function(){for(var a=0,b=this._pool.length;a<b;){var c=a++;this._pool[c].dispose()}Ka.clear(this._pool)},setSize:function(a,b){var c,d=this._preferredScale;c=da.get_maxSize();var e=this.getNativeSize(a,d),f=this.getNativeSize(b,d);if(e>c||f>c)c/=Math.max(e,f),e=e*c|0,f=f*c|0,d*=c;if(this._nativeWidth!=e||this._nativeHeight!=f||this._scale!=d)this.purge(),this._scale=d,this._nativeWidth=
e,this._nativeHeight=f;this._width=a;this._height=b},getNativeSize:function(a,b){var c=a*b;return this._usePotTextures?c>this._sizeStep?Y.getNextPowerOfTwo(c):this._sizeStep:Math.ceil(c/this._sizeStep)*this._sizeStep},get_projectionMatrix3D:function(){return this._projectionMatrix},set_projectionMatrix3D:function(a){this._projectionMatrix.copyFrom(a);return a},get_renderTarget:function(){return this._renderTarget},set_renderTarget:function(a){return this._renderTarget=a},get_targetBounds:function(){return this._targetBounds},
set_targetBounds:function(a){this._targetBounds.copyFrom(a);this.setSize(a.width,a.height);return a},set_target:function(a){return this._target=a},set_textureScale:function(a){return this._preferredScale=0<a?a:x.get_sContentScaleFactor()},__class__:me,__properties__:{set_textureScale:"set_textureScale",set_target:"set_target",set_targetBounds:"set_targetBounds",get_targetBounds:"get_targetBounds",set_renderTarget:"set_renderTarget",get_renderTarget:"get_renderTarget",set_projectionMatrix3D:"set_projectionMatrix3D",
get_projectionMatrix3D:"get_projectionMatrix3D"}};var Kd=function(a){var b=new N(null,4);b.set_numVertices(4);var c=new Ma(6);c.addQuad(0,1,2,3);wb.call(this,b,c);this.set_textureSmoothing(a);this.set_pixelSnapping(!1)};h["starling.filters.FilterQuad"]=Kd;Kd.__name__=["starling","filters","FilterQuad"];Kd.__super__=wb;Kd.prototype=q(wb.prototype,{dispose:function(){this.disposeTexture();wb.prototype.dispose.call(this)},disposeTexture:function(){null!=this.get_texture()&&(this.get_texture().dispose(),
this.set_texture(null))},moveVertices:function(a,b){if(b.get_is3D())throw new n(new wa("cannot move vertices into 3D space"));a!=b&&(b.getTransformationMatrix(a,Kd.sMatrix).invert(),this.get_vertexData().transformPoints("position",Kd.sMatrix))},setBounds:function(a){var b=this.get_vertexData();b.setPoint(0,"position",a.x,a.y);b.setPoint(1,"position",a.get_right(),a.y);b.setPoint(2,"position",a.x,a.get_bottom());b.setPoint(3,"position",a.get_right(),a.get_bottom())},set_texture:function(a){wb.prototype.set_texture.call(this,
a);null!=a&&a.setupTextureCoordinates(this.get_vertexData());return a},__class__:Kd});var fg=function(a,b,c,d){null==d&&(d=.5);null==c&&(c=1);null==b&&(b=1);null==a&&(a=16776960);za.call(this);this._compositeFilter=new Re;this._blurFilter=new ke(c,c,d);this.set_color(a);this.set_alpha(b);this.updatePadding()};h["starling.filters.GlowFilter"]=fg;fg.__name__=["starling","filters","GlowFilter"];fg.__super__=za;fg.prototype=q(za.prototype,{_blurFilter:null,_compositeFilter:null,dispose:function(){this._blurFilter.dispose();
this._compositeFilter.dispose();za.prototype.dispose.call(this)},process:function(a,b,c,d,e,f){d=this._blurFilter.process(a,b,c);a=this._compositeFilter.process(a,b,d,c);b.putTexture(d);return a},get_numPasses:function(){return this._blurFilter.get_numPasses()+this._compositeFilter.get_numPasses()},updatePadding:function(){this.get_padding().copyFrom(this._blurFilter.get_padding())},get_color:function(){return this._compositeFilter.getColorAt(0)},set_color:function(a){this.get_color()!=a&&(this._compositeFilter.setColorAt(0,
a,!0),this.setRequiresRedraw());return a},get_alpha:function(){return this._compositeFilter.getAlphaAt(0)},set_alpha:function(a){this.get_alpha()!=a&&(this._compositeFilter.setAlphaAt(0,a),this.setRequiresRedraw());return a},get_resolution:function(){return this._blurFilter.get_resolution()},set_resolution:function(a){this.get_resolution()!=a&&(this._blurFilter.set_resolution(a),this.updatePadding());return a},__class__:fg,__properties__:q(za.prototype.__properties__,{set_alpha:"set_alpha",get_alpha:"get_alpha",
set_color:"set_color",get_color:"get_color"})});var Db=function(a){this._coords=[];this.addVertices(a)};h["starling.geom.Polygon"]=Db;Db.__name__=["starling","geom","Polygon"];Db.createCircle=function(a,b,c){return new pg(a,b,c,c)};Db.prototype={_coords:null,addVertices:function(a){var b=a.length,c=this._coords.length;if(0<b)if(w.__instanceof(a[0],X))for(var d=0;d<b;){var e=d++;this._coords[c+2*e]=a[e].x;this._coords[c+2*e+1]=a[e].y}else if("number"==typeof a[0])for(d=0;d<b;)e=d++,this._coords[c+
e]=a[e];else throw a=a[0],new n(new sa("Invalid type: "+ea.getClassName(null==a?null:w.getClass(a))));},contains:function(a,b){for(var c=this.get_numVertices()-1,d=0,e=0,f=this.get_numVertices();e<f;){var g=e++,l=this._coords[2*g],h=this._coords[2*g+1],k=this._coords[2*c],c=this._coords[2*c+1];(h<b&&c>=b||c<b&&h>=b)&&(l<=a||k<=a)&&(d^=l+(b-h)/(c-h)*(k-l)<a?1:0);c=g}return 0!=d},containsPoint:function(a){return this.contains(a.x,a.y)},triangulate:function(a,b){null==b&&(b=0);var c=this.get_numVertices(),
d=this.get_numTriangles();null==a&&(a=new Ma(3*d));if(0==d)return a;Ka.resize(Db.sRestIndices,c);for(d=0;d<c;){var e=d++;Db.sRestIndices[e]=e}for(var d=0,e=W.getPoint(),f=W.getPoint(),g=W.getPoint(),l=W.getPoint();3<c;){var h,k=!1,m=Db.sRestIndices[d%c],n=Db.sRestIndices[(d+1)%c],p=Db.sRestIndices[(d+2)%c];e.setTo(this._coords[2*m],this._coords[2*m+1]);f.setTo(this._coords[2*n],this._coords[2*n+1]);g.setTo(this._coords[2*p],this._coords[2*p+1]);var q=f.x,r=f.y;if(0<=(e.y-r)*(g.x-q)+(q-e.x)*(g.y-r))for(k=
!0,q=3,r=c;q<r;)if(h=q++,h=Db.sRestIndices[(d+h)%c],l.setTo(this._coords[2*h],this._coords[2*h+1]),Y.isPointInTriangle(l,e,f,g)){k=!1;break}if(k)a.addTriangle(m+b,n+b,p+b),Db.sRestIndices.splice((d+1)%c,1),--c,d=0;else if(++d,d==c)break}W.putPoint(e);W.putPoint(f);W.putPoint(g);W.putPoint(l);a.addTriangle(Db.sRestIndices[0]+b,Db.sRestIndices[1]+b,Db.sRestIndices[2]+b);return a},copyToVertexData:function(a,b,c){null==c&&(c="position");null==b&&(b=0);var d=this.get_numVertices(),e=b+d;a.get_numVertices()<
e&&a.set_numVertices(e);for(e=0;e<d;){var f=e++;a.setPoint(b+f,c,this._coords[2*f],this._coords[2*f+1])}},get_numVertices:function(){return this._coords.length/2|0},get_numTriangles:function(){var a=this.get_numVertices();return 3<=a?a-2:0},__class__:Db,__properties__:{get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices"}};var ne=function(a){Db.call(this,a);this._frozen=!0};h["starling.geom.ImmutablePolygon"]=ne;ne.__name__=["starling","geom","ImmutablePolygon"];ne.__super__=Db;ne.prototype=
q(Db.prototype,{_frozen:null,addVertices:function(a){if(this._frozen)throw new n(this.getImmutableError());Db.prototype.addVertices.call(this,a)},getImmutableError:function(){var a=ea.getClassName(w.getClass(this)).split("::").pop()+" cannot be modified. Call 'clone' to create a mutable copy.";return new Ba(a)},__class__:ne});var pg=function(a,b,c,d,e){null==e&&(e=-1);this._x=a;this._y=b;this._radiusX=c;this._radiusY=d;ne.call(this,this.getVertices(e))};h["starling.geom.Ellipse"]=pg;pg.__name__=["starling",
"geom","Ellipse"];pg.__super__=ne;pg.prototype=q(ne.prototype,{_x:null,_y:null,_radiusX:null,_radiusY:null,getVertices:function(a){0>a&&(a=Math.PI*(this._radiusX+this._radiusY)/4|0);6>a&&(a=6);for(var b=[],c=2*Math.PI/a,d=0,e=0;e<a;){var f=e++;b[2*f]=Math.cos(d)*this._radiusX+this._x;b[2*f+1]=Math.sin(d)*this._radiusY+this._y;d+=c}return b},triangulate:function(a,b){null==b&&(b=0);null==a&&(a=new Ma(3*(this.get_numVertices()-2)));for(var c=1,d=this.get_numVertices()-1;c<d;){var e=c++;a.addTriangle(b,
b+e,b+e+1)}return a},contains:function(a,b){var c=(a-this._x)/this._radiusX,d=(b-this._y)/this._radiusY;return 1>=c*c+d*d},__class__:pg});var oe=function(){this._batches=[];this._batchPool=new sh;this._cacheToken=new wd};h["starling.rendering.BatchProcessor"]=oe;oe.__name__=["starling","rendering","BatchProcessor"];oe.prototype={_batches:null,_batchPool:null,_currentBatch:null,_currentStyleType:null,_onBatchComplete:null,_cacheToken:null,addMesh:function(a,b,c,d){null==d&&(d=!1);null==c?(c=oe.sMeshSubset,
c.vertexID=c.indexID=0,c.numVertices=a.get_numVertices(),c.numIndices=a.get_numIndices()):(0>c.numVertices&&(c.numVertices=a.get_numVertices()-c.vertexID),0>c.numIndices&&(c.numIndices=a.get_numIndices()-c.indexID));0<c.numVertices&&(null!=this._currentBatch&&this._currentBatch.canAddMesh(a,c.numVertices)||(this.finishBatch(),this._currentStyleType=a.get_style().get_type(),this._currentBatch=this._batchPool.get(this._currentStyleType),this._currentBatch.set_blendMode(null!=b?b.get_blendMode():a.get_blendMode()),
this._cacheToken.setTo(this._batches.length),this._batches[this._batches.length]=this._currentBatch),this._currentBatch.addMesh(a,null!=b?b._modelviewMatrix:null,null!=b?b._alpha:1,c,d),this._cacheToken.vertexID+=c.numVertices,this._cacheToken.indexID+=c.numIndices)},finishBatch:function(){var a=this._currentBatch;null!=a&&(this._currentStyleType=this._currentBatch=null,null!=this._onBatchComplete&&this._onBatchComplete(a))},clear:function(){for(var a=0,b=this._batches.length;a<b;){var c=a++;this._batchPool.put(this._batches[c])}Ka.clear(this._batches);
this._currentStyleType=this._currentBatch=null;this._cacheToken.reset()},getBatchAt:function(a){return this._batches[a]},trim:function(){this._batchPool.purge()},rewindTo:function(a){if(a.batchID>this._cacheToken.batchID)throw new n(new xd("Token outside available range"));for(var b=this._cacheToken.batchID;b>a.batchID;)this._batchPool.put(this._batches.pop()),--b;this._batches.length>a.batchID&&(b=this._batches[a.batchID],b.set_numIndices(Y.min(b.get_numIndices(),a.indexID)|0),b.set_numVertices(Y.min(b.get_numVertices(),
a.vertexID)|0));this._currentBatch=null;this._cacheToken.copyFrom(a)},fillToken:function(a){a.batchID=this._cacheToken.batchID;a.vertexID=this._cacheToken.vertexID;a.indexID=this._cacheToken.indexID;return a},set_onBatchComplete:function(a){return this._onBatchComplete=a},__class__:oe,__properties__:{set_onBatchComplete:"set_onBatchComplete"}};var sh=function(){this._batchLists=new T};h["starling.rendering.BatchPool"]=sh;sh.__name__=["starling","rendering","BatchPool"];sh.prototype={_batchLists:null,
purge:function(){for(var a=this._batchLists,a=new Md(a,a.arrayKeys());a.hasNext();){for(var b=a.next(),c=0,d=b.length;c<d;){var e=c++;b[e].dispose()}Ka.clear(b)}},get:function(a){a=ea.getClassName(a);var b=this._batchLists,b=null!=m[a]?b.getReserved(a):b.h[a];if(null==b){var b=[],c=this._batchLists;null!=m[a]?c.setReserved(a,b):c.h[a]=b}return 0<b.length?b.pop():new Jd},put:function(a){var b=a.get_style().get_type(),b=ea.getClassName(b),c=this._batchLists,c=null!=m[b]?c.getReserved(b):c.h[b];if(null==
c){var c=[],d=this._batchLists;null!=m[b]?d.setReserved(b,c):d.h[b]=c}a.clear();c[c.length]=a},__class__:sh};var th={};h["starling.utils._Int16ArrayWrapper.Int16ArrayWrapper_Impl_"]=th;th.__name__=["starling","utils","_Int16ArrayWrapper","Int16ArrayWrapper_Impl_"];th._new=function(){return new uh};var uh=function(){this.data=new Lc(0);var a=Sa.toArrayBuffer(this.data);this.int16Array=null!=a?new Int16Array(a,0):null};h["starling.utils.Int16ArrayWrappedData"]=uh;uh.__name__=["starling","utils","Int16ArrayWrappedData"];
uh.prototype={data:null,int16Array:null,writeShort:function(a){this.data.__resize(this.data.position+2);this.createInt16ArrayIfNeeded();this.int16Array[this.data.position/2|0]=a;this.data.position+=2},createInt16ArrayIfNeeded:function(){var a=Sa.toArrayBuffer(this.data);if(a!=this.int16Array.buffer){var b=a.byteLength/2|0;this.int16Array=null!=a?null==b?new Int16Array(a,0):new Int16Array(a,0,b):null}},__class__:uh};var Ma=function(a){null==a&&(a=48);this._numIndices=0;this._initialCapacity=a;this._useQuadLayout=
!0};h["starling.rendering.IndexData"]=Ma;Ma.__name__=["starling","rendering","IndexData"];Ma.getBasicQuadIndexAt=function(a){var b=a/6|0;a-=6*b;return 4*b+(0==a?0:1==a||3==a?1:2==a||5==a?2:3)};Ma.prototype={_rawData:null,_numIndices:null,_initialCapacity:null,_useQuadLayout:null,clear:function(){null!=this._rawData&&this._rawData.data.clear();this._numIndices=0;this._useQuadLayout=!0},copyTo:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);if(0>e||d+e>this._numIndices)e=
this._numIndices-d;var f;f=b+e;a._numIndices<f&&(a._numIndices=f,Ca.gt(f,Ma.sQuadDataNumIndices)&&this.ensureQuadDataCapacity(f));if(this._useQuadLayout){if(a._useQuadLayout){f=!0;var g=b-d,l=g/6|0;if(l==(c/4|0)&&0==(c&3)&&6*l==g)f=!0;else if(2<e)f=!1;else for(g=0,l=e;g<l;){var h=g++;f=f?Ma.getBasicQuadIndexAt(d+h)+c==Ma.getBasicQuadIndexAt(b+h):!1}if(f)return;a.switchToGenericData()}f=Ma.sQuadData;a=a._rawData;0==(c&3)&&(d+=6*c/4|0,c=0,this.ensureQuadDataCapacity(d+e))}else a._useQuadLayout&&a.switchToGenericData(),
f=this._rawData,a=a._rawData;a.data.position=2*b;if(0==c)a.data.writeBytes(f.data,2*d,2*e),a.createInt16ArrayIfNeeded();else{for(f.data.position=2*d;1<e;)b=f.data.readUnsignedInt(),a.data.writeUnsignedInt(((b&-65536)>>>16)+c<<16|(b&65535)+c),e-=2;0!=e&&(f.data.position+=2,a.writeShort(f.int16Array[(f.data.position-2)/2|0]+c))}},getIndex:function(a){if(this._useQuadLayout){if(a<this._numIndices)return Ma.getBasicQuadIndexAt(a);throw new n(new ge);}this._rawData.data.position=2*a;a=this._rawData;a.data.position+=
2;return a.int16Array[(a.data.position-2)/2|0]},addTriangle:function(a,b,c){if(this._useQuadLayout){if((Ca.toFloat(a)|0)==Ma.getBasicQuadIndexAt(this._numIndices)){var d=0!=(this._numIndices&1);if(!d&&b==a+1&&c==b+1||d&&c==a+1&&b==c+1){this._numIndices+=3;this.ensureQuadDataCapacity(this._numIndices);return}}this.switchToGenericData()}this._rawData.data.position=2*this._numIndices;this._rawData.writeShort(a);this._rawData.writeShort(b);this._rawData.writeShort(c);this._numIndices+=3},addQuad:function(a,
b,c,d){if(this._useQuadLayout){if(a==Ma.getBasicQuadIndexAt(this._numIndices)&&b==a+1&&c==b+1&&d==c+1){this._numIndices+=6;this.ensureQuadDataCapacity(this._numIndices);return}this.switchToGenericData()}this._rawData.data.position=2*this._numIndices;this._rawData.writeShort(a);this._rawData.writeShort(b);this._rawData.writeShort(c);this._rawData.writeShort(b);this._rawData.writeShort(d);this._rawData.writeShort(c);this._numIndices+=6},switchToGenericData:function(){if(this._useQuadLayout){this._useQuadLayout=
!1;if(null==this._rawData){this._rawData=th._new();this._rawData.data.__endian=1;var a=this._rawData;Sa.set_length(a.data,2*this._initialCapacity);a.createInt16ArrayIfNeeded();a=this._rawData;Sa.set_length(a.data,2*this._numIndices);a.createInt16ArrayIfNeeded()}0!=this._numIndices&&(a=this._rawData,a.data.writeBytes(Ma.sQuadData.data,0,2*this._numIndices),a.createInt16ArrayIfNeeded())}},ensureQuadDataCapacity:function(a){if(!Ca.gte(Ma.sQuadDataNumIndices,a)){var b=Ca.toFloat(Ma.sQuadDataNumIndices)/
Ca.toFloat(6)|0,c=Math.ceil(a/6);Ma.sQuadData.data.__endian=1;var d=Ma.sQuadData,e=Sa.get_length(Ma.sQuadData.data);d.data.position=e;Ma.sQuadDataNumIndices=6*c;d=Ma.sQuadData;d.data.__resize(2*a);d.createInt16ArrayIfNeeded();for(a=b;a<c;)b=a++,Ma.sQuadData.writeShort(4*b),Ma.sQuadData.writeShort(4*b+1),Ma.sQuadData.writeShort(4*b+2),Ma.sQuadData.writeShort(4*b+1),Ma.sQuadData.writeShort(4*b+3),Ma.sQuadData.writeShort(4*b+2)}},createIndexBuffer:function(a,b){null==a&&(a=!1);null==b&&(b=1);var c=x.get_sContext();
if(null==c)throw new n(new sd);if(0==this._numIndices)return null;c=c.createIndexBuffer(this._numIndices,b);a&&this.uploadToIndexBuffer(c);return c},uploadToIndexBuffer:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);if(0>c||b+c>this._numIndices)c=this._numIndices-b;0<c&&a.uploadFromByteArray(this.get_rawData(),0,b,c)},get_numIndices:function(){return this._numIndices},set_numIndices:function(a){if(a!=this._numIndices){if(this._useQuadLayout)this.ensureQuadDataCapacity(a);else{var b=this._rawData;
Sa.set_length(b.data,2*a);b.createInt16ArrayIfNeeded()}0==a&&(this._useQuadLayout=!0);this._numIndices=a}return a},get_numTriangles:function(){return this._numIndices/3|0},get_useQuadLayout:function(){return this._useQuadLayout},get_rawData:function(){return this._useQuadLayout?Ma.sQuadData.data:this._rawData.data},__class__:Ma,__properties__:{get_rawData:"get_rawData",get_useQuadLayout:"get_useQuadLayout",get_numTriangles:"get_numTriangles",set_numIndices:"set_numIndices",get_numIndices:"get_numIndices"}};
var Ga=function(a){this._stage3D=a;this._stage3D.addEventListener("context3DCreate",p(this,this.onContextCreated),!1,10,!0);this._context=this._stage3D.context3D;this._shareContext=null!=this._context&&"Disposed"!=this._context.driverInfo;this._backBufferWidth=null!=this._context?this._context.backBufferWidth:0;this._backBufferHeight=null!=this._context?this._context.backBufferHeight:0;this._backBufferScaleFactor=this._pixelSize=1;this._stencilReferenceValues=new jc;this._clipRectStack=[];this._programs=
new T;this._data=new T;this._batchProcessor=new oe;this._batchProcessor.set_onBatchComplete(p(this,this.drawBatch));this._batchCache=new oe;this._batchCache.set_onBatchComplete(p(this,this.drawBatch));this._batchCacheExclusions=[];this._state=new td;this._state.set_onDrawRequired(p(this,this.finishMeshBatch));this._stateStack=[];this._stateStackPos=-1;this._frameID=this._stateStackLength=0};h["starling.rendering.Painter"]=Ga;Ga.__name__=["starling","rendering","Painter"];Ga.prototype={_stage3D:null,
_context:null,_shareContext:null,_programs:null,_data:null,_drawCount:null,_frameID:null,_pixelSize:null,_enableErrorChecking:null,_stencilReferenceValues:null,_clipRectStack:null,_batchProcessor:null,_batchCache:null,_batchCacheExclusions:null,_actualRenderTarget:null,_actualCulling:null,_actualBlendMode:null,_backBufferWidth:null,_backBufferHeight:null,_backBufferScaleFactor:null,_state:null,_stateStack:null,_stateStackPos:null,_stateStackLength:null,requestContext3D:function(a,b){Ac.requestContext3D(this._stage3D,
a,b)},onContextCreated:function(a){this._context=this._stage3D.context3D;this._context.set_enableErrorChecking(this._enableErrorChecking);this._actualCulling=this._actualBlendMode=null},configureBackBuffer:function(a,b,c,d){d=d?ib.get_supportsDepthAndStencil():!1;if(a.width*b>this._context.maxBackBufferWidth||a.height*b>this._context.maxBackBufferHeight)b=1;this._stage3D.set_x(a.x);this._stage3D.set_y(a.y);this._context.configureBackBuffer(a.width|0,a.height|0,c,d);this._backBufferWidth=a.width;this._backBufferHeight=
a.height;this._backBufferScaleFactor=b},registerProgram:function(a,b){this.deleteProgram(a);var c=this._programs;null!=m[a]?c.setReserved(a,b):c.h[a]=b},deleteProgram:function(a){var b=this.getProgram(a);null!=b&&(b.dispose(),this._programs.remove(a))},getProgram:function(a){var b=this._programs;a=null!=m[a]?b.getReserved(a):b.h[a];return null!=a?a:null},pushState:function(a){this._stateStackPos++;this._stateStackLength<this._stateStackPos+1&&(this._stateStack[this._stateStackLength++]=new td);null!=
a&&this._batchProcessor.fillToken(a);this._stateStack[this._stateStackPos].copyFrom(this._state,!1);this._stateStack[this._stateStackPos]._projectionMatrix3D=null},pushState3D:function(a){this._stateStackPos++;this._stateStackLength<this._stateStackPos+1&&(this._stateStack[this._stateStackLength++]=new td);null!=a&&this._batchProcessor.fillToken(a);this._stateStack[this._stateStackPos].copyFrom(this._state,!0)},setStateTo:function(a,b,c){null==c&&(c="auto");null==b&&(b=1);null!=a&&H.prependMatrix(this._state._modelviewMatrix,
a);1!=b&&(this._state._alpha*=b);"auto"!=c&&this._state.set_blendMode(c)},popState:function(a){if(0>this._stateStackPos)throw new n(new Ba("Cannot pop empty state stack"));this._state.copyFrom(this._stateStack[this._stateStackPos],!0);this._stateStackPos--;null!=a&&this._batchProcessor.fillToken(a)},popState_noCopy:function(){if(0>this._stateStackPos)throw new n(new Ba("Cannot pop empty state stack"));this._stateStackPos--},restoreState:function(a){if(0>this._stateStackPos)throw new n(new Ba("Cannot restore state from empty stack"));
this._state.copyFrom(this._stateStack[this._stateStackPos],!0);null!=a&&this._batchProcessor.fillToken(a)},drawMask:function(a,b){if(null!=this._context){this.finishMeshBatch();if(this.isRectangularMask(a,Ga.sMatrix))a.getBounds(a,Ga.sClipRect),aa.getBounds(Ga.sClipRect,Ga.sMatrix,Ga.sClipRect),this.pushClipRect(Ga.sClipRect);else{this._context.setStencilActions(2,1,2);this.renderMask(a);var c=this.get_stencilReferenceValue();this.set_stencilReferenceValue(c+1);this._context.setStencilActions(2,1,
5)}this.excludeFromCache(b)}},eraseMask:function(a){null!=this._context&&(this.finishMeshBatch(),this.isRectangularMask(a,Ga.sMatrix)?this.popClipRect():(this._context.setStencilActions(2,1,0),this.renderMask(a),a=this.get_stencilReferenceValue(),this.set_stencilReferenceValue(a-1),this._context.setStencilActions(2,1,5)))},renderMask:function(a){this.pushState();this._state.set_alpha(0);null!=a.get_stage()?a.getTransformationMatrix(null,this._state.get_modelviewMatrix()):this._state.transformModelviewMatrix(a.get_transformationMatrix());
a.render(this);this.finishMeshBatch();this.popState()},pushClipRect:function(a){var b=this._clipRectStack,c=b.length,d=W.getRectangle();0!=c?aa.intersect(b[c-1],a,d):d.copyFrom(a);b[c]=d;this._state.set_clipRect(d)},popClipRect:function(){var a=this._clipRectStack,b=a.length;if(0==b)throw new n(new wa("Trying to pop from empty clip rectangle stack"));--b;W.putRectangle(a.pop());this._state.set_clipRect(0!=b?a[b-1]:null)},isRectangularMask:function(a,b){var c=w.__instanceof(a,Va)?a:null;if(null!=c&&
!c.get_is3D()&&null==c.get_texture()){null!=a.get_stage()?a.getTransformationMatrix(null,b):(b.copyFrom(a.get_transformationMatrix()),b.concat(this._state.get_modelviewMatrix()));if(Y.isEquivalent(b.a,0)&&Y.isEquivalent(b.d,0))return!0;if(Y.isEquivalent(b.b,0))return Y.isEquivalent(b.c,0)}return!1},batchMesh:function(a,b){this._batchProcessor.addMesh(a,this._state,b)},finishMeshBatch:function(){this._batchProcessor.finishBatch()},finishFrame:function(){0==(Ca.toFloat(this._frameID)%Ca.toFloat(99)|
0)&&this._batchProcessor.trim();this._batchProcessor.finishBatch();this.swapBatchProcessors();this._batchProcessor.clear();this.processCacheExclusions()},swapBatchProcessors:function(){var a=this._batchProcessor;this._batchProcessor=this._batchCache;this._batchCache=a},processCacheExclusions:function(){for(var a=0,b=this._batchCacheExclusions.length;a<b;){var c=a++;this._batchCacheExclusions[c].excludeFromCache()}Ka.clear(this._batchCacheExclusions)},nextFrame:function(){this.set_stencilReferenceValue(0);
Ka.clear(this._clipRectStack);this._drawCount=0;this._stateStackPos=-1;this._batchProcessor.clear();this._context.setDepthTest(!1,0);this._state.reset()},drawFromCache:function(a,b){var c,d=Ga.sMeshSubset;if(!a.equals(b)){this.pushState();for(var e=a.batchID;e<=b.batchID;)c=this._batchCache.getBatchAt(e),d.setTo(),e==a.batchID&&(d.vertexID=a.vertexID,d.indexID=a.indexID,d.numVertices=c.get_numVertices()-d.vertexID,d.numIndices=c.get_numIndices()-d.indexID),e==b.batchID&&(d.numVertices=b.vertexID-
d.vertexID,d.numIndices=b.indexID-d.indexID),0!=d.numVertices&&(this._state.set_alpha(1),this._state.set_blendMode(c.get_blendMode()),this._batchProcessor.addMesh(c,this._state,d,!0)),++e;this.popState()}},rewindCacheTo:function(a){this._batchProcessor.rewindTo(a)},excludeFromCache:function(a){null!=a&&(this._batchCacheExclusions[this._batchCacheExclusions.length]=a)},drawBatch:function(a){this.pushState();this.get_state().set_blendMode(a.get_blendMode());this.get_state().get_modelviewMatrix().identity();
this.get_state().set_alpha(1);a.render(this);this.popState()},prepareToDraw:function(){this.applyBlendMode();this.applyRenderTarget();this.applyClipRect();this.applyCulling()},clear:function(a,b){null==b&&(b=0);null==a&&(a=0);this.applyRenderTarget();this.set_stencilReferenceValue(0);Ac.clear(a,b)},present:function(){this._state.set_renderTarget(null);this._actualRenderTarget=null;this._context.present()},applyBlendMode:function(){var a=this._state.get_blendMode();a!=this._actualBlendMode&&(qb.get(this._state.get_blendMode()).activate(),
this._actualBlendMode=a)},applyCulling:function(){var a=this._state.get_culling();a!=this._actualCulling&&(this._context.setCulling(a),this._actualCulling=a)},applyRenderTarget:function(){var a=this._state.get_renderTargetBase();if(a!=this._actualRenderTarget){if(null!=a){var b=this._state.get_renderTargetAntiAlias(),c=this._state.get_renderTargetSupportsDepthAndStencil();this._context.setRenderToTexture(a,c,b)}else this._context.setRenderToBackBuffer();this._context.setStencilReferenceValue(this.get_stencilReferenceValue());
this._actualRenderTarget=a}},applyClipRect:function(){var a=this._state.get_clipRect();if(null!=a){var b,c,d=this._state.get_projectionMatrix3D();c=this._state.get_renderTarget();null!=c?(b=c.get_root().get_nativeWidth()|0,c=c.get_root().get_nativeHeight()|0):(b=this.get_backBufferWidth(),c=this.get_backBufferHeight());H.transformCoords3D(d,a.x,a.y,0,Ga.sPoint3D);Ga.sPoint3D.project();Ga.sClipRect.x=(.5*Ga.sPoint3D.x+.5)*b;Ga.sClipRect.y=(.5-.5*Ga.sPoint3D.y)*c;H.transformCoords3D(d,a.get_right(),
a.get_bottom(),0,Ga.sPoint3D);Ga.sPoint3D.project();Ga.sClipRect.set_right((.5*Ga.sPoint3D.x+.5)*b);Ga.sClipRect.set_bottom((.5-.5*Ga.sPoint3D.y)*c);Ga.sBufferRect.setTo(0,0,b,c);aa.intersect(Ga.sClipRect,Ga.sBufferRect,Ga.sScissorRect);(1>Ga.sScissorRect.width||1>Ga.sScissorRect.height)&&Ga.sScissorRect.setTo(0,0,1,1);this._context.setScissorRectangle(Ga.sScissorRect)}else this._context.setScissorRectangle(null)},get_drawCount:function(){return this._drawCount},set_drawCount:function(a){return this._drawCount=
a},get_stencilReferenceValue:function(){var a=null!=this._state.get_renderTarget()?this._state.get_renderTargetBase():this,a=this._stencilReferenceValues.h[a.__id__];return null!=a?a:0},set_stencilReferenceValue:function(a){var b=null!=this._state.get_renderTarget()?this._state.get_renderTargetBase():this;this._stencilReferenceValues.set(b,a);this.get_contextValid()&&this._context.setStencilReferenceValue(a);return a},get_state:function(){return this._state},get_stage3D:function(){return this._stage3D},
get_context:function(){return this._context},get_frameID:function(){return this._frameID},set_frameID:function(a){return this._frameID=a},get_pixelSize:function(){return this._pixelSize},set_pixelSize:function(a){return this._pixelSize=a},get_shareContext:function(){return this._shareContext},set_enableErrorChecking:function(a){this._enableErrorChecking=a;null!=this._context&&this._context.set_enableErrorChecking(a);return a},get_backBufferWidth:function(){return this._backBufferWidth|0},get_backBufferHeight:function(){return this._backBufferHeight|
0},get_backBufferScaleFactor:function(){return this._backBufferScaleFactor},get_contextValid:function(){if(null!=this._context){var a=this._context.driverInfo;return null!=a&&""!=a?"Disposed"!=a:!1}return!1},get_profile:function(){return null!=this._context?this._context.profile:null},get_sharedData:function(){return this._data},__class__:Ga,__properties__:{get_sharedData:"get_sharedData",get_profile:"get_profile",get_contextValid:"get_contextValid",get_backBufferScaleFactor:"get_backBufferScaleFactor",
get_backBufferHeight:"get_backBufferHeight",get_backBufferWidth:"get_backBufferWidth",set_enableErrorChecking:"set_enableErrorChecking",get_shareContext:"get_shareContext",set_pixelSize:"set_pixelSize",get_pixelSize:"get_pixelSize",set_frameID:"set_frameID",get_frameID:"get_frameID",get_context:"get_context",get_stage3D:"get_stage3D",get_state:"get_state",set_stencilReferenceValue:"set_stencilReferenceValue",get_stencilReferenceValue:"get_stencilReferenceValue",set_drawCount:"set_drawCount",get_drawCount:"get_drawCount"}};
var rc=function(a,b){this._vertexShader=a;this._fragmentShader=b;x.get_current().get_stage3D().addEventListener("context3DCreate",p(this,this.onContextCreated),!1,0,!0)};h["starling.rendering.Program"]=rc;rc.__name__=["starling","rendering","Program"];rc.fromSource=function(a,b,c){return new rc(rc.sAssembler.assemble(1,a),rc.sAssembler.assemble(0,b))};rc.prototype={_vertexShader:null,_fragmentShader:null,_program3D:null,dispose:function(){x.get_current().get_stage3D().removeEventListener("context3DCreate",
p(this,this.onContextCreated));this.disposeProgram()},activate:function(a){if(null==a&&(a=x.get_sContext(),null==a))throw new n(new sd);null==this._program3D&&(this._program3D=a.createProgram(),this._program3D.upload(this._vertexShader,this._fragmentShader));a.setProgram(this._program3D)},onContextCreated:function(a){this.disposeProgram()},disposeProgram:function(){null!=this._program3D&&(this._program3D.dispose(),this._program3D=null)},__class__:rc};var td=function(){this.reset();this._renderTargetOptions=
0};h["starling.rendering.RenderState"]=td;td.__name__=["starling","rendering","RenderState"];td.prototype={_alpha:null,_blendMode:null,_modelviewMatrix:null,_renderTarget:null,_renderTargetOptions:null,_culling:null,_clipRect:null,_onDrawRequired:null,_modelviewMatrix3D:null,_projectionMatrix3D:null,_mvpMatrix3D:null,copyFrom:function(a,b){if(null!=this._onDrawRequired){var c=null!=this._renderTarget?this._renderTarget.get_base():null,d=null!=a._renderTarget?a._renderTarget.get_base():null,e=(null!=
this._clipRect||null!=a._clipRect)&&!aa.compare(this._clipRect,a._clipRect);(this._blendMode!=a._blendMode||this._culling!=a._culling||c!=d||e)&&this._onDrawRequired()}this._alpha=a._alpha;this._blendMode=a._blendMode;this._renderTarget=a._renderTarget;this._renderTargetOptions=a._renderTargetOptions;this._culling=a._culling;this._modelviewMatrix.copyFrom(a._modelviewMatrix);b&&null!=a._projectionMatrix3D&&(null==this._projectionMatrix3D&&(this._projectionMatrix3D=new jb),this._projectionMatrix3D.copyFrom(a._projectionMatrix3D));
null==this._modelviewMatrix3D&&null==a._modelviewMatrix3D||this.set_modelviewMatrix3D(a._modelviewMatrix3D);null==this._clipRect&&null==a._clipRect||this.set_clipRect(a._clipRect)},reset:function(){this.set_alpha(1);this.set_blendMode("normal");this.set_culling(3);this.set_modelviewMatrix3D(null);this.set_renderTarget(null);this.set_clipRect(null);null!=this._modelviewMatrix?this._modelviewMatrix.identity():this._modelviewMatrix=new fa;null!=this._projectionMatrix3D?this._projectionMatrix3D.identity():
this._projectionMatrix3D=new jb;null==this._mvpMatrix3D&&(this._mvpMatrix3D=new jb)},transformModelviewMatrix:function(a){H.prependMatrix(this._modelviewMatrix,a)},transformModelviewMatrix3D:function(a){null==this._modelviewMatrix3D&&(this._modelviewMatrix3D=W.getMatrix3D());this._modelviewMatrix3D.prepend(H.convertTo3D(this._modelviewMatrix,td.sMatrix3D));this._modelviewMatrix3D.prepend(a);this._modelviewMatrix.identity()},setProjectionMatrix:function(a,b,c,d,e,f,g){null==f&&(f=0);null==e&&(e=0);
H.createPerspectiveProjectionMatrix(a,b,c,d,e,f,g,this._projectionMatrix3D)},setModelviewMatricesToIdentity:function(){this._modelviewMatrix.identity();null!=this._modelviewMatrix3D&&this._modelviewMatrix3D.identity()},get_modelviewMatrix:function(){return this._modelviewMatrix},set_modelviewMatrix3D:function(a){null!=a?(null==this._modelviewMatrix3D&&(this._modelviewMatrix3D=W.getMatrix3D(!1)),this._modelviewMatrix3D.copyFrom(a)):null!=this._modelviewMatrix3D&&(W.putMatrix3D(this._modelviewMatrix3D),
this._modelviewMatrix3D=null);return a},get_projectionMatrix3D:function(){return this._projectionMatrix3D},get_mvpMatrix3D:function(){this._mvpMatrix3D.copyFrom(this._projectionMatrix3D);null!=this._modelviewMatrix3D&&this._mvpMatrix3D.prepend(this._modelviewMatrix3D);this._mvpMatrix3D.prepend(H.convertTo3D(this._modelviewMatrix,td.sMatrix3D));return this._mvpMatrix3D},setRenderTarget:function(a,b,c){null==c&&(c=0);null==b&&(b=!0);var d=null!=this._renderTarget?this._renderTarget.get_base():null,
e=null!=a?a.get_base():null;b=b?1:0|c<<4;if(d!=e||this._renderTargetOptions!=b)null!=this._onDrawRequired&&this._onDrawRequired(),this._renderTarget=a,this._renderTargetOptions=b},get_alpha:function(){return this._alpha},set_alpha:function(a){return this._alpha=a},get_blendMode:function(){return this._blendMode},set_blendMode:function(a){"auto"!=a&&this._blendMode!=a&&(null!=this._onDrawRequired&&this._onDrawRequired(),this._blendMode=a);return a},get_renderTarget:function(){return this._renderTarget},
set_renderTarget:function(a){this.setRenderTarget(a);return a},get_renderTargetBase:function(){return null!=this._renderTarget?this._renderTarget.get_base():null},get_culling:function(){return this._culling},set_culling:function(a){this._culling!=a&&(null!=this._onDrawRequired&&this._onDrawRequired(),this._culling=a);return a},get_clipRect:function(){return this._clipRect},set_clipRect:function(a){aa.compare(this._clipRect,a)||(null!=this._onDrawRequired&&this._onDrawRequired(),null!=a?(null==this._clipRect&&
(this._clipRect=W.getRectangle()),this._clipRect.copyFrom(a)):null!=this._clipRect&&(W.putRectangle(this._clipRect),this._clipRect=null));return a},get_renderTargetAntiAlias:function(){return this._renderTargetOptions>>>4},get_renderTargetSupportsDepthAndStencil:function(){return 0!=(this._renderTargetOptions&15)},set_onDrawRequired:function(a){return this._onDrawRequired=a},__class__:td,__properties__:{set_onDrawRequired:"set_onDrawRequired",get_renderTargetSupportsDepthAndStencil:"get_renderTargetSupportsDepthAndStencil",
get_renderTargetAntiAlias:"get_renderTargetAntiAlias",set_clipRect:"set_clipRect",get_clipRect:"get_clipRect",set_culling:"set_culling",get_culling:"get_culling",get_renderTargetBase:"get_renderTargetBase",set_renderTarget:"set_renderTarget",get_renderTarget:"get_renderTarget",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha",get_mvpMatrix3D:"get_mvpMatrix3D",get_projectionMatrix3D:"get_projectionMatrix3D",set_modelviewMatrix3D:"set_modelviewMatrix3D",
get_modelviewMatrix:"get_modelviewMatrix"}};var N=function(a,b){null==b&&(b=32);if(null==a)this._format=Yb.VERTEX_FORMAT;else if(w.__instanceof(a,fc))this._format=a;else if("string"==typeof a)this._format=fc.fromString(a);else throw new n(new sa("'format' must be String or VertexDataFormat"));this._attributes=this._format.get_attributes();this._numAttributes=this._attributes.length;this._posOffset=this._format.hasAttribute("position")?this._format.getOffset("position"):0;this._colOffset=this._format.hasAttribute("color")?
this._format.getOffset("color"):0;this._vertexSize=this._format.get_vertexSize();this._numVertices=0;this._premultipliedAlpha=!0;this._rawData=di._new();this._rawData.data.__endian=N.sBytes.__endian=1;var c=this._rawData;Sa.set_length(c.data,b*this._vertexSize);c.createTypedArrays();c=this._rawData;Sa.set_length(c.data,0);c.createTypedArrays();this._tinted=!1};h["starling.rendering.VertexData"]=N;N.__name__=["starling","rendering","VertexData"];N.switchEndian=function(a){return(a&255)<<24|(a>>>8&
255)<<16|(a>>>16&255)<<8|a>>>24&255};N.premultiplyAlpha=function(a){var b=a&255;if(255==b)return a;var c=Ca.toFloat(b)/255,d=Ca.toFloat(a>>>24&255)*c|0,e=Ca.toFloat(a>>>16&255)*c|0;a=Ca.toFloat(a>>>8&255)*c|0;return(d&255)<<24|(e&255)<<16|(a&255)<<8|b};N.unmultiplyAlpha=function(a){var b=a&255;if(255==b||0==b)return a;var c=Ca.toFloat(b)/255,d=Ca.toFloat(a>>>24&255)/c|0,e=Ca.toFloat(a>>>16&255)/c|0;a=Ca.toFloat(a>>>8&255)/c|0;return(d&255)<<24|(e&255)<<16|(a&255)<<8|b};N.prototype={_rawData:null,
_numVertices:null,_format:null,_attributes:null,_numAttributes:null,_premultipliedAlpha:null,_tinted:null,_posOffset:null,_colOffset:null,_vertexSize:null,clear:function(){this._rawData.data.clear();this._numVertices=0;this._tinted=!1},copyTo:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==b&&(b=0);if(0>e||d+e>this._numVertices)e=this._numVertices-d;if(this._format==a._format){a._numVertices<b+e&&(a._numVertices=b+e);a._tinted=a._tinted||this._tinted;a=a._rawData;a.data.position=b*this._vertexSize;
var f=e*this._vertexSize;a.resize(a.data.position+f);a.fastWriteBytes(null,this._rawData,d*this._vertexSize,f);if(null!=c){d=b*this._vertexSize+this._posOffset;b=d/4|0;e=(d+e*this._vertexSize)/4|0;d=this.get_vertexSizeIn32Bits();for(var g=a.float32Array;b<e;)a=g[b],f=g[b+1],g[b]=c.a*a+c.c*f+c.tx,g[b+1]=c.d*f+c.b*a+c.ty,b+=d}}else for(a._numVertices<b+e&&a.set_numVertices(b+e),f=0,g=this._numAttributes;f<g;){var h=f++,h=this._attributes[h],k=a.getAttribute(h.name);null!=k&&(h.offset==this._posOffset?
this.copyAttributeTo_internal(a,b,c,h,k,d,e):this.copyAttributeTo_internal(a,b,null,h,k,d,e))}},copyAttributeTo_internal:function(a,b,c,d,e,f,g){if(d.format!=e.format)throw new n(new Ba("Attribute formats differ between source and target"));if(0>g||f+g>this._numVertices)g=this._numVertices-f;a._numVertices<b+g&&(a._numVertices=b+g);var h=this._rawData,k=a._rawData,m=this._vertexSize-d.size,p=a._vertexSize-e.size,q=d.size/4|0;h.data.position=f*this._vertexSize+d.offset;k.data.position=b*a._vertexSize+
e.offset;if(null!=c)for(q=0;q<g;)q++,h.data.position+=4,a=h.float32Array[(h.data.position-4)/4|0],h.data.position+=4,b=h.float32Array[(h.data.position-4)/4|0],k.float32Array[k.data.position/4|0]=c.a*a+c.c*b+c.tx,k.data.position+=4,k.float32Array[k.data.position/4|0]=c.d*b+c.b*a+c.ty,k.data.position+=4,h.data.position+=m,k.data.position+=p;else for(c=0;c<g;){c++;a=0;for(b=q;a<b;)a++,k.uint32Array[k.data.position/4|0]=h.uint32Array[h.data.position/4|0],k.data.position+=4;h.data.position+=m;k.data.position+=
p}},trim:function(){var a=this._numVertices*this._vertexSize;Sa.set_length(N.sBytes,a);N.sBytes.position=0;N.sBytes.writeBytes(this._rawData.data,0,a);this._rawData.data.clear();var b=this._rawData;Sa.set_length(b.data,a);b.createTypedArrays();a=this._rawData;a.data.writeBytes(N.sBytes,0,0);a.createTypedArrays();N.sBytes.clear()},getPoint:function(a,b,c){null==c&&(c=new X);b="position"==b?this._posOffset:this.getAttribute(b).offset;this._rawData.data.position=a*this._vertexSize+b;a=this._rawData;
a.data.position+=4;c.x=a.float32Array[(a.data.position-4)/4|0];a=this._rawData;a.data.position+=4;c.y=a.float32Array[(a.data.position-4)/4|0];return c},setPoint:function(a,b,c,d){this._numVertices<a+1&&this.set_numVertices(a+1);b="position"==b?this._posOffset:this.getAttribute(b).offset;this._rawData.data.position=a*this._vertexSize+b;a=this._rawData;a.float32Array[a.data.position/4|0]=c;a.data.position+=4;c=this._rawData;c.float32Array[c.data.position/4|0]=d;c.data.position+=4},getColor:function(a,
b){null==b&&(b="color");var c="color"==b?this._colOffset:this.getAttribute(b).offset;this._rawData.data.position=a*this._vertexSize+c;c=this._rawData;c=N.switchEndian(c.uint32Array[c.data.position/4|0]);this._premultipliedAlpha&&(c=N.unmultiplyAlpha(c));return c>>>8&16777215},setColor:function(a,b,c){this._numVertices<a+1&&this.set_numVertices(a+1);var d=this.getAlpha(a,b);this.colorize(b,c,d,a,1)},getAlpha:function(a,b){null==b&&(b="color");var c="color"==b?this._colOffset:this.getAttribute(b).offset;
this._rawData.data.position=a*this._vertexSize+c;c=this._rawData;c=N.switchEndian(c.uint32Array[c.data.position/4|0]);return Ca.toFloat(c&255)/255},setAlpha:function(a,b,c){this._numVertices<a+1&&this.set_numVertices(a+1);var d=this.getColor(a,b);this.colorize(b,d,c,a,1)},getBounds:function(a,b,c,d,e){null==d&&(d=-1);null==c&&(c=0);null==a&&(a="position");null==e&&(e=new O);if(0>d||c+d>this._numVertices)d=this._numVertices-c;if(0==d)null==b?e.setEmpty():(H.transformCoords(b,0,0,N.sHelperPoint),e.setTo(N.sHelperPoint.x,
N.sHelperPoint.y,0,0));else{var f=1.79E308,g=-1.79E308,h=1.79E308,k=-1.79E308;a="position"==a?this._posOffset:this.getAttribute(a).offset;c=c*this._vertexSize+a;var m;if(null==b)for(b=0,a=d;b<a;)b++,this._rawData.data.position=c,d=this._rawData,d.data.position+=4,d=d.float32Array[(d.data.position-4)/4|0],m=this._rawData,m.data.position+=4,m=m.float32Array[(m.data.position-4)/4|0],c+=this._vertexSize,f>d&&(f=d),g<d&&(g=d),h>m&&(h=m),k<m&&(k=m);else{a=0;for(var n=d;a<n;)a++,this._rawData.data.position=
c,d=this._rawData,d.data.position+=4,d=d.float32Array[(d.data.position-4)/4|0],m=this._rawData,m.data.position+=4,m=m.float32Array[(m.data.position-4)/4|0],c+=this._vertexSize,H.transformCoords(b,d,m,N.sHelperPoint),f>N.sHelperPoint.x&&(f=N.sHelperPoint.x),g<N.sHelperPoint.x&&(g=N.sHelperPoint.x),h>N.sHelperPoint.y&&(h=N.sHelperPoint.y),k<N.sHelperPoint.y&&(k=N.sHelperPoint.y)}e.setTo(f,h,g-f,k-h)}return e},getBoundsProjected:function(a,b,c,d,e,f){null==e&&(e=-1);null==d&&(d=0);null==f&&(f=new O);
if(null==c)throw new n(new sa("camPos must not be null"));if(0>e||d+e>this._numVertices)e=this._numVertices-d;if(0==e)null!=b?H.transformCoords3D(b,0,0,0,N.sHelperPoint3D):N.sHelperPoint3D.setTo(0,0,0),Y.intersectLineWithXYPlane(c,N.sHelperPoint3D,N.sHelperPoint),f.setTo(N.sHelperPoint.x,N.sHelperPoint.y,0,0);else{var g=1.79E308,h=-1.79E308,k=1.79E308,m=-1.79E308;a="position"==a?this._posOffset:this.getAttribute(a).offset;d=d*this._vertexSize+a;var p,q;for(a=0;a<e;)a++,this._rawData.data.position=
d,p=this._rawData,p.data.position+=4,p=p.float32Array[(p.data.position-4)/4|0],q=this._rawData,q.data.position+=4,q=q.float32Array[(q.data.position-4)/4|0],d+=this._vertexSize,null!=b?H.transformCoords3D(b,p,q,0,N.sHelperPoint3D):N.sHelperPoint3D.setTo(p,q,0),Y.intersectLineWithXYPlane(c,N.sHelperPoint3D,N.sHelperPoint),g>N.sHelperPoint.x&&(g=N.sHelperPoint.x),h<N.sHelperPoint.x&&(h=N.sHelperPoint.x),k>N.sHelperPoint.y&&(k=N.sHelperPoint.y),m<N.sHelperPoint.y&&(m=N.sHelperPoint.y);f.setTo(g,k,h-g,
m-k)}return f},updateTinted:function(a){null==a&&(a="color");a="color"==a?this._colOffset:this.getAttribute(a).offset;this._tinted=!1;for(var b=0,c=this._numVertices;b<c;){b++;this._rawData.data.position=a;var d=this._rawData;if(-1!=d.uint32Array[d.data.position/4|0]){this._tinted=!0;break}a+=this._vertexSize}return this._tinted},transformPoints:function(a,b,c,d){null==d&&(d=-1);null==c&&(c=0);if(0>d||c+d>this._numVertices)d=this._numVertices-c;var e;a="position"==a?this._posOffset:this.getAttribute(a).offset;
c=c*this._vertexSize+a;for(d=c+d*this._vertexSize;c<d;){this._rawData.data.position=c;a=this._rawData;a.data.position+=4;a=a.float32Array[(a.data.position-4)/4|0];e=this._rawData;e.data.position+=4;e=e.float32Array[(e.data.position-4)/4|0];this._rawData.data.position=c;var f=this._rawData;f.float32Array[f.data.position/4|0]=b.a*a+b.c*e+b.tx;f.data.position+=4;f=this._rawData;f.float32Array[f.data.position/4|0]=b.d*e+b.b*a+b.ty;f.data.position+=4;c+=this._vertexSize}},scaleAlphas:function(a,b,c,d){null==
d&&(d=-1);null==c&&(c=0);if(1!=b){if(0>d||c+d>this._numVertices)d=this._numVertices-c;this._tinted=!0;a="color"==a?this._colOffset:this.getAttribute(a).offset;c=c*this._vertexSize+a;var e,f;for(a=0;a<d;){a++;e=c+3;f=this._rawData.data.b[e]/255*b;1<f?f=1:0>f&&(f=0);if(1!=f&&this._premultipliedAlpha)this._rawData.data.position=c,e=this._rawData,e=N.unmultiplyAlpha(N.switchEndian(e.uint32Array[e.data.position/4|0])),e=e&-256|(255*f|0)&255,e=N.premultiplyAlpha(e),this._rawData.data.position=c,f=this._rawData,
e=N.switchEndian(e),f.uint32Array[f.data.position/4|0]=e,f.data.position+=4;else{f=255*f|0;var g=this._rawData.data;g.__resize(e+1);g.b[e]=f&255}c+=this._vertexSize}}},colorize:function(a,b,c,d,e){null==e&&(e=-1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=16777215);null==a&&(a="color");if(0>e||d+e>this._numVertices)e=this._numVertices-d;var f="color"==a?this._colOffset:this.getAttribute(a).offset;a=d*this._vertexSize+f;var g=a+e*this._vertexSize;1<c?c=1:0>c&&(c=0);b=b<<8&-256|(255*c|0)&255;-1==b&&
e==this._numVertices?this._tinted=!1:-1!=b&&(this._tinted=!0);this._premultipliedAlpha&&1!=c&&(b=N.premultiplyAlpha(b));this._rawData.data.position=d*this._vertexSize+f;c=this._rawData;d=N.switchEndian(b);c.uint32Array[c.data.position/4|0]=d;for(c.data.position+=4;a<g;)this._rawData.data.position=a,c=this._rawData,d=N.switchEndian(b),c.uint32Array[c.data.position/4|0]=d,c.data.position+=4,a+=this._vertexSize},createVertexBuffer:function(a,b){null==a&&(a=!1);null==b&&(b=1);var c=x.get_sContext();if(null==
c)throw new n(new sd);if(0==this._numVertices)return null;c=c.createVertexBuffer(this._numVertices,this._vertexSize/4|0,b);a&&this.uploadToVertexBuffer(c);return c},uploadToVertexBuffer:function(a,b,c){null==c&&(c=-1);null==b&&(b=0);if(0>c||b+c>this._numVertices)c=this._numVertices-b;0<c&&a.uploadFromByteArray(this._rawData.data,0,b,c)},getAttribute:function(a){for(var b,c=0,d=this._numAttributes;c<d;)if(b=c++,b=this._attributes[b],b.name==a)return b;return null},get_numVertices:function(){return this._numVertices},
set_numVertices:function(a){if(a>this._numVertices){var b=this._numVertices*this.get_vertexSize(),c=a*this._vertexSize;if(Ca.gt(Sa.get_length(this._rawData.data),b))for(this._rawData.data.position=b;;){b=this._rawData.data;if(0==b.length-b.position)break;b=this._rawData;b.uint32Array[b.data.position/4|0]=0;b.data.position+=4}Ca.gt(c,Sa.get_length(this._rawData.data))&&(b=this._rawData,Sa.set_length(b.data,c),b.createTypedArrays());c=0;for(b=this._numAttributes;c<b;){var d=c++,d=this._attributes[d];
if(d.isColor)for(var d=this._numVertices*this._vertexSize+d.offset,e=this._numVertices,f=a;e<f;){e++;this._rawData.data.position=d;var g=this._rawData;g.uint32Array[g.data.position/4|0]=-1;g.data.position+=4;d+=this._vertexSize}}}0==a&&(this._tinted=!1);return this._numVertices=a},set_format:function(a){if(this._format==a)return a;var b,c=this._format.get_vertexSize(),d=a.get_vertexSize(),e=a.get_numAttributes();Sa.set_length(N.sBytes,a.get_vertexSize()*this._numVertices);for(var f=0;f<e;){b=f++;
b=a.get_attributes()[b];var g=this.getAttribute(b.name);if(null!=g){b=b.offset;for(var h=0,k=this._numVertices;h<k;){var m=h++;N.sBytes.position=b;N.sBytes.writeBytes(this._rawData.data,c*m+g.offset,g.size);b+=d}}else if(b.isColor)for(b=b.offset,g=0,h=this._numVertices;g<h;)g++,N.sBytes.position=b,N.sBytes.writeUnsignedInt(-1),b+=d}this._rawData.data.clear();c=this._rawData;d=Sa.get_length(N.sBytes);Sa.set_length(c.data,d);c.createTypedArrays();c=this._rawData;c.data.writeBytes(N.sBytes,0,0);c.createTypedArrays();
N.sBytes.clear();this._format=a;this._attributes=this._format.get_attributes();this._numAttributes=this._attributes.length;this._vertexSize=this._format.get_vertexSize();this._posOffset=this._format.hasAttribute("position")?this._format.getOffset("position"):0;this._colOffset=this._format.hasAttribute("color")?this._format.getOffset("color"):0;return a},get_tinted:function(){return this._tinted},get_vertexSize:function(){return this._vertexSize},get_vertexSizeIn32Bits:function(){return this._vertexSize/
4|0},get_size:function(){return this._numVertices*this._vertexSize},__class__:N,__properties__:{get_size:"get_size",get_vertexSizeIn32Bits:"get_vertexSizeIn32Bits",get_vertexSize:"get_vertexSize",get_tinted:"get_tinted",set_format:"set_format",set_numVertices:"set_numVertices",get_numVertices:"get_numVertices"}};var oh=function(a,b,c){this.name=a;this.format=b;this.offset=c;var d;switch(b){case 0:d=4;break;case 1:d=4;break;case 2:d=8;break;case 3:d=12;break;case 4:d=16}this.size=d;this.isColor=-1!=
a.indexOf("color")||-1!=a.indexOf("Color")};h["starling.rendering.VertexDataAttribute"]=oh;oh.__name__=["starling","rendering","VertexDataAttribute"];oh.prototype={name:null,format:null,isColor:null,offset:null,size:null,__class__:oh};var vh=function(a,b,c,d,e){this._charID=a;this._texture=b;this._xOffset=c;this._yOffset=d;this._xAdvance=e;this._kernings=null};h["starling.text.BitmapChar"]=vh;vh.__name__=["starling","text","BitmapChar"];vh.prototype={_texture:null,_charID:null,_xOffset:null,_yOffset:null,
_xAdvance:null,_kernings:null,addKerning:function(a,b){null==this._kernings&&(this._kernings=new Ib);this._kernings.h[a]=b},getKerning:function(a){return null==this._kernings||null==this._kernings.h[a]?0:this._kernings.h[a]},get_xOffset:function(){return this._xOffset},get_yOffset:function(){return this._yOffset},get_xAdvance:function(){return this._xAdvance},get_texture:function(){return this._texture},get_width:function(){return this._texture.get_width()},get_height:function(){return this._texture.get_height()},
__class__:vh,__properties__:{get_height:"get_height",get_width:"get_width",get_texture:"get_texture",get_xAdvance:"get_xAdvance",get_yOffset:"get_yOffset",get_xOffset:"get_xOffset"}};var qg=function(){};h["starling.text.ITextCompositor"]=qg;qg.__name__=["starling","text","ITextCompositor"];qg.prototype={fillMeshBatch:null,clearMeshBatch:null,__class__:qg};var rg=function(a,b){null==b&&(b=!1);null==a&&(a=!0);this._wordWrap=a;this._autoScale=b;this._textureScale=x.get_sContentScaleFactor();this._textureFormat=
1;this._isHtmlText=!1};h["starling.text.TextOptions"]=rg;rg.__name__=["starling","text","TextOptions"];rg.prototype={_wordWrap:null,_autoScale:null,_isHtmlText:null,_textureScale:null,_textureFormat:null,get_wordWrap:function(){return this._wordWrap},get_autoScale:function(){return this._autoScale},set_autoScale:function(a){return this._autoScale=a},get_isHtmlText:function(){return this._isHtmlText},set_isHtmlText:function(a){return this._isHtmlText=a},get_textureScale:function(){return this._textureScale},
set_textureScale:function(a){return this._textureScale=a},get_textureFormat:function(){return this._textureFormat},set_textureFormat:function(a){return this._textureFormat=a},__class__:rg,__properties__:{set_textureFormat:"set_textureFormat",get_textureFormat:"get_textureFormat",set_textureScale:"set_textureScale",get_textureScale:"get_textureScale",set_isHtmlText:"set_isHtmlText",get_isHtmlText:"get_isHtmlText",set_autoScale:"set_autoScale",get_autoScale:"get_autoScale",get_wordWrap:"get_wordWrap"}};
var Zb=function(a,b){if(null==a&&null==b)a=Cc.get_texture(),b=Cc.get_xml();else if(null!=a&&null==b)throw new n(new sa("fontXml cannot be null!"));this._name="unknown";this._lineHeight=this._size=this._baseline=14;this._offsetX=this._offsetY=0;this._texture=a;this._chars=new Ib;this._helperImage=new z(a);this.parseFontXml(b)};h["starling.text.BitmapFont"]=Zb;Zb.__name__=["starling","text","BitmapFont"];Zb.__interfaces__=[qg];Zb.prototype={_texture:null,_chars:null,_name:null,_size:null,_lineHeight:null,
_baseline:null,_offsetX:null,_offsetY:null,_helperImage:null,parseFontXml:function(a){var b=this._texture.get_scale(),c=this._texture.get_frame(),d=null!=c?c.x:0,c=null!=c?c.y:0;a=a.elementsNamed("font").next();var e=a.elementsNamed("info").next(),f=a.elementsNamed("common").next();this._name=e.get("face");this._size=parseFloat(e.get("size"))/b;this._lineHeight=parseFloat(f.get("lineHeight"))/b;this._baseline=parseFloat(f.get("base"))/b;"0"==e.get("smooth")&&this.set_smoothing("none");0>=this._size&&
(hb.trace("[Starling] Warning: invalid font size in '"+this._name+"' font.",{fileName:"BitmapFont.hx",lineNumber:135,className:"starling.text.BitmapFont",methodName:"parseFontXml"}),this._size=0==this._size?16:-1*this._size);for(e=a.elementsNamed("chars").next().elementsNamed("char");e.hasNext();){var g=e.next(),f=E.parseInt(g.get("id")),h=parseFloat(g.get("xoffset"))/b,k=parseFloat(g.get("yoffset"))/b,m=parseFloat(g.get("xadvance"))/b,n=new O;n.x=parseFloat(g.get("x"))/b+d;n.y=parseFloat(g.get("y"))/
b+c;n.width=parseFloat(g.get("width"))/b;n.height=parseFloat(g.get("height"))/b;g=da.fromTexture(this._texture,n);h=new vh(f,g,h,k,m);this.addChar(f,h)}d=a.elementsNamed("kernings").next();if(null!=d)for(d=d.elementsNamed("kerning");d.hasNext();)e=d.next(),c=E.parseInt(e.get("first")),a=E.parseInt(e.get("second")),e=parseFloat(e.get("amount"))/b,this._chars.h.hasOwnProperty(a)&&this.getChar(a).addKerning(c,e)},getChar:function(a){return this._chars.h[a]},addChar:function(a,b){this._chars.h[a]=b},
fillMeshBatch:function(a,b,c,d,e,f){b=this.arrangeChars(b,c,d,e,f);c=b.length;this._helperImage.set_color(e.get_color());for(e=0;e<c;)d=e++,d=b[d],this._helperImage.set_texture(d["char"].get_texture()),this._helperImage.readjustSize(),this._helperImage.set_x(d.x),this._helperImage.set_y(d.y),this._helperImage.set_scale(d.scale),a.addMesh(this._helperImage);Ta.rechargePool()},clearMeshBatch:function(a){a.clear()},arrangeChars:function(a,b,c,d,e){if(null==c||0==c.length)return Ta.vectorFromPool();null==
e&&(e=Zb.sDefaultOptions);var f=d.get_kerning(),g=d.get_leading(),h=d.get_horizontalAlign(),k=d.get_verticalAlign(),m=d.get_size(),n=e.get_autoScale(),p=e.get_wordWrap(),q=!1,r,u,w=e=0;d=1;var v=0;for(0>m&&(m*=-this._size);!q;){Ka.clear(Zb.sLines);d=m/this._size;e=a/d;w=b/d;if(this._lineHeight<=w){var x=-1,y=-1,A=0,v=0,z=Ta.vectorFromPool();u=c.length;for(var B=0;B<u;){var E=!1,F=I.cca(c,B),G=this.getChar(F);if(10==F||13==F)E=!0;else if(null==G)hb.trace("[Starling] Font: "+this.get_name()+" missing character: "+
c.charAt(B)+" id: "+F,{fileName:"BitmapFont.hx",lineNumber:323,className:"starling.text.BitmapFont",methodName:"arrangeChars"});else{if(32==F||9==F)x=B;f&&(A+=G.getKerning(y));r=Ta.instanceFromPool(G);r.x=A+G.get_xOffset();r.y=v+G.get_yOffset();z[z.length]=r;A+=G.get_xAdvance();y=F;if(r.x+G.get_width()>e){if(p){if(n&&-1==x)break;r=-1==x?1:B-x;E=0;for(F=r;E<F;)E++,z.pop();if(0==z.length)break;B-=r}else{if(n)break;for(z.pop();B<u-1&&10!=I.cca(c,B);)++B}E=!0}}if(B==u-1)Zb.sLines[Zb.sLines.length]=z,
q=!0;else if(E)if(Zb.sLines[Zb.sLines.length]=z,x==B&&z.pop(),v+g+2*this._lineHeight<=w)z=Ta.vectorFromPool(),A=0,v+=this._lineHeight+g,y=x=-1;else break;++B}}n&&!q&&3<m?--m:q=!0}a=Ta.vectorFromPool();b=Zb.sLines.length;u=v+this._lineHeight;c=0;"bottom"==k?c=w-u|0:"center"==k&&(c=(w-u)/2|0);for(k=0;k<b;)if(u=k++,w=Zb.sLines[u],u=w.length,0!=u)for(f=0,r=w[w.length-1],r=r.x-r["char"].get_xOffset()+r["char"].get_xAdvance(),"right"==h?f=e-r|0:"center"==h&&(f=(e-r)/2|0),g=0;g<u;)r=g++,r=w[r],r.x=d*(r.x+
f+this._offsetX),r.y=d*(r.y+c+this._offsetY),r.scale=d,0<r["char"].get_width()&&0<r["char"].get_height()&&(a[a.length]=r);return a},get_name:function(){return this._name},set_smoothing:function(a){return this._helperImage.set_textureSmoothing(a)},__class__:Zb,__properties__:{set_smoothing:"set_smoothing",get_name:"get_name"}};var Ta=function(a){this.reset(a)};h["starling.text.CharLocation"]=Ta;Ta.__name__=["starling","text","CharLocation"];Ta.instanceFromPool=function(a){var b=0<Ta.sInstancePool.length?
Ta.sInstancePool.pop():new Ta(a);b.reset(a);return Ta.sInstanceLoan[Ta.sInstanceLoan.length]=b};Ta.vectorFromPool=function(){var a=0<Ta.sVectorPool.length?Ta.sVectorPool.pop():[];Ka.clear(a);return Ta.sVectorLoan[Ta.sVectorLoan.length]=a};Ta.rechargePool=function(){for(var a;0<Ta.sInstanceLoan.length;)a=Ta.sInstanceLoan.pop(),a["char"]=null,Ta.sInstancePool[Ta.sInstancePool.length]=a;for(;0<Ta.sVectorLoan.length;)a=Ta.sVectorLoan.pop(),Ka.clear(a),Ta.sVectorPool[Ta.sVectorPool.length]=a};Ta.prototype=
{"char":null,scale:null,x:null,y:null,reset:function(a){this["char"]=a;return this},__class__:Ta};var Cc=function(){};h["starling.text.MiniBitmapFont"]=Cc;Cc.__name__=["starling","text","MiniBitmapFont"];Cc.__properties__={get_xml:"get_xml",get_texture:"get_texture"};Cc.get_texture=function(){var a=Cc.getBitmapData(),b=da.fromBitmapData(a,!1,!1,1,1);a.dispose();a=null;b.get_root().set_onRestore(function(){a=Cc.getBitmapData();b.get_root().uploadBitmapData(a);a.dispose();a=null});return b};Cc.getBitmapData=
function(){for(var a=new La(128,64),b=new Lc(0),c=0,d=Cc.BITMAP_DATA.length;c<d;){var e=c++;b.writeUnsignedInt(Cc.BITMAP_DATA[e])}b.uncompress();a.setPixels(new O(0,0,128,64),b);b.clear();return a};Cc.get_xml=function(){return Cc.XML_DATA};var di={};h["starling.utils._Float32ArrayWrapper.Float32ArrayWrapper_Impl_"]=di;di.__name__=["starling","utils","_Float32ArrayWrapper","Float32ArrayWrapper_Impl_"];di._new=function(){return new wh};var wh=function(){this.data=new Lc(0);var a=Sa.toArrayBuffer(this.data);
this.float32Array=new zc(a);this.uint32Array=new Uint32Array(a)};h["starling.utils.Float32ArrayWrappedData"]=wh;wh.__name__=["starling","utils","Float32ArrayWrappedData"];wh.prototype={data:null,float32Array:null,uint32Array:null,fastWriteBytes:function(a,b,c,d){a=this.data.position/4|0;c=c/4|0;for(var e=0,f=d/4|0;e<f;)e++,this.float32Array[a++]=b.float32Array[c++];this.data.position+=d},resize:function(a){if(a>this.data.__length){this.data.__resize(a);a=Sa.toArrayBuffer(this.data);var b=a.byteLength/
4|0;this.float32Array=new zc(a,0,b);this.uint32Array=new Uint32Array(a,0,b)}},createTypedArrays:function(){var a=Sa.toArrayBuffer(this.data);if(a!=this.float32Array.buffer){var b=a.byteLength/4|0;this.float32Array=new zc(a,0,b);this.uint32Array=new Uint32Array(a,0,b)}},__class__:wh};var ua=function(){};h["starling.text.TrueTypeCompositor"]=ua;ua.__name__=["starling","text","TrueTypeCompositor"];ua.__interfaces__=[qg];ua.isEmbeddedFont=function(a){null==ua.sEmbeddedFonts&&(ua.sEmbeddedFonts=Qb.enumerateFonts(!1));
for(var b=0,c=ua.sEmbeddedFonts;b<c.length;){var d=c[b];++b;var e=Gd.toString(d.fontStyle),f=0==Gd.fromString(e)||1==Gd.fromString(e),e=2==Gd.fromString(e)||1==Gd.fromString(e);if(a.get_font()==d.name&&a.get_italic()==e&&a.get_bold()==f)return!0}return!1};ua.prototype={fillMeshBatch:function(a,b,c,d,e,f){var g=this;if(null!=d&&""!=d){var h,k=f.get_textureFormat(),m=this.renderText(b,c,d,e,f),n=m.get_scale();h=da.fromBitmapData(m,!1,!1,n,k);h.get_root().set_onRestore(function(){m=g.renderText(b,c,
d,e,f);h.get_root().uploadBitmapData(m);m.dispose();m=null});m.dispose();m=null;ua.sHelperQuad.set_texture(h);ua.sHelperQuad.readjustSize();"left"==e.get_horizontalAlign()?ua.sHelperQuad.set_x(0):"center"==e.get_horizontalAlign()?(k=ua.sHelperQuad,n=h.get_width(),k.set_x((b-n)/2|0)):(k=ua.sHelperQuad,n=h.get_width(),k.set_x(b-n));"top"==e.get_verticalAlign()?ua.sHelperQuad.set_y(0):"center"==e.get_verticalAlign()?(k=ua.sHelperQuad,n=h.get_height(),k.set_y((c-n)/2|0)):(k=ua.sHelperQuad,n=h.get_height(),
k.set_y(c-n));a.addMesh(ua.sHelperQuad);ua.sHelperQuad.set_texture(null)}},clearMeshBatch:function(a){a.clear();null!=a.get_texture()&&a.get_texture().dispose()},renderText:function(a,b,c,d,e){var f=a*e.get_textureScale(),g=b*e.get_textureScale(),h=d.get_horizontalAlign();d.toNativeFormat(ua.sNativeFormat);var k=ua.sNativeFormat.size*e.get_textureScale()|0;ua.sNativeFormat.size=k;ua.sNativeTextField.set_embedFonts(ua.isEmbeddedFont(d));ua.sNativeTextField.set_defaultTextFormat(ua.sNativeFormat);ua.sNativeTextField.set_width(f);
ua.sNativeTextField.set_height(g);ua.sNativeTextField.set_antiAliasType(0);ua.sNativeTextField.set_selectable(!1);ua.sNativeTextField.set_multiline(!0);ua.sNativeTextField.set_wordWrap(e.get_wordWrap());e.get_isHtmlText()?ua.sNativeTextField.set_htmlText(c):ua.sNativeTextField.set_text(c);e.get_autoScale()&&this.autoScaleNativeTextField(ua.sNativeTextField,c,e.get_isHtmlText());var g=ua.sNativeTextField.get_textWidth(),m=ua.sNativeTextField.get_textHeight(),k=Math.ceil(g)+4,n=Math.ceil(m)+4,p=da.get_maxSize(),
m=0;e.get_isHtmlText()&&(g=k=f|0);1>k&&(k=1);1>n&&(n=1);if(n>p||k>p)return e.set_textureScale(e.get_textureScale()*(p/Math.max(k,n))),this.renderText(a,b,c,d,e);e.get_isHtmlText()||("right"==h?m=f-g-4:"center"==h&&(m=(f-g-4)/2));a=new sg(k,n);ua.sHelperMatrix.setTo(1,0,0,1,-m,0);a.draw(ua.sNativeTextField,ua.sHelperMatrix);a.set_scale(e.get_textureScale());ua.sNativeTextField.set_text("");return a},autoScaleNativeTextField:function(a,b,c){for(var d=a.get_defaultTextFormat(),e=a.get_width()-4|0,f=
a.get_height()-4|0,g=d.size;(a.get_textWidth()>e||a.get_textHeight()>f)&&!(4>=g);)d.size=g,a.set_defaultTextFormat(d),c?a.set_htmlText(b):a.set_text(b)},__class__:ua};var ka=function(a,b,c,d){null==c&&(c="");this._helperFormat=new qd;J.call(this);this._text=null!=c?c:"";this._autoSize="none";this._hitArea=new O(0,0,a,b);this._requiresRecomposition=!0;this._compositor=ka.sTrueTypeCompositor;this._options=new rg;this._format=null!=d?d.clone():new qd;this._format.addEventListener("change",p(this,this.setRequiresRecomposition));
this._meshBatch=new Jd;this._meshBatch.set_touchable(!1);this._meshBatch.set_pixelSnapping(!0);this.addChild(this._meshBatch)};h["starling.text.TextField"]=ka;ka.__name__=["starling","text","TextField"];ka.__properties__={get_bitmapFonts:"get_bitmapFonts"};ka.registerBitmapFont=function(a,b){null==b&&(b=a.get_name());var c=ka.get_bitmapFonts(),d=ka.convertToLowerCase(b);null!=m[d]?c.setReserved(d,a):c.h[d]=a;return b};ka.getBitmapFont=function(a){var b=ka.get_bitmapFonts();a=ka.convertToLowerCase(a);
return null!=m[a]?b.getReserved(a):b.h[a]};ka.get_bitmapFonts=function(){var a=x.get_sPainter().get_sharedData(),a=null!=m["starling.display.TextField.BitmapFonts"]?a.getReserved("starling.display.TextField.BitmapFonts"):a.h["starling.display.TextField.BitmapFonts"];if(null==a){var a=new T,b=x.get_sPainter().get_sharedData();null!=m["starling.display.TextField.BitmapFonts"]?b.setReserved("starling.display.TextField.BitmapFonts",a):b.h["starling.display.TextField.BitmapFonts"]=a}return a};ka.convertToLowerCase=
function(a){var b=ka.sStringCache,b=null!=m[a]?b.getReserved(a):b.h[a];if(null==b){var b=a.toLowerCase(),c=ka.sStringCache;null!=m[a]?c.setReserved(a,b):c.h[a]=b}return b};ka.__super__=J;ka.prototype=q(J.prototype,{_text:null,_options:null,_format:null,_autoSize:null,_textBounds:null,_hitArea:null,_compositor:null,_requiresRecomposition:null,_border:null,_meshBatch:null,_style:null,_helperFormat:null,dispose:function(){this._format.removeEventListener("change",p(this,this.setRequiresRecomposition));
this._compositor.clearMeshBatch(this._meshBatch);J.prototype.dispose.call(this)},render:function(a){this._requiresRecomposition&&this.recompose();J.prototype.render.call(this,a)},recompose:function(){if(this._requiresRecomposition){this._compositor.clearMeshBatch(this._meshBatch);var a=this._format.get_font(),b=ka.getBitmapFont(a);null==b&&"mini"==a&&(b=new Zb,ka.registerBitmapFont(b));this._compositor=null!=b?b:ka.sTrueTypeCompositor;this.updateText();this.updateBorder();this._requiresRecomposition=
!1}},updateText:function(){var a=this._hitArea.width,b=this._hitArea.height,c=this._helperFormat;c.copyFrom(this._format);this.get_isHorizontalAutoSize()&&!this._options.get_isHtmlText()&&(a=1E5);this.get_isVerticalAutoSize()&&(b=1E5);this._meshBatch.set_x(this._meshBatch.set_y(0));this._options.set_textureScale(x.get_sContentScaleFactor());this._options.set_textureFormat(ka.sDefaultTextureFormat);this._compositor.fillMeshBatch(this._meshBatch,a,b,this._text,c,this._options);null!=this._style&&this._meshBatch.set_style(this._style);
"none"!=this._autoSize?(this._textBounds=this._meshBatch.getBounds(this._meshBatch,this._textBounds),this.get_isHorizontalAutoSize()&&(this._meshBatch.set_x(this._textBounds.x=-this._textBounds.x),this._hitArea.width=this._textBounds.width,this._textBounds.x=0),this.get_isVerticalAutoSize()&&(this._meshBatch.set_y(this._textBounds.y=-this._textBounds.y),this._hitArea.height=this._textBounds.height,this._textBounds.y=0)):this._textBounds=null},updateBorder:function(){if(null!=this._border){var a=this._hitArea.width,
b=this._hitArea.height,c=w.__cast(this._border.getChildAt(0),Va),d=w.__cast(this._border.getChildAt(1),Va),e=w.__cast(this._border.getChildAt(2),Va),f=w.__cast(this._border.getChildAt(3),Va);c.set_width(a);c.set_height(1);e.set_width(a);e.set_height(1);f.set_width(1);f.set_height(b);d.set_width(1);d.set_height(b);d.set_x(a-1);e.set_y(b-1);c.set_color(d.set_color(e.set_color(f.set_color(this._format.get_color()))))}},setRequiresRecomposition:function(){this._requiresRecomposition=!0;this.setRequiresRedraw()},
get_isHorizontalAutoSize:function(){return"horizontal"!=this._autoSize?"bothDirections"==this._autoSize:!0},get_isVerticalAutoSize:function(){return"vertical"!=this._autoSize?"bothDirections"==this._autoSize:!0},getBounds:function(a,b){this._requiresRecomposition&&this.recompose();this.getTransformationMatrix(a,ka.sMatrix);return aa.getBounds(this._hitArea,ka.sMatrix,b)},hitTest:function(a){return this.get_visible()&&this.get_touchable()&&this.hitTestMask(a)?this._hitArea.containsPoint(a)?this:null:
null},set_width:function(a){var b=Y.logicalOr(this.get_scaleX(),1);this._hitArea.width=a/b;this.setRequiresRecomposition();return a},set_height:function(a){var b=Y.logicalOr(this.get_scaleY(),1);this._hitArea.height=a/b;this.setRequiresRecomposition();return a},set_text:function(a){null==a&&(a="");this._text!=a&&(this._text=a,this.setRequiresRecomposition());return a},get_format:function(){return this._format},set_format:function(a){if(null==a)throw new n(new sa("format cannot be null"));this._format.copyFrom(a);
return a},set_border:function(a){if(a&&null==this._border){this._border=new mb;this.addChild(this._border);for(var b=0;4>b;)b++,this._border.addChild(new Va(1,1));this.updateBorder()}else a||null==this._border||(this._border.removeFromParent(!0),this._border=null);return a},set_autoScale:function(a){this._options.get_autoScale()!=a&&(this._options.set_autoScale(a),this.setRequiresRecomposition());return a},set_batchable:function(a){return this._meshBatch.set_batchable(a)},set_isHtmlText:function(a){this._options.get_isHtmlText()!=
a&&(this._options.set_isHtmlText(a),this.setRequiresRecomposition());return a},set_pixelSnapping:function(a){return this._meshBatch.set_pixelSnapping(a)},get_style:function(){return this._meshBatch.get_style()},set_style:function(a){this._style=a;this.setRequiresRecomposition();return a},__class__:ka,__properties__:q(J.prototype.__properties__,{set_style:"set_style",get_style:"get_style",set_pixelSnapping:"set_pixelSnapping",set_isHtmlText:"set_isHtmlText",set_batchable:"set_batchable",set_autoScale:"set_autoScale",
set_border:"set_border",set_format:"set_format",get_format:"get_format",set_text:"set_text",get_isVerticalAutoSize:"get_isVerticalAutoSize",get_isHorizontalAutoSize:"get_isHorizontalAutoSize"})});var qd=function(a,b,c,d,e){null==e&&(e="center");null==d&&(d="center");null==c&&(c=0);null==b&&(b=12);null==a&&(a="Verdana");this._font=a;this._size=b;this._color=c;this._horizontalAlign=d;this._verticalAlign=e;this._kerning=!0;this._leading=0};h["starling.text.TextFormat"]=qd;qd.__name__=["starling","text",
"TextFormat"];qd.__super__=Ja;qd.prototype=q(Ja.prototype,{_font:null,_size:null,_color:null,_bold:null,_italic:null,_underline:null,_horizontalAlign:null,_verticalAlign:null,_kerning:null,_leading:null,copyFrom:function(a){this._font=a._font;this._size=a._size;this._color=a._color;this._bold=a._bold;this._italic=a._italic;this._underline=a._underline;this._horizontalAlign=a._horizontalAlign;this._verticalAlign=a._verticalAlign;this._kerning=a._kerning;this._leading=a._leading;this.dispatchEventWith("change")},
clone:function(){var a=new qd;a.copyFrom(this);return a},setTo:function(a,b,c,d,e){null==e&&(e="center");null==d&&(d="center");null==c&&(c=0);null==b&&(b=12);null==a&&(a="Verdana");this._font=a;this._size=b;this._color=c;this._horizontalAlign=d;this._verticalAlign=e;this.dispatchEventWith("change")},toNativeFormat:function(a){null==a&&(a=new od);a.font=this._font;a.size=this._size|0;a.color=this._color;a.bold=this._bold;a.italic=this._italic;a.underline=this._underline;a.align=$h.fromString(this._horizontalAlign);
a.kerning=this._kerning;a.leading=this._leading|0;return a},get_font:function(){return this._font},set_font:function(a){a!=this._font&&(this._font=a,this.dispatchEventWith("change"));return a},get_size:function(){return this._size},set_size:function(a){a!=this._size&&(this._size=a,this.dispatchEventWith("change"));return a},get_color:function(){return this._color},set_color:function(a){a!=this._color&&(this._color=a,this.dispatchEventWith("change"));return a},get_bold:function(){return this._bold},
set_bold:function(a){a!=this._bold&&(this._bold=a,this.dispatchEventWith("change"));return a},get_italic:function(){return this._italic},get_horizontalAlign:function(){return this._horizontalAlign},set_horizontalAlign:function(a){if(!tg.isValidHorizontal(a))throw new n(new sa("Invalid horizontal alignment"));a!=this._horizontalAlign&&(this._horizontalAlign=a,this.dispatchEventWith("change"));return a},get_verticalAlign:function(){return this._verticalAlign},set_verticalAlign:function(a){if(!tg.isValidVertical(a))throw new n(new sa("Invalid vertical alignment"));
a!=this._verticalAlign&&(this._verticalAlign=a,this.dispatchEventWith("change"));return a},get_kerning:function(){return this._kerning},get_leading:function(){return this._leading},__class__:qd,__properties__:{get_leading:"get_leading",get_kerning:"get_kerning",set_verticalAlign:"set_verticalAlign",get_verticalAlign:"get_verticalAlign",set_horizontalAlign:"set_horizontalAlign",get_horizontalAlign:"get_horizontalAlign",get_italic:"get_italic",set_bold:"set_bold",get_bold:"get_bold",set_color:"set_color",
get_color:"get_color",set_size:"set_size",get_size:"get_size",set_font:"set_font",get_font:"get_font"}});var sg=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);this._scale=1;La.call(this,a,b,c,d)};h["starling.text.BitmapDataEx"]=sg;sg.__name__=["starling","text","BitmapDataEx"];sg.__super__=La;sg.prototype=q(La.prototype,{_scale:null,get_scale:function(){return this._scale},set_scale:function(a){return this._scale=a},__class__:sg,__properties__:{set_scale:"set_scale",get_scale:"get_scale"}});var xh=
function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!0);null==b&&(b=!1);null==a&&(a=1);null==c&&(c=1);this._scale=a;this._format=c;this._mipMapping=b;this._forcePotTexture=e;this._premultipliedAlpha=d};h["starling.textures.TextureOptions"]=xh;xh.__name__=["starling","textures","TextureOptions"];xh.prototype={_scale:null,_format:null,_mipMapping:null,_premultipliedAlpha:null,_forcePotTexture:null,__class__:xh};var da=function(){};h["starling.textures.Texture"]=da;da.__name__=["starling","textures","Texture"];
da.__properties__={get_maxSize:"get_maxSize"};da.fromBitmapData=function(a,b,c,d,e,f){null==f&&(f=!1);null==d&&(d=1);null==c&&(c=!1);null==b&&(b=!1);null==e&&(e=1);var g=da.empty(a.width/d,a.height/d,!0,b,c,d,e,f);g.get_root().uploadBitmapData(a);g.get_root().set_onRestore(function(){g.get_root().uploadBitmapData(a)});return g};da.empty=function(a,b,c,d,e,f,g,h){null==h&&(h=!1);null==f&&(f=-1);null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!0);0>=f&&(f=x.get_sContentScaleFactor());null==g&&(g=1);var k,
m;m=x.get_sContext();if(null==m)throw new n(new sd);var q=a*f,r=b*f;h||d||1==x.get_current().get_profile()||3==g||4==g?(h=Y.getNextPowerOfTwo(q),k=Y.getNextPowerOfTwo(r),m=m.createTexture(h,k,g,e),c=new Yc(m,g,h,k,d,c,e,f)):(h=Math.ceil(q-1E-9),k=Math.ceil(r-1E-9),m=m.createRectangleTexture(h,k,g,e),c=new ug(m,g,h,k,c,e,f));c.set_onRestore(p(c,c.clear));return.001>h-q&&.001>k-r?c:new uc(c,new O(0,0,a,b),!0)};da.fromTexture=function(a,b,c,d,e){null==e&&(e=1);null==d&&(d=!1);return new uc(a,b,!1,c,
d,e)};da.get_maxSize=function(){var a=x.get_current(),a=null!=a?a.get_profile():0;return 0==a||1==a?2048:4096};da.prototype={dispose:function(){},setupVertexPositions:function(a,b,c,d){null==c&&(c="position");null==b&&(b=0);var e=this.get_frame(),f=this.get_width(),g=this.get_height();null!=e?da.sRectangle.setTo(-e.x,-e.y,f,g):da.sRectangle.setTo(0,0,f,g);a.setPoint(b,c,da.sRectangle.get_left(),da.sRectangle.get_top());a.setPoint(b+1,c,da.sRectangle.get_right(),da.sRectangle.get_top());a.setPoint(b+
2,c,da.sRectangle.get_left(),da.sRectangle.get_bottom());a.setPoint(b+3,c,da.sRectangle.get_right(),da.sRectangle.get_bottom());null!=d&&(e=d.width/this.get_frameWidth(),f=d.height/this.get_frameHeight(),1!=e||1!=f||0!=d.x||0!=d.y)&&(da.sMatrix.identity(),da.sMatrix.scale(e,f),da.sMatrix.translate(d.x,d.y),a.transformPoints(c,da.sMatrix,b,4))},setupTextureCoordinates:function(a,b,c){null==c&&(c="texCoords");null==b&&(b=0);this.setTexCoords(a,b,c,0,0);this.setTexCoords(a,b+1,c,1,0);this.setTexCoords(a,
b+2,c,0,1);this.setTexCoords(a,b+3,c,1,1)},localToGlobal:function(a,b,c){null==c&&(c=new X);this==this.get_root()?c.setTo(a,b):H.transformCoords(this.get_transformationMatrixToRoot(),a,b,c);return c},globalToLocal:function(a,b,c){null==c&&(c=new X);this==this.get_root()?c.setTo(a,b):(da.sMatrix.identity(),da.sMatrix.copyFrom(this.get_transformationMatrixToRoot()),da.sMatrix.invert(),H.transformCoords(da.sMatrix,a,b,c));return c},setTexCoords:function(a,b,c,d,e){this.localToGlobal(d,e,da.sPoint);a.setPoint(b,
c,da.sPoint.x,da.sPoint.y)},getTexCoords:function(a,b,c,d){null==c&&(c="texCoords");null==d&&(d=new X);a.getPoint(b,c,d);return this.globalToLocal(d.x,d.y,d)},get_frame:function(){return null},get_frameWidth:function(){return null!=this.get_frame()?this.get_frame().width:this.get_width()},get_frameHeight:function(){return null!=this.get_frame()?this.get_frame().height:this.get_height()},get_width:function(){return 0},get_height:function(){return 0},get_scale:function(){return 1},get_base:function(){return null},
get_root:function(){return null},get_format:function(){return 1},get_mipMapping:function(){return!1},get_premultipliedAlpha:function(){return!1},get_transformationMatrixToRoot:function(){return null},__class__:da,__properties__:{get_transformationMatrixToRoot:"get_transformationMatrixToRoot",get_premultipliedAlpha:"get_premultipliedAlpha",get_mipMapping:"get_mipMapping",get_format:"get_format",get_root:"get_root",get_base:"get_base",get_scale:"get_scale",get_height:"get_height",get_width:"get_width",
get_frameHeight:"get_frameHeight",get_frameWidth:"get_frameWidth",get_frame:"get_frame"}};var Ic=function(a,b,c,d,e,f,g,h){null==h&&(h=1);null==g&&(g=!1);this._scale=0>=h?1:h;this._base=a;this._format=b;this._width=c;this._height=d;this._mipMapping=e;this._premultipliedAlpha=f;this._optimizedForRenderTexture=g;this._onRestore=null;this._dataUploaded=!1};h["starling.textures.ConcreteTexture"]=Ic;Ic.__name__=["starling","textures","ConcreteTexture"];Ic.__super__=da;Ic.prototype=q(da.prototype,{_base:null,
_format:null,_width:null,_height:null,_mipMapping:null,_premultipliedAlpha:null,_optimizedForRenderTexture:null,_scale:null,_onRestore:null,_dataUploaded:null,dispose:function(){null!=this._base&&this._base.dispose();this.set_onRestore(null);da.prototype.dispose.call(this)},uploadBitmapData:function(a){throw new n(new ng);},onContextCreated:function(){this._dataUploaded=!1;this._base=this.createBase();this._onRestore();this._dataUploaded||this.clear()},createBase:function(){throw new n(new Od);},
clear:function(a,b){null==b&&(b=0);null==a&&(a=0);this._premultipliedAlpha&&1>b&&(a=Xb.rgb(Xb.getRed(a)*b|0,Xb.getGreen(a)*b|0,Xb.getBlue(a)*b|0));var c=x.get_sPainter();c.pushState();c.get_state().set_renderTarget(this);try{c.clear(a,b)}catch(d){if(d instanceof n&&(d=d.val),!w.__instanceof(d,wa))throw d;}c.popState();this.setDataUploaded()},setDataUploaded:function(){this._dataUploaded=!0},get_optimizedForRenderTexture:function(){return this._optimizedForRenderTexture},get_isPotTexture:function(){return!1},
set_onRestore:function(a){x.get_current().removeEventListener("context3DCreate",p(this,this.onContextCreated));null!=a?(this._onRestore=a,x.get_current().addEventListener("context3DCreate",p(this,this.onContextCreated))):this._onRestore=null;return a},get_base:function(){return this._base},get_root:function(){return this},get_format:function(){return this._format},get_width:function(){return this._width/this._scale},get_height:function(){return this._height/this._scale},get_nativeWidth:function(){return this._width},
get_nativeHeight:function(){return this._height},get_scale:function(){return this._scale},get_mipMapping:function(){return this._mipMapping},get_premultipliedAlpha:function(){return this._premultipliedAlpha},__class__:Ic,__properties__:q(da.prototype.__properties__,{set_onRestore:"set_onRestore",get_isPotTexture:"get_isPotTexture",get_optimizedForRenderTexture:"get_optimizedForRenderTexture"})});var Yc=function(a,b,c,d,e,f,g,h){null==h&&(h=1);null==g&&(g=!1);Ic.call(this,a,b,c,d,e,f,g,h);if(c!=Y.getNextPowerOfTwo(c))throw new n(new sa("width must be a power of two"));
if(d!=Y.getNextPowerOfTwo(d))throw new n(new sa("height must be a power of two"));};h["starling.textures.ConcretePotTexture"]=Yc;Yc.__name__=["starling","textures","ConcretePotTexture"];Yc.__super__=Ic;Yc.prototype=q(Ic.prototype,{dispose:function(){Ic.prototype.dispose.call(this)},createBase:function(){return x.get_sContext().createTexture(this.get_nativeWidth()|0,this.get_nativeHeight()|0,this.get_format(),this.get_optimizedForRenderTexture())},uploadBitmapData:function(a){this.get_potBase().uploadFromBitmapData(a);
var b=null;if(a.width!=this.get_nativeWidth()||a.height!=this.get_nativeHeight())b=new La(this.get_nativeWidth()|0,this.get_nativeHeight()|0,!0,0),b.copyPixels(a,a.rect,Yc.sOrigin),a=b;if(this.get_mipMapping()&&1<a.width&&1<a.height){var c=a.width>>1,d=a.height>>1,e=1,f=new La(c,d,!0,0),g=Yc.sRectangle,h=Yc.sMatrix;for(h.setTo(.5,0,0,.5,0,0);1<=c||1<=d;)g.setTo(0,0,c,d),f.fillRect(g,0),f.draw(a,h,null,null,null,!0),this.get_potBase().uploadFromBitmapData(f,e++),h.scale(.5,.5),c>>=1,d>>=1;f.dispose()}null!=
b&&b.dispose();this.setDataUploaded()},get_isPotTexture:function(){return!0},get_potBase:function(){return this.get_base()},__class__:Yc,__properties__:q(Ic.prototype.__properties__,{get_potBase:"get_potBase"})});var ug=function(a,b,c,d,e,f,g){null==g&&(g=1);null==f&&(f=!1);Ic.call(this,a,b,c,d,!1,e,f,g)};h["starling.textures.ConcreteRectangleTexture"]=ug;ug.__name__=["starling","textures","ConcreteRectangleTexture"];ug.__super__=Ic;ug.prototype=q(Ic.prototype,{uploadBitmapData:function(a){this.get_rectangleBase().uploadFromBitmapData(a);
this.setDataUploaded()},createBase:function(){return x.get_sContext().createRectangleTexture(this.get_nativeWidth()|0,this.get_nativeHeight()|0,this.get_format(),this.get_optimizedForRenderTexture())},get_rectangleBase:function(){return this.get_base()},__class__:ug,__properties__:q(Ic.prototype.__properties__,{get_rectangleBase:"get_rectangleBase"})});var uc=function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=!1);null==c&&(c=!1);this.setTo(a,b,c,d,e,f)};h["starling.textures.SubTexture"]=uc;uc.__name__=
["starling","textures","SubTexture"];uc.__super__=da;uc.prototype=q(da.prototype,{_parent:null,_ownsParent:null,_region:null,_frame:null,_rotated:null,_width:null,_height:null,_scale:null,_transformationMatrix:null,_transformationMatrixToRoot:null,setTo:function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=!1);null==c&&(c=!1);null==this._region&&(this._region=new O);null!=b?this._region.copyFrom(b):this._region.setTo(0,0,a.get_width(),a.get_height());null!=d?null!=this._frame?this._frame.copyFrom(d):this._frame=
d.clone():this._frame=null;this._parent=a;this._ownsParent=c;this._rotated=e;this._width=(e?this._region.height:this._region.width)/f;this._height=(e?this._region.width:this._region.height)/f;this._scale=this._parent.get_scale()*f;null!=this._frame&&(0<this._frame.x||0<this._frame.y||this._frame.get_right()<this._width||this._frame.get_bottom()<this._height)&&hb.trace("[Starling] Warning: frames inside the texture's region are unsupported.",{fileName:"SubTexture.hx",lineNumber:97,className:"starling.textures.SubTexture",
methodName:"setTo"});this.updateMatrices()},updateMatrices:function(){null!=this._transformationMatrix?this._transformationMatrix.identity():this._transformationMatrix=new fa;null!=this._transformationMatrixToRoot?this._transformationMatrixToRoot.identity():this._transformationMatrixToRoot=new fa;this._rotated&&(this._transformationMatrix.translate(0,-1),this._transformationMatrix.rotate(Math.PI/2));this._transformationMatrix.scale(this._region.width/this._parent.get_width(),this._region.height/this._parent.get_height());
this._transformationMatrix.translate(this._region.x/this._parent.get_width(),this._region.y/this._parent.get_height());for(var a=this;null!=a;)this._transformationMatrixToRoot.concat(a._transformationMatrix),a=a.get_parent(),a=w.__instanceof(a,uc)?a:null},dispose:function(){this._ownsParent&&this._parent.dispose();da.prototype.dispose.call(this)},get_parent:function(){return this._parent},get_transformationMatrixToRoot:function(){return this._transformationMatrixToRoot},get_base:function(){return this._parent.get_base()},
get_root:function(){return this._parent.get_root()},get_format:function(){return this._parent.get_format()},get_width:function(){return this._width},get_height:function(){return this._height},get_mipMapping:function(){return this._parent.get_mipMapping()},get_premultipliedAlpha:function(){return this._parent.get_premultipliedAlpha()},get_scale:function(){return this._scale},get_frame:function(){return this._frame},__class__:uc,__properties__:q(da.prototype.__properties__,{get_parent:"get_parent"})});
var Wc=function(a,b,c,d,e){null==d&&(d=-1);null==c&&(c=!0);null==e&&(e=1);this._isPersistent=c;this._activeTexture=da.empty(a,b,!0,!1,!0,d,e);this._activeTexture.get_root().set_onRestore((vd=this._activeTexture.get_root(),p(vd,vd.clear)));uc.call(this,this._activeTexture,new O(0,0,a,b),!0,null,!1);c&&Wc.get_useDoubleBuffering()&&(this._bufferTexture=da.empty(a,b,!0,!1,!0,d,e),this._bufferTexture.get_root().set_onRestore((vd=this._bufferTexture.get_root(),p(vd,vd.clear))),this._helperImage=new z(this._bufferTexture),
this._helperImage.set_textureSmoothing("none"))};h["starling.textures.RenderTexture"]=Wc;Wc.__name__=["starling","textures","RenderTexture"];Wc.__properties__={get_useDoubleBuffering:"get_useDoubleBuffering"};Wc.get_useDoubleBuffering=function(){if(null!=x.get_current()){var a=x.get_sPainter(),b=a.get_sharedData(),c=null!=m["starling.textures.RenderTexture.useDoubleBuffering"]?b.getReserved("starling.textures.RenderTexture.useDoubleBuffering"):b.h["starling.textures.RenderTexture.useDoubleBuffering"];
if(null!=c)return c;a=null!=a.get_profile()?a.get_profile():0;a=0==a||1==a;null!=m["starling.textures.RenderTexture.useDoubleBuffering"]?b.setReserved("starling.textures.RenderTexture.useDoubleBuffering",a):b.h["starling.textures.RenderTexture.useDoubleBuffering"]=a;return a}return!1};Wc.__super__=uc;Wc.prototype=q(uc.prototype,{_activeTexture:null,_bufferTexture:null,_helperImage:null,_drawing:null,_bufferReady:null,_isPersistent:null,dispose:function(){this._activeTexture.dispose();this.get_isDoubleBuffered()&&
(this._bufferTexture.dispose(),this._helperImage.dispose());uc.prototype.dispose.call(this)},draw:function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);null!=a&&(this._drawing?this.render(a,b,c):this.renderBundled(p(this,this.render),a,b,c,d))},drawBundled:function(a,b){null==b&&(b=0);this.renderBundled(a,null,null,1,b)},render:function(a,b,c){null==c&&(c=1);var d=x.get_sPainter(),e=d.get_state(),f=a.get_filter(),g=a.get_mask();d.pushState();e.set_alpha(e.get_alpha()*c);e.setModelviewMatricesToIdentity();
e.set_blendMode("auto"==a.get_blendMode()?"normal":a.get_blendMode());null!=b?e.transformModelviewMatrix(b):e.transformModelviewMatrix(a.get_transformationMatrix());null!=g&&d.drawMask(g);null!=f?f.render(d):a.render(d);null!=g&&d.eraseMask(g);d.popState()},renderBundled:function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=1);var f=x.get_sPainter(),g=f.get_state();if(x.get_current().get_contextValid()){if(this.get_isDoubleBuffered()){var h=this._activeTexture;this._activeTexture=this._bufferTexture;this._bufferTexture=
h;this._helperImage.set_texture(this._bufferTexture)}f.pushState();h=this._activeTexture.get_root();g.setProjectionMatrix(0,0,h.get_width(),h.get_height(),this.get_width(),this.get_height());Wc.sClipRect.setTo(0,0,this._activeTexture.get_width(),this._activeTexture.get_height());g.set_clipRect(Wc.sClipRect);g.setRenderTarget(this._activeTexture,!0,e);f.prepareToDraw();!this.get_isDoubleBuffered()&&this.get_isPersistent()&&this._bufferReady||f.clear();this.get_isDoubleBuffered()&&this._bufferReady?
this._helperImage.render(f):this._bufferReady=!0;this._drawing=!0;a(b,c,d);this._drawing=!1;f.popState()}},get_isDoubleBuffered:function(){return null!=this._bufferTexture},get_isPersistent:function(){return this._isPersistent},get_base:function(){return this._activeTexture.get_base()},get_root:function(){return this._activeTexture.get_root()},__class__:Wc,__properties__:q(uc.prototype.__properties__,{get_isPersistent:"get_isPersistent",get_isDoubleBuffered:"get_isDoubleBuffered"})});var qe=function(a,
b){this._subTextures=new T;this._atlasTexture=a;null!=b&&this.parseAtlasXml(b)};h["starling.textures.TextureAtlas"]=qe;qe.__name__=["starling","textures","TextureAtlas"];qe.parseBool=function(a){return null!=a?"true"==a.toLowerCase():!1};qe.prototype={_atlasTexture:null,_subTextures:null,_subTextureNames:null,dispose:function(){this._atlasTexture.dispose()},parseAtlasXml:function(a){var b=this._atlasTexture.get_scale(),c=new O,d=new O;for(a=a.firstElement().elementsNamed("SubTexture");a.hasNext();){var e=
a.next(),f=rd.clean(e.get("name")),g=parseFloat(e.get("x"))/b,h=parseFloat(e.get("y"))/b,k=parseFloat(e.get("width"))/b,m=parseFloat(e.get("height"))/b,n=parseFloat(e.get("frameX"))/b,p=parseFloat(e.get("frameY"))/b,q=parseFloat(e.get("frameWidth"))/b,r=parseFloat(e.get("frameHeight"))/b,e=qe.parseBool(e.get("rotated"));c.setTo(g,h,k,m);d.setTo(n,p,q,r);0<q&&0<r?this.addRegion(f,c,d,e):this.addRegion(f,c,null,e)}},getTexture:function(a){var b=this._subTextures;return null!=m[a]?b.getReserved(a):b.h[a]},
getNames:function(a,b){null==a&&(a="");null==b&&(b=[]);if(null==this._subTextureNames){this._subTextureNames=[];for(var c=this._subTextures.keys();c.hasNext();){var d=c.next();this._subTextureNames[this._subTextureNames.length]=d}this._subTextureNames.sort(p(this,this.compare))}c=0;for(d=this._subTextureNames;c<d.length;){var e=d[c];++c;0==e.indexOf(a)&&(b[b.length]=e)}return b},addRegion:function(a,b,c,d){null==d&&(d=!1);var e=this._subTextures;b=new uc(this._atlasTexture,b,!1,c,d);null!=m[a]?e.setReserved(a,
b):e.h[a]=b;this._subTextureNames=null},compare:function(a,b){return a<b?-1:a>b?1:0},__class__:qe};var tg=function(){};h["starling.utils.Align"]=tg;tg.__name__=["starling","utils","Align"];tg.isValidHorizontal=function(a){return"left"!=a&&"center"!=a?"right"==a:!0};tg.isValidVertical=function(a){return"top"!=a&&"center"!=a?"bottom"==a:!0};var Ka=function(){};h["starling.utils.ArrayUtil"]=Ka;Ka.__name__=["starling","utils","ArrayUtil"];Ka.resize=function(a,b,c){var d=a.length;if(b<d)a.splice(b,d-b);
else if(b>d)for(;d<b;){var e=d++;a[e]=c}};Ka.clear=function(a){a.splice(0,a.length)};var ud=function(a,b){null==b&&(b=!1);null==a&&(a=1);this._defaultTextureOptions=new xh(a,b);this._textures=new T;this._atlases=new T;this._sounds=new T;this._xmls=new T;this._objects=new T;this._byteArrays=new T;this._numConnections=3;this._verbose=!0;this._queue=[]};h["starling.utils.AssetManager"]=ud;ud.__name__=["starling","utils","AssetManager"];ud.__super__=Ja;ud.prototype=q(Ja.prototype,{_defaultTextureOptions:null,
_numConnections:null,_verbose:null,_queue:null,_textures:null,_atlases:null,_sounds:null,_xmls:null,_objects:null,_byteArrays:null,getTexture:function(a){var b=this._textures;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this._textures,null!=m[a]?b.getReserved(a):b.h[a];b=this._atlases;for(b=new Md(b,b.arrayKeys());b.hasNext();){var c=b.next().getTexture(a);if(null!=c)return c}return null},getTextures:function(a,b){null==a&&(a="");null==b&&(b=[]);for(var c=0,d=this.getTextureNames(a,
ud.sNames);c<d.length;){var e=d[c];++c;b[b.length]=this.getTexture(e)}Ka.clear(ud.sNames);return b},getTextureNames:function(a,b){null==a&&(a="");b=this.getDictionaryKeys(this._textures,a,b);for(var c=this._atlases,c=new Md(c,c.arrayKeys());c.hasNext();)c.next().getNames(a,b);b.sort(p(this,this.compare));return b},getSound:function(a){var b=this._sounds;return null!=m[a]?b.getReserved(a):b.h[a]},addTexture:function(a,b){this.log("Adding texture '"+a+"'");var c=this._textures;if(null!=m[a]?c.existsReserved(a):
c.h.hasOwnProperty(a))this.log("Warning: name was already in use; the previous texture will be replaced."),c=this._textures,(null!=m[a]?c.getReserved(a):c.h[a]).dispose();c=this._textures;null!=m[a]?c.setReserved(a,b):c.h[a]=b},addTextureAtlas:function(a,b){this.log("Adding texture atlas '"+a+"'");var c=this._atlases;if(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a))this.log("Warning: name was already in use; the previous atlas will be replaced."),c=this._atlases,(null!=m[a]?c.getReserved(a):
c.h[a]).dispose();c=this._atlases;null!=m[a]?c.setReserved(a,b):c.h[a]=b},addSound:function(a,b){this.log("Adding sound '"+a+"'");var c=this._sounds;(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a))&&this.log("Warning: name was already in use; the previous sound will be replaced.");c=this._sounds;null!=m[a]?c.setReserved(a,b):c.h[a]=b},log:function(a){this._verbose&&hb.trace("[AssetManager]",{fileName:"AssetManager.hx",lineNumber:1214,className:"starling.utils.AssetManager",methodName:"log",
customParams:[a]})},getDictionaryKeys:function(a,b,c){null==b&&(b="");null==c&&(c=[]);for(a=a.keys();a.hasNext();){var d=a.next();0==d.indexOf(b)&&(c[c.length]=d)}c.sort(p(this,this.compare));return c},compare:function(a,b){return a<b?-1:a>b?1:0},set_verbose:function(a){return this._verbose=a},__class__:ud,__properties__:{set_verbose:"set_verbose"}});var Xb=function(){};h["starling.utils.Color"]=Xb;Xb.__name__=["starling","utils","Color"];Xb.getRed=function(a){return a>>>16&255};Xb.getGreen=function(a){return a>>>
8&255};Xb.getBlue=function(a){return a&255};Xb.rgb=function(a,b,c){return a<<16|b<<8|c};Xb.interpolate=function(a,b,c){var d=a>>>24&255,e=a>>>16&255,f=a>>>8&255;a&=255;var g=b>>>16&255,h=b>>>8&255,k=b&255;b=Ca.toFloat((b>>>24&255)-d)*c;d=Ca.toFloat(d)+b|0;g=Ca.toFloat(g-e)*c;e=Ca.toFloat(e)+g|0;h=Ca.toFloat(h-f)*c;f=Ca.toFloat(f)+h|0;c*=Ca.toFloat(k-a);c=Ca.toFloat(a)+c|0;return d<<24|e<<16|f<<8|c};var Y=function(){};h["starling.utils.MathUtil"]=Y;Y.__name__=["starling","utils","MathUtil"];Y.intersectLineWithXYPlane=
function(a,b,c){null==c&&(c=new X);var d=b.y-a.y,e=-a.z/(b.z-a.z);c.x=a.x+e*(b.x-a.x);c.y=a.y+e*d;return c};Y.isPointInTriangle=function(a,b,c,d){var e=d.x-b.x,f=d.y-b.y;d=c.x-b.x;c=c.y-b.y;var g=a.x-b.x,h=a.y-b.y;a=e*e+f*f;b=e*d+f*c;e=e*g+f*h;f=d*d+c*c;d=d*g+c*h;c=1/(a*f-b*b);g=(f*e-b*d)*c;d=(a*d-b*e)*c;return 0<=g&&0<=d?1>g+d:!1};Y.normalizeAngle=function(a){a%=Y.TWO_PI;a<-Math.PI&&(a+=Y.TWO_PI);a>Math.PI&&(a-=Y.TWO_PI);return a};Y.getNextPowerOfTwo=function(a){var b=a|0;if(0<b&&0==(b&b-1))return b;
b=1;for(a-=1E-9;b<a;)b<<=1;return b};Y.isEquivalent=function(a,b,c){null==c&&(c=1E-4);return a-c<b?a+c>b:!1};Y.min=function(a,b){return a<b?a:b};Y.clamp=function(a,b,c){return a<b?b:a>c?c:a};Y.deg2rad=function(a){return a/180*Math.PI};Y.rad2deg=function(a){return a/Math.PI*180};Y.logicalOr=function(a,b){return a};var H=function(){};h["starling.utils.MatrixUtil"]=H;H.__name__=["starling","utils","MatrixUtil"];H.convertTo3D=function(a,b){null==b&&(b=new jb);H.sRawData.set(0,a.a);H.sRawData.set(1,a.b);
H.sRawData.set(4,a.c);H.sRawData.set(5,a.d);H.sRawData.set(12,a.tx);H.sRawData.set(13,a.ty);b.copyRawDataFrom(H.sRawData);return b};H.convertTo2D=function(a,b){null==b&&(b=new fa);a.copyRawDataTo(H.sRawData2);b.a=H.sRawData2.get(0);b.b=H.sRawData2.get(1);b.c=H.sRawData2.get(4);b.d=H.sRawData2.get(5);b.tx=H.sRawData2.get(12);b.ty=H.sRawData2.get(13);return b};H.transformPoint=function(a,b,c){return H.transformCoords(a,b.x,b.y,c)};H.transformCoords=function(a,b,c,d){null==d&&(d=new X);d.x=a.a*b+a.c*
c+a.tx;d.y=a.d*c+a.b*b+a.ty;return d};H.transformCoords3D=function(a,b,c,d,e){null==e&&(e=new Hb);a.copyRawDataTo(H.sRawData2);e.x=b*H.sRawData2.get(0)+c*H.sRawData2.get(4)+d*H.sRawData2.get(8)+H.sRawData2.get(12);e.y=b*H.sRawData2.get(1)+c*H.sRawData2.get(5)+d*H.sRawData2.get(9)+H.sRawData2.get(13);e.z=b*H.sRawData2.get(2)+c*H.sRawData2.get(6)+d*H.sRawData2.get(10)+H.sRawData2.get(14);e.w=b*H.sRawData2.get(3)+c*H.sRawData2.get(7)+d*H.sRawData2.get(11)+H.sRawData2.get(15);return e};H.skew=function(a,
b,c){var d=Math.sin(b);b=Math.cos(b);var e=Math.sin(c);c=Math.cos(c);a.setTo(a.a*c-a.b*d,a.a*e+a.b*b,a.c*c-a.d*d,a.c*e+a.d*b,a.tx*c-a.ty*d,a.tx*e+a.ty*b)};H.prependMatrix=function(a,b){a.setTo(a.a*b.a+a.c*b.b,a.b*b.a+a.d*b.b,a.a*b.c+a.c*b.d,a.b*b.c+a.d*b.d,a.tx+a.a*b.tx+a.c*b.ty,a.ty+a.b*b.tx+a.d*b.ty)};H.snapToPixels=function(a,b){var c=!1,d;0<a.b+1E-4&&0>a.b-1E-4&&0<a.c+1E-4&&0>a.c-1E-4?(c=a.a*a.a,d=a.d*a.d,c=1<c+1E-4&&1>c-1E-4&&1<d+1E-4?1>d-1E-4:!1):0<a.a+1E-4&&0>a.a-1E-4&&0<a.d+1E-4&&0>a.d-1E-4&&
(c=a.b*a.b,d=a.c*a.c,c=1<c+1E-4&&1>c-1E-4&&1<d+1E-4?1>d-1E-4:!1);c&&(a.tx=Math.round(a.tx/b)*b,a.ty=Math.round(a.ty/b)*b)};H.createPerspectiveProjectionMatrix=function(a,b,c,d,e,f,g,h){null==f&&(f=0);null==e&&(e=0);null==h&&(h=new jb);0>=e&&(e=c);0>=f&&(f=d);null==g&&(g=H.sPoint3D,g.setTo(e/2,f/2,e/Math.tan(.5)*.5));var k=Math.abs(g.z),m=g.x-e/2;g=g.y-f/2;var n=20*k;c=e/c;d=f/d;H.sMatrixData.set(0,2*k/e);H.sMatrixData.set(5,-2*k/f);H.sMatrixData.set(10,n/(n-1));H.sMatrixData.set(14,1*-n/(n-1));H.sMatrixData.set(11,
1);n=H.sMatrixData;n.set(0,n.get(0)*c);n=H.sMatrixData;n.set(5,n.get(5)*d);H.sMatrixData.set(8,c-1-2*c*(a-m)/e);H.sMatrixData.set(9,-d+1+2*d*(b-g)/f);h.copyRawDataFrom(H.sMatrixData);h.prependTranslation(-e/2-m,-f/2-g,k);return h};var ci=function(){};h["starling.utils.Max"]=ci;ci.__name__=["starling","utils","Max"];var Bc=function(){};h["starling.utils.MeshUtil"]=Bc;Bc.__name__=["starling","utils","MeshUtil"];Bc.containsPoint=function(a,b,c){var d,e=!1,f=b.get_numIndices(),g=W.getPoint(),h=W.getPoint(),
k=W.getPoint();for(d=0;d<f;){a.getPoint(b.getIndex(d),"position",g);a.getPoint(b.getIndex(d+1),"position",h);a.getPoint(b.getIndex(d+2),"position",k);if(Y.isPointInTriangle(c,g,h,k)){e=!0;break}d+=3}W.putPoint(g);W.putPoint(h);W.putPoint(k);return e};Bc.calculateBounds=function(a,b,c,d){null==d&&(d=new O);var e=b.get_stage();b.get_is3D()&&null!=e?(e.getCameraPosition(c,Bc.sPoint3D),b.getTransformationMatrix3D(c,Bc.sMatrix3D),a.getBoundsProjected("position",Bc.sMatrix3D,Bc.sPoint3D,0,-1,d)):(b.getTransformationMatrix(c,
Bc.sMatrix),a.getBounds("position",Bc.sMatrix,0,-1,d));return d};var W=function(){};h["starling.utils.Pool"]=W;W.__name__=["starling","utils","Pool"];W.getPoint=function(a,b){null==b&&(b=0);null==a&&(a=0);if(0==W.sPoints.length)return new X(a,b);var c=W.sPoints.pop();c.x=a;c.y=b;return c};W.putPoint=function(a){null!=a&&(W.sPoints[W.sPoints.length]=a)};W.getMatrix3D=function(a){null==a&&(a=!0);if(0==W.sMatrices3D.length)return new jb;var b=W.sMatrices3D.pop();a&&b.identity();return b};W.putMatrix3D=
function(a){null!=a&&(W.sMatrices3D[W.sMatrices3D.length]=a)};W.getRectangle=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);if(0==W.sRectangles.length)return new O(a,b,c,d);var e=W.sRectangles.pop();e.setTo(a,b,c,d);return e};W.putRectangle=function(a){null!=a&&(W.sRectangles[W.sRectangles.length]=a)};var aa=function(){};h["starling.utils.RectangleUtil"]=aa;aa.__name__=["starling","utils","RectangleUtil"];aa.intersect=function(a,b,c){null==c&&(c=new O);var d=a.x>b.x?
a.x:b.x,e=a.get_right()<b.get_right()?a.get_right():b.get_right(),f=a.y>b.y?a.y:b.y;a=a.get_bottom()<b.get_bottom()?a.get_bottom():b.get_bottom();d>e||f>a?c.setEmpty():c.setTo(d,f,e-d,a-f);return c};aa.fit=function(a,b,c,d,e){null==d&&(d=!1);null==c&&(c="showAll");if(!ei.isValid(c))throw new n(new sa("Invalid scaleMode: "+c));null==e&&(e=new O);var f=a.width;a=a.height;var g=b.width/f,h=b.height/a,k=1;"showAll"==c?(k=g<h?g:h,d&&(k=aa.nextSuitableScaleFactor(k,!1))):"noBorder"==c&&(k=g>h?g:h,d&&(k=
aa.nextSuitableScaleFactor(k,!0)));f*=k;a*=k;e.setTo(b.x+(b.width-f)/2,b.y+(b.height-a)/2,f,a);return e};aa.nextSuitableScaleFactor=function(a,b){var c=1;if(b){if(.5<=a)return Math.ceil(a);for(;1/(c+1)>a;)++c}else{if(1<=a)return Math.floor(a);for(;1/c>a;)++c}return 1/c};aa.extend=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);a.x-=b;a.y-=d;a.width+=b+c;a.height+=d+e};aa.getBounds=function(a,b,c){null==c&&(c=new O);var d=1.79E308,e=-1.79E308,f=1.79E308,g=-1.79E308;
a=aa.getPositions(a,aa.sPositions);for(var h=0;4>h;){var k=h++;H.transformCoords(b,a.get(k).x,a.get(k).y,aa.sPoint);d>aa.sPoint.x&&(d=aa.sPoint.x);e<aa.sPoint.x&&(e=aa.sPoint.x);f>aa.sPoint.y&&(f=aa.sPoint.y);g<aa.sPoint.y&&(g=aa.sPoint.y)}c.setTo(d,f,e-d,g-f);return c};aa.getBoundsProjected=function(a,b,c,d){null==d&&(d=new O);if(null==c)throw new n(new sa("camPos must not be null"));var e=1.79E308,f=-1.79E308,g=1.79E308,h=-1.79E308;a=aa.getPositions(a,aa.sPositions);for(var k=0;4>k;){var m=k++,
m=a.get(m);null!=b?H.transformCoords3D(b,m.x,m.y,0,aa.sPoint3D):aa.sPoint3D.setTo(m.x,m.y,0);Y.intersectLineWithXYPlane(c,aa.sPoint3D,aa.sPoint);e>aa.sPoint.x&&(e=aa.sPoint.x);f<aa.sPoint.x&&(f=aa.sPoint.x);g>aa.sPoint.y&&(g=aa.sPoint.y);h<aa.sPoint.y&&(h=aa.sPoint.y)}d.setTo(e,g,f-e,h-g);return d};aa.getPositions=function(a,b){null==b&&(b=qa.toObjectVector(null,4));for(var c=0;4>c;){var d=c++;null==b.get(d)&&b.set(d,new X)}b.get(0).x=a.get_left();b.get(0).y=a.get_top();b.get(1).x=a.get_right();b.get(1).y=
a.get_top();b.get(2).x=a.get_left();b.get(2).y=a.get_bottom();b.get(3).x=a.get_right();b.get(3).y=a.get_bottom();return b};aa.compare=function(a,b,c){null==c&&(c=1E-4);return null==a?null==b:null==b?!1:a.x>b.x-c&&a.x<b.x+c&&a.y>b.y-c&&a.y<b.y+c&&a.width>b.width-c&&a.width<b.width+c&&a.height>b.height-c?a.height<b.height+c:!1};var Ac=function(){};h["starling.utils.RenderUtil"]=Ac;Ac.__name__=["starling","utils","RenderUtil"];Ac.clear=function(a,b){null==b&&(b=0);null==a&&(a=0);x.get_sContext().clear(Xb.getRed(a)/
255,Xb.getGreen(a)/255,Xb.getBlue(a)/255,b)};Ac.getTextureVariantBits=function(a){if(null==a)return 0;var b=0,c=0;switch(a.get_format()){case 3:c=2;break;case 4:c=3;break;default:c=1}b|=c;a.get_premultipliedAlpha()||(b|=4);return b};Ac.setSamplerStateAt=function(a,b,c,d){null==d&&(d=!1);null==c&&(c="bilinear");d=d?2:0;"none"==c?(c=5,b=b?1:2):"bilinear"==c?(c=4,b=b?1:2):(c=4,b=b?0:2);x.get_sContext().setSamplerStateAt(a,d,c,b)};Ac.createAGALTexOperation=function(a,b,c,d,e,f){null==f&&(f="ft0");null==
e&&(e=!0);var g;switch(d.get_format()){case 3:g="dxt1";break;case 4:g="dxt5";break;default:g="rgba"}f=(d=e&&!d.get_premultipliedAlpha())&&"oc"==a?f:a;b="tex "+f+", "+b+", fs"+c+" <2d, "+g+">\n";d&&(b="oc"==a?b+("mul "+f+".xyz, "+f+".xyz, "+f+".www\n")+("mov "+a+", "+f):b+("mul "+a+".xyz, "+f+".xyz, "+f+".www\n"));return b};Ac.requestContext3D=function(a,b,c){var d;if("auto"==c)d="standardExtended standard standardConstrained baselineExtended baseline baselineConstrained".split(" ");else if("string"==
typeof c)d=[c];else if(c instanceof Array&&null==c.__enum__)d=c;else throw new n(new sa("Profile must be of type 'String' or 'Array'"));var e=null,f=null,g=null,h=g=function(){d.shift();try{a.requestContext3D(b)}catch(c){if(c instanceof n&&(c=c.val),w.__instanceof(c,wa))if(0!=d.length)vc.delay(g,1);else throw new n(c);else throw c;}},k=function(c){var g=a.context3D.driverInfo;0==b&&0!=d.length&&null!=g&&-1!=g.indexOf("Software")?e(c):f()},e=function(a){0!=d.length?(a.stopImmediatePropagation(),vc.delay(h,
1)):f()},f=function(){a.removeEventListener("context3DCreate",k);a.removeEventListener("error",e)};a.addEventListener("context3DCreate",k,!1,100);a.addEventListener("error",e,!1,100);h()};var ei=function(){};h["starling.utils.ScaleMode"]=ei;ei.__name__=["starling","utils","ScaleMode"];ei.isValid=function(a){return"none"!=a&&"noBorder"!=a?"showAll"==a:!0};var rd=function(){};h["starling.utils.StringUtil"]=rd;rd.__name__=["starling","utils","StringUtil"];rd.format=function(a,b){for(var c=0,d=b.length;c<
d;){var e=c++;a=a.replace(new RegExp("\\{"+e+"\\}","g"),b[e])}return a};rd.clean=function(a){return I.substr("_"+a,1,null)};rd.trim=function(a){var b=0,c;for(c=a.length;b<c&&!(32<I.cca(a,b));)++b;for(c=a.length-1;c>=b&&!(32<I.cca(a,c));)--c;return a.substring(b,c+1)};var ib=function(){};h["starling.utils.SystemUtil"]=ib;ib.__name__=["starling","utils","SystemUtil"];ib.__properties__={get_supportsDepthAndStencil:"get_supportsDepthAndStencil"};ib.initialize=function(){if(!ib.sInitialized){ib.sInitialized=
!0;ib.sPlatform=I.substr(Zc.get_version(),0,3);ib.sVersion=I.substr(Zc.get_version(),4,null);ib.sDesktop=(new Rb("(WIN|MAC|LNX)","")).match(ib.sPlatform);try{var a=oa.current;a.addEventListener("activate",ib.onActivate,!1,0,!0);a.addEventListener("deactivate",ib.onDeactivate,!1,0,!0)}catch(b){if(b instanceof n&&(b=b.val),w.__instanceof(b,wa))ib.sAIR=!1;else throw b;}}};ib.onActivate=function(a){ib.sApplicationActive=!0;a=0;for(var b=ib.sWaitingCalls;a<b.length;){var c=b[a];++a;try{c[0].apply(null,
c[1])}catch(d){if(d instanceof n&&(d=d.val),w.__instanceof(d,wa))hb.trace("[Starling] Error in 'executeWhenApplicationIsActive' call:",{fileName:"SystemUtil.hx",lineNumber:90,className:"starling.utils.SystemUtil",methodName:"onActivate",customParams:[d.message]});else throw d;}}ib.sWaitingCalls=[]};ib.onDeactivate=function(a){ib.sApplicationActive=!1};ib.get_supportsDepthAndStencil=function(){return ib.sSupportsDepthAndStencil};var Jc=function(a,b,c){null==c&&(c=32);null==b&&(b=128);Pc.call(this,
fb.get_assets().getTexture("button"),a);this.set_scale9Grid(new O(12.5,12.5,20,20));this.set_width(b);this.set_height(c)};h["utils.MenuButton"]=Jc;Jc.__name__=["utils","MenuButton"];Jc.__super__=Pc;Jc.prototype=q(Pc.prototype,{__class__:Jc});var yh=function(){};h["utils.ProgressBar"]=yh;yh.__name__=["utils","ProgressBar"];yh.__super__=Gb;yh.prototype=q(Gb.prototype,{__class__:yh});var eg=function(a,b,c){null==b&&(b="");Pc.call(this,a,b,c)};h["utils.RoundButton"]=eg;eg.__name__=["utils","RoundButton"];
eg.__super__=Pc;eg.prototype=q(Pc.prototype,{hitTest:function(a){if(!this.get_visible()||!this.get_touchable()||!this.hitTestMask(a))return null;var b=this.get_bounds(),c=b.height/2;return Math.pow(a.x-b.width/2,2)+Math.pow(a.y-c,2)<Math.pow(b.width/2-8,2)?this:null},__class__:eg});var ig=function(a){J.call(this);this.addEventListener("touch",p(this,this.onTouch));this.set_useHandCursor(!0);null!=a&&(a.set_x(a.get_width()/-2|0),a.set_y(a.get_height()/-2|0),this.addChild(a))};h["utils.TouchSheet"]=
ig;ig.__name__=["utils","TouchSheet"];ig.__super__=mb;ig.prototype=q(mb.prototype,{onTouch:function(a){var b=a.getTouches(this,"moved");if(1==b.length){var c=this.get_parent(),b=b[0].getMovement(c);this.set_x(this.get_x()+b.x);this.set_y(this.get_y()+b.y)}else if(2==b.length){var d=b[0],e=b[1],b=d.getLocation(this.get_parent()),f=d.getPreviousLocation(this.get_parent()),c=e.getLocation(this.get_parent()),g=e.getPreviousLocation(this.get_parent()),h=b.subtract(c),f=f.subtract(g),g=Math.atan2(h.y,h.x),
k=Math.atan2(f.y,f.x),g=g-k,d=d.getPreviousLocation(this),e=e.getPreviousLocation(this);this.set_pivotX(.5*(d.x+e.x));this.set_pivotY(.5*(d.y+e.y));this.set_x(.5*(b.x+c.x));this.set_y(.5*(b.y+c.y));this.set_rotation(this.get_rotation()+g);b=h.get_length()/f.get_length();this.set_scaleX(this.get_scaleX()*b);this.set_scaleY(this.get_scaleY()*b)}a=a.getTouch(this,"ended");null!=a&&2==a.get_tapCount()&&this.get_parent().addChild(this)},dispose:function(){this.removeEventListener("touch",p(this,this.onTouch));
mb.prototype.dispose.call(this)},__class__:ig});var vd,wi=0;h.Math=Math;String.prototype.__class__=h.String=String;String.__name__=["String"];h.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=h.Date=Date;Date.__name__=["Date"];var gi=h.Int={__name__:["Int"]},xi=h.Dynamic={__name__:["Dynamic"]},Dh=h.Float=Number;Dh.__name__=["Float"];var ji=h.Bool=Boolean;ji.__ename__=["Bool"];var hi=h.Class={__name__:["Class"]},ii={},m={},yd=zh.ArrayBuffer||kc;null==yd.prototype.slice&&(yd.prototype.slice=
kc.sliceImpl);var zc=zh.Float32Array||jd._new,Ec=zh.Uint8Array||kd._new,yi=new Uint32Array(256);y.__alpha16=yi;for(var qi=0;256>qi;){var ri=qi++;y.__alpha16[ri]=Math.ceil(257.00392156862745*ri)}var zi=new Ec(510);y.__clamp=zi;for(var si=0;255>si;){var ti=si++;y.__clamp[ti]=ti}for(var ui=255;511>ui;){var Ai=ui++;y.__clamp[Ai]=255}lc.level=3;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});je.maxTouchPoints=2;je.supportedGestures=null;je.supportsGestureEvents=
!1;je.inputMode=2;Cc.BITMAP_DATA=[2027613533,-881927360,202148514,-2028041698,-88080844,-8114179,2034947,-1092263897,352977282,-1337209332,-1181314416,-2136898414,1468709156,-2026903579,-1515657153,2101025806,-878458241,-79172757,-692798458,1038056207,1932393374,-1112681669,-1208165062,1741291262,2017257123,-899686453,984074419,-1245274149,-308890273,1055013549,1806563255,1754714962,1577746187,1124058786,-406208038,-1812738253,-1378383630,-551901968,866060213,1695195001,-1893385228,-1181619395,-1678445700,
1053798161,2093370968,-65941613,560451479,854767518,-1684725974,-15925948,-113394816,-263722323,587139110,1081376765,962217926,783603325,-689440871,-192965380,289204733,-1659827041,-840985601,-807112923,2132197241,-1130192222,-37326968,770238970,144664537,707141570,-1360534225,871272893,512964596,808491899,481894297,-1198984815,-696603140,1710636358,-1390950977,1751040139,596966466,1363963692,465815609,315567311,-4301137,-208944745,179721458,-2073232326,-352742308,1519355876,-1002643514,-361540066,
-980767403,-558739948,-448928871,603088884,-1617618069,-1087897969,-739691329,-1231913013,-1230390083,-882923117,693642210,-14453347,762928717,1802215333,-520117622,-73811966,970959395,557220237,2107226136,-785144314,-891682508,-29147277,898597576,991077243,2091615904,-960250408,633599866,-76187187,-2078966920,834870947,2118009742,1362731961,236280636,1274945142,1458729366,797960805,-1005597576,2103717340,-348561293,-1618444407,1624104606,1156993903,-1108796892,-2040468225,1204911924,1314218830,-987880904,
-1470691337,-455101617,2073394964,1873329433,1754205930,1528429545,1631106062,-2031694831,-74470249,-772073531,-653590993,707451487,-842470509,1390653868,-1674411503,1027328684,-875283820,-632773593,765701986,-486688164,786403271,-470531459,713234896,-33110897,-823036565,-301474417,1447960461,1398434593,1914230187,-1896324011,-138592832,-435628089,-1074267235,-921718534,-1108936862,1315917060,-1485114815,-286413393,-189355343,1599499652,-781109705,877854499,-96707841,-646407219,-1456931877,-1039373106,
-1829388839,-31462095,534904657,-1405705698,1358214576,1069250354,-424956739,-1666070713,-846356418,442343309,1024736866,-279848163,-1044100017,1513359261,-1852877700,1944476762,735490552,426990058,-60861185,1204305707,-963972031,-1896317928,-73919173,1724669255,-493851587,-805638506,-398564363,-598030357,-1457984001,-638216903,-945242784,-484551009,-639969688,-10512193,-2000027733,-87269364,642748805,-1817985657,-1975547398,572956615,-461728356,964924880,2081600351,-722508880,2056247513,1951368808,
2133449703,-1511238668,512866577,913279200,1678129016,-806388305,-921014367,-1731970345,-628908371,1664169178,1943591935,750675303,154399903,-1723376406,852654952,-177659530,1971649621,-114771476,1222535348,-11014081,-1414305060,-1577556316,1175907705,1157322027,505963121,-1663426680,-633739640,-703163943,-1670840475,1948662907,-698902193,1147387734,256773959,1173572460,-1933009825,-84091220,-1214786676,-830166086,-473313037,1465302035,-1443781839,-1151701152,-501786882,-926134193,-20296584,-821148188,
-807397964,773123355,1618635668,-1724791106,2075248691,1740805534,288646743,1837597401,603556968,-1112430424,673184603,-1206210243,-1397912892,-1102315980,-1409631494,1057233368,1118437241,-112840833,-1184502521,-981775682,-1933980022,735505357,-1302335871,-1934038485,-107132769,279183208,1586420003,1174008423,-231979707,1162167621,1162167621,1162167621,1162167621,1174119799,787274608];ci.UINT_MAX_VALUE=-1;L.__broadcastEvents=new T;L.__instanceCount=0;L.__worldRenderDirty=0;L.__worldTransformDirty=
0;Ra.GameWidth=320;Ra.GameHeight=480;Ra.CenterX=Ra.GameWidth/2|0;Ra.CenterY=Ra.GameHeight/2|0;Qb.__registeredFonts=[];Ja.sBubbleChains=[];fa.__identity=new fa;fa.__matrix3=new bf;fa.__temp=new fa;X.__temp=new X;O.__temp=new O;V.sAncestors=[];V.sHelperPoint=new X;V.sHelperPoint3D=new Hb;V.sHelperPointAlt3D=new Hb;V.sHelperRect=new O;V.sHelperMatrix=new fa;V.sHelperMatrixAlt=new fa;V.sHelperMatrix3D=new jb;V.sHelperMatrixAlt3D=new jb;J.sHelperMatrix=new fa;J.sHelperPoint=new X;J.sBroadcastListeners=
[];J.sSortBuffer=[];J.sCacheToken=new wd;P.Element=0;P.PCData=1;P.CData=2;P.Comment=3;P.DocType=4;P.ProcessingInstruction=5;P.Document=6;wc.USE_CACHE=!1;wc.USE_ENUM_INDEX=!1;wc.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";xc.DEFAULT_RESOLVER=new qf;xc.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";jc.count=0;Fc.i64tmp=new K(0,0);id.escapes=function(a){a=new T;null!=m.lt?a.setReserved("lt","<"):a.h.lt="<";null!=m.gt?a.setReserved("gt",">"):a.h.gt=
">";null!=m.amp?a.setReserved("amp","&"):a.h.amp="&";null!=m.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=m.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);w.__toStr={}.toString;jd.BYTES_PER_ELEMENT=4;kd.BYTES_PER_ELEMENT=1;we.windowID=0;ra.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Ea.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];vb.devices=new Ib;vb.onConnect=new Ng;nb.devices=new Ib;nb.onConnect=new Og;bc.onEnd=new ye;bc.onMove=new ye;bc.onStart=
new ye;va.cache=new Sg;va.libraries=new T;va.onChange=new ub;$a.cache=new Af;oa.current=new Gc;Tb.empty=new Tb;Wa.SIN45=.7071067811865476;Wa.TAN22=.41421356237309503;k.SIN45=.7071067811865476;k.TAN22=.41421356237309503;k.fillCommands=new Tb;k.strokeCommands=new Tb;Nb.limitedProfile=!0;G.debug=!1;cd.instances=new T;Je.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,
149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,
246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,
122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,
214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];nd.__rootURL=window.document.URL;lb.supportsVideoTexture=!0;lb.MAX_SAMPLERS=8;lb.MAX_ATTRIBUTES=16;lb.MAX_PROGRAM_REGISTERS=128;lb.__stateCache=new Yg;de.verbose=5==lc.level;Nc.__lowMemoryMode=!1;ja.CLICK="click";ja.DOUBLE_CLICK="doubleClick";ja.MIDDLE_CLICK="middleClick";ja.MIDDLE_MOUSE_DOWN="middleMouseDown";ja.MIDDLE_MOUSE_UP="middleMouseUp";ja.MOUSE_DOWN="mouseDown";
ja.MOUSE_MOVE="mouseMove";ja.MOUSE_OUT="mouseOut";ja.MOUSE_OVER="mouseOver";ja.MOUSE_UP="mouseUp";ja.MOUSE_WHEEL="mouseWheel";ja.RIGHT_CLICK="rightClick";ja.RIGHT_MOUSE_DOWN="rightMouseDown";ja.RIGHT_MOUSE_UP="rightMouseUp";ja.ROLL_OUT="rollOut";ja.ROLL_OVER="rollOver";Kb.TOUCH_BEGIN="touchBegin";Kb.TOUCH_END="touchEnd";Kb.TOUCH_MOVE="touchMove";Kb.TOUCH_OUT="touchOut";Kb.TOUCH_OVER="touchOver";Kb.TOUCH_ROLL_OUT="touchRollOut";Kb.TOUCH_ROLL_OVER="touchRollOver";Kb.TOUCH_TAP="touchTap";Cd.__blurShader=
new $f;Dd.__colorMatrixShader=new ag;Ed.__glowShader=new bg;pc.__soundChannels=[];pc.__soundTransform=new ie;ae.currentDomain=new ae(null);Zc.isDebugger=!1;Zc.playerType="OpenFL";Fa.numDevices=0;Fa.__deviceList=[];Fa.__devices=new jc;Fa.__instances=[];Wh.__cursor="auto";Pd.FRAME_TIME_WINDOW_SIZE=10;Pd.MAX_FAIL_COUNT=100;qc.sPool=[];pb.HINT_MARKER="#";pb.sTweenPool=[];x.sPainters=new jc;x.sAll=[];fc.sFormats=new T;gc.VERTEX_FORMAT=fc.fromString("position:float2");gc.sProgramNameCache=new T;R.VERTEX_FORMAT=
gc.VERTEX_FORMAT.extend("texCoords:float2");R.STD_VERTEX_SHADER="m44 op, va0, vc0 \nmov v0, va1";sc.VERTEX_FORMAT=R.VERTEX_FORMAT.extend("color:bytes4");sc.sRenderAlpha=qa.toFloatVector(null,4);Yb.VERTEX_FORMAT=sc.VERTEX_FORMAT;Yb.sPoint=new X;wb.sDefaultStyle=Yb;Va.sPoint3D=new Hb;Va.sMatrix=new fa;Va.sMatrix3D=new jb;z.sPadding=new le;z.sBounds=new O;z.sBasCols=qa.toFloatVector(null,3,!0);z.sBasRows=qa.toFloatVector(null,3,!0);z.sPosCols=qa.toFloatVector(null,3,!0);z.sPosRows=qa.toFloatVector(null,
3,!0);z.sTexCols=qa.toFloatVector(null,3,!0);z.sTexRows=qa.toFloatVector(null,3,!0);Jd.sFullMeshSubset=new Qe;Ob.E=1E-5;Ob.sHelperPoint=new Hb;Ob.sHelperPointAlt=new Hb;Ob.sHelperMatrix=new jb;Dc.sMatrix=new fa;Dc.sMatrix3D=new jb;bb.sEventPool=[];Xc.sHelperPoint=new X;hc.sTouches=[];Jb.sUpdatedTouches=[];Jb.sHoveringTouchData=[];Jb.sHelperPoint=new X;tc.HORIZONTAL="horizontal";tc.VERTICAL="vertical";tc.MAX_SIGMA=2;Pa.sMatrix=[];Hc.MIN_COLOR=function(a){a=[0,0,0,1E-4];for(var b=qa.toFloatVector(null),
c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Hc.IDENTITY=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];Hc.sMatrix=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];tb.VERTEX_FORMAT=R.VERTEX_FORMAT.extend("texCoords1:float2, texCoords2:float2, texCoords3:float2");tb.sLayers=[];tb.sOffset=function(a){a=[0,0,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);tb.sColor=function(a){a=[0,0,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=
c++;b.set(e,a[e])}return b}(this);Pb.VERTEX_FORMAT=R.VERTEX_FORMAT.extend("mapTexCoords:float2");Pb.sOffset=function(a){a=[.5,.5,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Pb.sMatrix=new jb;Pb.sMatrixData=function(a){a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);ec.sPadding=new le;Kd.sMatrix=new fa;Db.sRestIndices=[];oe.sMeshSubset=new Qe;Ma.sQuadData=th._new();
Ma.sQuadDataNumIndices=0;Ga.sMatrix=new fa;Ga.sPoint3D=new Hb;Ga.sClipRect=new O;Ga.sBufferRect=new O;Ga.sScissorRect=new O;Ga.sMeshSubset=new Qe;rc.sAssembler=new dg;td.sMatrix3D=new jb;N.sHelperPoint=new X;N.sHelperPoint3D=new Hb;N.sBytes=new Lc(0);Zb.sLines=[];Zb.sDefaultOptions=new rg;Ta.sInstancePool=[];Ta.sVectorPool=[];Ta.sInstanceLoan=[];Ta.sVectorLoan=[];Cc.XML_DATA=P.parse('\r\n      <font>\r\n      <info face="mini" size="8" bold="0" italic="0" smooth="0"/>\r\n      <common lineHeight="8" base="7" scaleW="128" scaleH="64" pages="1" packed="0"/>\r\n      <chars count="191">\r\n        <char id="195" x="1" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="209" x="7" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="213" x="13" y="1" width="5" height="9" xoffset="0" yoffset="-2" xadvance="6"/>\r\n        <char id="253" x="19" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="255" x="24" y="1" width="4" height="9" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="192" x="29" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="193" x="35" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="194" x="41" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="197" x="47" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="200" x="53" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="201" x="59" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="202" x="65" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="210" x="71" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="211" x="77" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="212" x="83" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="217" x="89" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="218" x="95" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="219" x="101" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="221" x="107" y="1" width="5" height="8" xoffset="0" yoffset="-1" xadvance="6"/>\r\n        <char id="206" x="113" y="1" width="3" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\r\n        <char id="204" x="117" y="1" width="2" height="8" xoffset="-1" yoffset="-1" xadvance="2"/>\r\n        <char id="205" x="120" y="1" width="2" height="8" xoffset="0" yoffset="-1" xadvance="2"/>\r\n        <char id="36"  x="1" y="11" width="5" height="7" xoffset="0" yoffset="1" xadvance="6"/>\r\n        <char id="196" x="7" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="199" x="13" y="11" width="5" height="7" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="203" x="19" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="214" x="25" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="220" x="31" y="11" width="5" height="7" xoffset="0" yoffset="0" xadvance="6"/>\r\n        <char id="224" x="37" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="225" x="42" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="226" x="47" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="227" x="52" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="232" x="57" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="233" x="62" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="234" x="67" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="235" x="72" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="241" x="77" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="242" x="82" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="243" x="87" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="244" x="92" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="245" x="97" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="249" x="102" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="250" x="107" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="251" x="112" y="11" width="4" height="7" xoffset="0" yoffset="0" xadvance="5"/>\r\n        <char id="254" x="117" y="11" width="4" height="7" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="123" x="122" y="11" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="125" x="1" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="167" x="5" y="19" width="3" height="7" xoffset="0" yoffset="1" xadvance="4"/>\r\n        <char id="207" x="9" y="19" width="3" height="7" xoffset="-1" yoffset="0" xadvance="2"/>\r\n        <char id="106" x="13" y="19" width="2" height="7" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="40" x="16" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="41" x="19" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="91" x="22" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="93" x="25" y="19" width="2" height="7" xoffset="0" yoffset="1" xadvance="3"/>\r\n        <char id="124" x="28" y="19" width="1" height="7" xoffset="1" yoffset="1" xadvance="4"/>\r\n        <char id="81" x="30" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="163" x="36" y="19" width="5" height="6" xoffset="0" yoffset="1" xadvance="6"/>\r\n        <char id="177" x="42" y="19" width="5" height="6" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="181" x="48" y="19" width="5" height="6" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="103" x="54" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="112" x="59" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="113" x="64" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="121" x="69" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="162" x="74" y="19" width="4" height="6" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="228" x="79" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="229" x="84" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="231" x="89" y="19" width="4" height="6" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="240" x="94" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="246" x="99" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="252" x="104" y="19" width="4" height="6" xoffset="0" yoffset="1" xadvance="5"/>\r\n        <char id="238" x="109" y="19" width="3" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\r\n        <char id="59" x="113" y="19" width="2" height="6" xoffset="0" yoffset="3" xadvance="4"/>\r\n        <char id="236" x="116" y="19" width="2" height="6" xoffset="-1" yoffset="1" xadvance="2"/>\r\n        <char id="237" x="119" y="19" width="2" height="6" xoffset="0" yoffset="1" xadvance="2"/>\r\n        <char id="198" x="1" y="27" width="9" height="5" xoffset="0" yoffset="2" xadvance="10"/>\r\n        <char id="190" x="11" y="27" width="8" height="5" xoffset="0" yoffset="2" xadvance="9"/>\r\n        <char id="87" x="20" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="188" x="28" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="189" x="36" y="27" width="7" height="5" xoffset="0" yoffset="2" xadvance="8"/>\r\n        <char id="38" x="44" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="164" x="51" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="208" x="58" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="8364" x="65" y="27" width="6" height="5" xoffset="0" yoffset="2" xadvance="7"/>\r\n        <char id="65" x="72" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="66" x="78" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="67" x="84" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="68" x="90" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="69" x="96" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="70" x="102" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="71" x="108" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="72" x="114" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="75" x="120" y="27" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="77" x="1" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="78" x="7" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="79" x="13" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="80" x="19" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="82" x="25" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="83" x="31" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="84" x="37" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="85" x="43" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="86" x="49" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="88" x="55" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="89" x="61" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="90" x="67" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="50" x="73" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="51" x="79" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="52" x="85" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="53" x="91" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="54" x="97" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="56" x="103" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="57" x="109" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="48" x="115" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="47" x="121" y="33" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="64" x="1" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="92" x="7" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="37" x="13" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="43" x="19" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="35" x="25" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="42" x="31" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="165" x="37" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="169" x="43" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="174" x="49" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="182" x="55" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="216" x="61" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="247" x="67" y="39" width="5" height="5" xoffset="0" yoffset="2" xadvance="6"/>\r\n        <char id="74" x="73" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="76" x="78" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="98" x="83" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="100" x="88" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="104" x="93" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="107" x="98" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="55" x="103" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="63" x="108" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="191" x="113" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="222" x="118" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="223" x="123" y="39" width="4" height="5" xoffset="0" yoffset="2" xadvance="5"/>\r\n        <char id="116" x="1" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="60" x="5" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="62" x="9" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="170" x="13" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="186" x="17" y="45" width="3" height="5" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="239" x="21" y="45" width="3" height="5" xoffset="-1" yoffset="2" xadvance="2"/>\r\n        <char id="102" x="25" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="49" x="28" y="45" width="2" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="73" x="31" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="105" x="33" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="108" x="35" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="33" x="37" y="45" width="1" height="5" xoffset="1" yoffset="2" xadvance="3"/>\r\n        <char id="161" x="39" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="166" x="41" y="45" width="1" height="5" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="109" x="43" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="119" x="51" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="230" x="59" y="45" width="7" height="4" xoffset="0" yoffset="3" xadvance="8"/>\r\n        <char id="97" x="67" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="99" x="72" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="101" x="77" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="110" x="82" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="111" x="87" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="115" x="92" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="117" x="97" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="118" x="102" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="120" x="107" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="122" x="112" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="215" x="117" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="248" x="122" y="45" width="4" height="4" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="114" x="1" y="51" width="3" height="4" xoffset="0" yoffset="3" xadvance="4"/>\r\n        <char id="178" x="5" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="179" x="9" y="51" width="3" height="4" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="185" x="13" y="51" width="1" height="4" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="61" x="15" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="171" x="21" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="172" x="27" y="51" width="5" height="3" xoffset="0" yoffset="4" xadvance="6"/>\r\n        <char id="187" x="33" y="51" width="5" height="3" xoffset="0" yoffset="3" xadvance="6"/>\r\n        <char id="176" x="39" y="51" width="3" height="3" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="44" x="43" y="51" width="2" height="3" xoffset="0" yoffset="6" xadvance="3"/>\r\n        <char id="58" x="46" y="51" width="1" height="3" xoffset="1" yoffset="3" xadvance="4"/>\r\n        <char id="94" x="48" y="51" width="4" height="2" xoffset="-1" yoffset="2" xadvance="4"/>\r\n        <char id="126" x="53" y="51" width="4" height="2" xoffset="0" yoffset="3" xadvance="5"/>\r\n        <char id="34" x="58" y="51" width="3" height="2" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="96" x="62" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="180" x="65" y="51" width="2" height="2" xoffset="0" yoffset="2" xadvance="3"/>\r\n        <char id="184" x="68" y="51" width="2" height="2" xoffset="0" yoffset="7" xadvance="3"/>\r\n        <char id="39" x="71" y="51" width="1" height="2" xoffset="0" yoffset="2" xadvance="2"/>\r\n        <char id="95" x="73" y="51" width="5" height="1" xoffset="0" yoffset="7" xadvance="6"/>\r\n        <char id="45" x="79" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\r\n        <char id="173" x="84" y="51" width="4" height="1" xoffset="0" yoffset="4" xadvance="5"/>\r\n        <char id="168" x="89" y="51" width="3" height="1" xoffset="1" yoffset="2" xadvance="5"/>\r\n        <char id="175" x="93" y="51" width="3" height="1" xoffset="0" yoffset="2" xadvance="4"/>\r\n        <char id="46" x="97" y="51" width="1" height="1" xoffset="0" yoffset="6" xadvance="2"/>\r\n        <char id="183" x="99" y="51" width="1" height="1" xoffset="0" yoffset="4" xadvance="2"/>\r\n        <char id="32" x="6" y="56" width="0" height="0" xoffset="0" yoffset="127" xadvance="3"/>\r\n      </chars>\r\n    </font>\r\n    ');
ua.sHelperMatrix=new fa;ua.sHelperQuad=new Va(100,100);ua.sNativeTextField=new oc;ua.sNativeFormat=new od;ka.sMatrix=new fa;ka.sTrueTypeCompositor=new ua;ka.sDefaultTextureFormat=1;ka.sStringCache=new T;da.sRectangle=new O;da.sMatrix=new fa;da.sPoint=new X;Yc.sMatrix=new fa;Yc.sRectangle=new O;Yc.sOrigin=new X;Wc.sClipRect=new O;ud.sNames=[];Y.TWO_PI=2*Math.PI;H.sRawData=function(a){a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);
H.sRawData2=function(a){a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);H.sPoint3D=new Hb;H.sMatrixData=function(a){a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var b=qa.toFloatVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);Bc.sPoint3D=new Hb;Bc.sMatrix=new fa;Bc.sMatrix3D=new jb;W.sPoints=[];W.sMatrices3D=[];W.sRectangles=[];aa.sPoint=new X;aa.sPoint3D=new Hb;aa.sPositions=function(a){a=[new X,
new X,new X,new X];for(var b=qa.toObjectVector(null),c=0,d=a.length;c<d;){var e=c++;b.set(e,a[e])}return b}(this);ib.sInitialized=!1;ib.sApplicationActive=!0;ib.sWaitingCalls=[];ib.sSupportsDepthAndStencil=!0;Za.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
